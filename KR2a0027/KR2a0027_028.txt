唐書卷二十八上
宋翰林學士歐陽修撰
志第十八上
歴志
開元大衍歴演紀上元閼逢困敦之歲距開元十二年
甲子積九千六百九十六萬一千七百四十算
一曰步中朔術
通法三千四十策實百一十一萬三百四十三揲
法八萬九千七百七十三減法九萬一千二百策
餘萬五千九百四十三用差萬七千一百二十四
掛限八萬七千一十八三元之策十五餘六百六十
四秒七四象之策二十九餘千六百一十三中盈
分千三百二十八秒十四朔虛分千四百二十七
象統二十四
以策實乘積算曰中積分盈通法得一為積日爻數去
之餘起甲子算外得天正中氣凡分為小餘日為大餘
加三元之策得次氣(凡率相因加者下有餘秒皆以類相從而滿法迭進用加上位日盈)
(爻數去之)以揲法去中積分不盡日歸餘之掛以減中積分
為朔積分如通法為日去命如前得天正經朔加一象
之日七餘千一百六十三少得上弦倍之得望參之得
下弦四之是謂一揲得後月朔(凡四分一為少三為太)綜中盈朔
虛分纍益歸餘之掛每其月閏衰(凡歸餘之掛五萬六千七百六十以上其)
(歲有閏因考其閏衰滿掛限以上其月合置閏或以進退皆以定朔無中氣裁焉)凡常氣小餘
不滿通法如中盈分之半已下者以象統乘之内秒分
參而伍之以減策實不盡如策餘為日命常氣初日算
外得沒日凡經朔小餘不滿朔虛分者以小餘減通法
餘倍參伍乘之用減滅法不盡如朔虛分為日命經朔
初日算外得滅日
二曰發斂術
天中之策五餘二百二十一秒三十一秒法七十二
地中之策六餘二百六十五秒八十六秒法百二十
貞悔之策三餘百三十二秒百三辰法七百六十
刻法三百四
各因中節命之得初候如天中之策得次候又加得末
候因中氣命之得公卦用事以地中之策絫加之得次
卦若以貞悔之策加侯卦得十有二節之初外卦用事
因四立命之得春木夏火秋金冬水用事以貞悔之策
減季月中氣得土王用事(凡相加減而秒母不齊當令母互乘子乃加減之母相乘)
(為法)
各以通法約其月閏衰為日得中氣去經朔日算求卦
候者各以天地之策累加減之凡發斂加時各置其小
餘以六爻乘之如辰法而一為半辰之數不盡者三約
為分(分滿刻法為刻若令滿象積為刻者即置不盡之數十之十九而一為分)命辰起子半
算外
三曰步日躔術
乾實百一十一萬三百七十九太周天度三百六十
五虛分七百七十九太歲差三十六太
以盈縮分盈減縮加三元之策為定氣所有日及餘乃
十二乘日又三其小餘辰法約而一從之為定氣辰數
不盡十之又約為分以所入氣并後氣盈縮分倍六爻
乘之綜兩氣辰數除之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而一以少減多餘為氣差至後以
差加末率分後以差減末率為初率倍氣差亦倍六爻
乘之復綜兩氣辰數除為日差半之以加減初末各為
定率以日差至後以减分後以加氣初定率為每日盈
縮分乃馴積之隨所入氣日加減氣下先後數各其日
定數其求朓朒放此(冬至後為陽復在盈加之在縮減之夏至後為隂復在縮加之在盈)
(減之距四正前一氣在隂陽變革之際不可相并皆因前末為初率以氣差至前加之分前減之為末率餘依)
(前術各得所求其分不滿全數母又每氣不同當退法除之以百為母半已上收成一)冬至夏至
偕得天地之中無有盈縮餘各以氣下先後數先減後
加常氣小餘滿若不足進退其日得定大小餘(凡推日月度及)
(軌漏交蝕依定氣注歴依常氣)以減經朔弦望各其所入日算若大餘
不足減加爻數乃減之減所入定氣日算一各以日差
乘而半之前少以加前多以減氣初定率以乘其所入
定氣日算及餘秒(凡除者先以母通全内子乃相乘母相乘除之)所得以損益
朓朒積各其入朓朒定數(若非朔望有交者以十二乘所入日算三其小餘辰法除)
(而從之以乘損益率如定氣辰數而一所得以損益朓朒積各為定數)南斗二十六牛八
婺女十二虛十(虛分七百七十九太)危十七營室十六東壁九奎
十六婁十二胃十四昴十一畢十七觜觽一參十東井
三十三輿鬼三柳十五七星七張十八翼十八軫十七
角十二亢九氐十五房五心五尾十八箕十一為赤道
度其畢觜觽參輿鬼四宿度數與古不同依天以儀測
定用為常數紘帶天中儀極攸憑以格黃道推冬至歲
差所在每距冬至前後各五度為限初數十二每限減
一盡九限數終於四當二立之際一度少彊依平乃距
春分前秋分後初限起四每限增一盡九限終於十二
而黃道交復計春分後秋分前亦五度為限初數十二
盡九限數終於四當二立之際一度少彊依平乃距夏
至前後初限起四盡九限終於十二皆絫裁之以數乘
限度百二十而一得度不滿者十二除為分(若以十除則大分十)
(二為母命太半少及彊弱)命曰黃赤道差數二至前後各九限以差
減赤道度二分前後各九限以差加赤道度各為黃道
度開元十二年南斗二十三半牛七半婺女十一少虛
十(六虛之差十九太)危十七太營室十七少東壁九太奎十七
半婁十二太胃十四太昴十一畢十六少觜觽一參九
少東井三十輿鬼二太柳十四少七星六太張十八太
翼十九少軫十八太角十三亢九半氐十五太房五心
四太尾十七箕十少為黃道度以步日行月與五星出
入循此(求此宿度皆有餘分前後載之成少半太凖為全度若上考往古下騐將來當據歲差每移一)
(度各依術算使得當時度分然後可以步三辰矣)以乾實去中積分不盡者盈
通法為度命起赤道虚九宿次去之經虚去分至不滿
宿算外得冬至加時日度(以三元之策累加之得次氣加時日度)以度餘
減通法餘以冬至日躔距度所入限數乘之為距前分
置距度下黃赤道差以通法乘之減去距前分餘滿百
二十除為定差不滿者以象統乘之復除為秒分乃以
定差減赤道宿度得冬至加時黃道日度又置歲差以
限數乘之滿百二十除為秒分不盡為小分以加三元
之策因絫裁之命以黃道宿次各得定氣加時日度置
其氣定小餘副之以乘其日盈縮分滿通法而一盈加
縮減其副用減其日加時度餘得其夜半日度因絫加
一策以其日盈縮分盈加縮減度餘得每日夜半日度
四曰步月離術
轉終六百七十萬一千二百七十九轉終日二十七
餘千六百八十五秒七十九轉法七十六轉秒法
八十
以秒法乘朔積分盈轉終去之餘復以秒法約為入轉
分滿通法為日命日筭外得天正經朔加時所入因加
轉差日一餘二千九百六十七秒一得次朔以一象之
各置朔弦望所入轉日損益率并後率而半之為通率
又二率相減為率差前多者以入餘減通法餘乘率差
盈通法得一并率差而半之前少者半入餘乘率差亦
以通法除之為加時轉率乃半之以損益加時所入餘
為轉餘其轉餘應益者減法應損者因餘皆以乘率差
盈通法得一加於通率轉率乘之通法約之以朓減朒
加轉率為定率乃以定率損益朓朒積為定數(其後無同率者)
(亦因前率應益者以通率為初數半率差而減之應損者即為通率其損益入餘進退日分為二日隨餘初末)
(如法求之所得並以損益轉率此術本出皇極歴以究算術之微變若非朔望有交者直以入餘乘損益率如)
(通法而一以損益朓朒為定數)七日(初數二千七百一末數三百三十九)十四日(初數二千三百)
(六十三末數六百七十七)二十一日(初數二千二十四末數千一十六)二十八日(初數)
(千六百八十六末數千三百五十四)以四象約轉終均得六日二千七百
一分就全數約為九分日之八各以減法餘為末數乃
四象馴變相加各其所當之日初末數也視入轉餘如
初數已下者加減損益因循前率如初數以上則反其
衰歸于後率云各置朔弦望大小餘以入氣入轉朓朒
定數朓減朒加之為定朔弦望大小餘定朔日各與後
朔同者月大不同者小無中氣者為閠月(凡言夜半皆起晨前子正)
(之中若注歴觀弦望定小餘不盈晨初餘數者退一日其望有交起虧在晨初已前者亦如之又月行九道遲)
(疾則有三大二小以日行盈縮累增損之則容有四大三小理數然也若俯循常儀當察加時早晚隨其所近)
(而進退之使不過三大三小其正月朔有交加時正見者消息前後一兩月以定大小令虧在晦二)定朔
弦望夜半日度各隨所直日度及餘分命之乃列定朔
望小餘副之以乘其日盈縮分如通法而一盈加縮減
其副以加夜半日度各得加時日度凡合朔所交冬在
隂歴夏在陽歴月行青道(冬至夏至後青道半交在春分之宿當黃道東立冬立夏)
(後青道半交在立春之宿當黃道東南至所衝之宿亦如之)冬在陽歴夏在隂歴月
行白道(冬至冬至後白道半交在秋分之宿當黃道西立冬立夏後白道半交在立秋之宿當黃道西)
(北至所衝之宿亦如之)春在陽歴秋在隂歴月行朱道(春分秋分後朱道半)
(交在夏至之宿當黃道南立春立秋後朱道半交在立夏之宿當黃道西南至所衝之宿亦如之)春在
隂歴秋在陽歴月行黑道(春分秋分後黑道半交在冬至之宿當黃道北立春立秋)
(後黑道半交在立冬之宿當黃道東北至所衝之宿亦如之)四序離為八節至隂陽
之所交行與黃道相會故月有九行各視月交所入七
十二候距交初中黃道日度每五度為限亦初數十二
每限減一數終於四乃一度彊依平更從四起每限增
一終於十二而至半交其去黃道六度又自十二每限
減一數終於四亦一度彊依平更從四起每限增一終
於十二復與日軌相會各累計其數以乘限度二百四
十而一得度不滿者二十四除為分(若以二十除之則大分以十二為母)
為月行與黃道差數距半交前後各九限以差數為減
距正交前後各九限以差數為加(此加減出入六度單與黃道相較之數若)
(較之赤道則隨氣遷變不常)計去冬至夏至以來候數乘黃道所差
十八而一為月行與赤道差數凡日以赤道内為隂外
為陽月以黃道内為隂外為陽故月行宿度入春分交
後行隂歴秋分交後行陽歴皆為同名若入春分交後
行陽歴秋分交後行隂歴皆為異名其在同名以差數
為加者加之減者減之若在異名以差數為加者減之
減者加之皆以增損黃道度為九道定度各以中氣去
經朔日算加其入交况乃以減交終得平交入中氣日
筭滿三元之策去之餘得入後節日算(因求次交者以交終加之滿三)
(元之策去之得後平交入氣日算)各以氣初先後數先加後減之得平
交入定氣日算倍六爻乘之三其小餘辰法除而從之
以乘其氣損益率如定氣辰數而一所得以損益其氣
朓朒積為定數又置平交所入定氣餘加其日夜半入
轉餘以乘其日損益率滿通法而一以損益其日朓朒
積交率乘之交數而一為定數乃以入氣入轉朓朒定
數朓減朒加平交入氣餘滿若不足進退日算為正交
入定氣日算其入定氣餘副之乘其日盈縮分滿通法
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
漢之交日已潛退其襲春秋舊歴者則以為在牽牛之
首其考當時之驗者則以為入建星度中然氣朔前後
不逾一日故漢歴冬至當在斗末以為建星上得太初
本星度此其明據也四分法雖疎而先賢謹於天事其
遷革之意俱有效於當時故太史公等觀二十八宿疎
密立晷儀下漏刻以稽晦朔分至躔離弦望其赤道遺
法後世無以非之故雜候清臺太初最密若當時日在
建星已直斗十三度則夀王調歴宜允得其中豈容頓
差一氣而未知其謬不能觀乎時變而欲厚誣古人也
後百餘歲至永平十一年以麟德歴較之氣當後天二
日半朔當後天半日是歲四分歴得辛酉蔀首已減太
初歴四分日之三定後天二日太半開元歴以戊午禺
中冬至日在斗十八度半弱潛退至午前八度進至辛
酉夜半日在斗二十一度半弱續漢志云元和二年冬
至日在斗二十一度四分之一是也祖沖之曰四分歴
立冬景長一丈立春九尺六寸冬至南極日晷最長二
氣去至日數既同則中景應等而相差四寸此冬至後
天之驗也二氣中景日差九分半弱進退調均略無盈
縮各退二日十二刻則景皆九尺八寸以此推冬至後
天亦二日十二刻矣東漢晷漏定於永元十四年則四
分法施行後十五歲也二十四氣加時進退不等其去
午正極遠者四十九刻有餘日中之晷頗有盈縮故治
歴者皆就其中率以午正言之而開元歴所推氣及日
度皆直子半之始其未及日中尚五十刻因加二日十
二刻正得二日太半與沖之所算及破章二百年間輒
差一日之數皆合自漢時辛酉冬至以後天之數減之
則合於今歴歲差斗十八度自今歴戊午冬至以後天
之數加之則合於賈逵所測斗二十一度反復僉同而
淳風冬至常在斗十三度豈當時知不及牽牛五度而
不知過建星八度耶晉武帝太始三年丁亥歲冬至日
當在斗十六度晉用魏景初歴其冬至亦在斗二十一
度少太元九年姜岌更造三紀術退在斗十七度曰古
歴斗分彊故不可施於今乾象斗分細故不可通於古
景初雖得其中而日之所在乃差四度合朔虧盈皆不
及其次假月在東井一度蝕以日檢之乃在參六度岌
以月蝕衝知日度由是躔次遂正為後代治歴者宗宋
文帝時何承天上元嘉歴曰四分景初歴冬至同在斗
二十一度臣以月蝕檢之則今應在斗十七度又土圭
測二至晷差三日有餘則天之南至日在斗十三四度
矣事下大史考驗如承天所上以開元歴考元嘉十年
冬至日在斗十四度與承天所測令大明八年祖沖之
上大明歴冬至在斗十一度開元歴應在斗十三度梁
天監八年沖之子員外散騎侍郎暅之上其家術詔太
史令將作大匠道秀等較之上距大明又五十年日度
益差其明年閏月十六日月蝕在虛十度日應在張四
度承天歴在張六度沖之歴在張二度大同九年虞&KR1184;
等議姜岌何承天俱以月蝕衝步日所在承天雖移及
三度然其冬至亦上岌三日承天在斗十三四度而岌
在斗十七度其實非移祖沖之謂為實差以推今冬至
日在斗九度用求中星不合自岌至今將二百年而冬
至在斗十二度然日之所在難知驗以中星則漏刻不
定漢世課昏明中星為法已淺今候夜半中星以求日
衝近於得密而水有清濁壺有增減或積度所擁故漏
有遲疾臣等頻夜候中星而前後相差或至三度大略
冬至遠不過斗十四度近不出十度又以九年三月十
五日夜半月在房四度蝕九月十五日夜半月在昴三
度蝕以其衝計冬至皆在斗十二度自姜岌何承天所
測下及大同日已却差二度而淳風以為晉宋以來三
百餘歲以月蝕衝考之固在斗十三四度間非矣劉孝
孫甲子元歴推太初冬至在牽牛初下及晉太元宋元
嘉皆在斗十七度開皇十四年在斗十三度而劉焯歴
仁夀四年冬至日在黃道斗十度於赤道斗十一度也
其後孝孫改從焯法而仁夀四年冬至日亦在斗十度
焯卒後胄玄以其前歴上元起虛五度推漢太初猶不
及牽牛乃更起虛七度故太初在斗二十三度永平在
斗二十一度竝與今歴合而仁壽四年冬至在斗十三
度以驗近事又不逮其前歴矣戊寅歴太初元年辛酉
冬至進及甲子日在牽牛三度永平十一年得戊午冬
至進及辛酉在斗二十六度至元嘉中氣上景初三日
而冬至猶在斗十七度欲以求合反更失之又曲循孝
孫之論而不知孝孫已變從皇極故為淳風等所駮歲
差之術由此不行以太史注記月蝕衝考日度麟德元
年九月庚申月蝕在婁十度至開元四年六月庚申月
蝕在牛六度較麟德歴率差三度則今冬至定在赤道
斗十度又皇極歴歲差皆自黃道命之其每歲周分常
當南至之軌與赤道相較所減尤多計黃道差二十六
度赤道差四十餘度雖每歲遯之不足為過然立法之
體宜盡其原是以開元歴皆自赤道推之乃以今有術
從變黃道
唐書卷二十七上
唐書卷二十七下
宋翰林學士歐陽修撰
志第十七下
歴志
其八日躔盈縮略例曰北齊張子信積候合蝕加時覺
日行有入氣差然損益未得其正至劉焯立盈縮躔衰
術與四象升降麟德歴因之更名躔差凡隂陽往來皆
馴積而變日南至其行最急急而漸損至春分及中而
後遲迨日北至其行最舒而漸益之以至秋分又及中
而後益急急極而寒若舒極而燠若及中而雨暘之氣
交自然之數也焯術於春分前一日最急後一日最舒
秋分前一日最舒後一日最急舒急同于二至而中間
一日平行其說非是當以二十四氣晷景考日躔盈縮
而密於加時
其九九道議曰洪範傳云日有中道月有九行中道謂
黃道也九行者青道二出黃道東朱道二出黃道南白
道二出黃道西黑道二出黃道北立春春分月東從青
道立夏夏至月南從朱道立秋秋分月西從白道立冬
冬至月北從黑道漢史官舊事九道術廢久劉洪頗採
以著遲疾隂陽歴然本以消息為竒而術不傳推隂陽
歴交在冬至夏至則月行青道白道所交則同而出入
之行異故青道至春分之宿及其所衝皆在黃道正東
白道至秋分之宿及其所衝皆在黃道正西若隂陽歴
交在立春立秋則月循朱道黑道所交則同而出入之
行異故朱道至立夏之宿及其所衝皆在黃道西南黑
道至立冬之宿及其所衝皆在黃道東北若隂陽歴交
在春分秋分之宿則月行朱道黑道所交則同而出入
之行異故朱道至夏至之宿及其所衝皆在黃道正南
黑道至冬至之宿及其所衝皆在黃道正北若隂陽歴
交在立夏立冬則月循青道白道所交則同而出入之
行異故青道至立春之宿及其所衝皆在黃道東南白
道至立秋之宿及其所衝皆在黃道西北其大紀皆兼
二道而實分主八節合于四正四維按隂陽歴中終之
所交則月行正當黃道去交七日其行九十一度齊於
一象之率而得八行之中八行與中道而九是謂九道
凡八行正於春秋其去黃道六度則交在冬夏正於冬
夏其去黃道六度則交在春秋易九六七八迭為終始
之象也乾坤定位則八行各當其正及其寒暑相推晦
朔相易則在南者變而居北在東者徙而為西屈伸消
息之象也黃道之差始自春分秋分赤道所交前後各
五度為限初黃道增多赤道二十四分之十二每限損
一極九限數終于四率赤道四十五度而黃道四十八
度至四立之際一度少彊依平復從四起初限五度赤
道增多黃道二十四分之四每限益一極九限而止終
于十二率赤道四十五度而黃道四十二度復得冬夏
至之中矣月道之差始自交初交中黃道所交亦距交
前後五度為限初限月道增多黃道四十八分之十二
每限損一極九限而止數終于四率黃道四十五度而
月道四十六度半乃一度彊依平復從四起初限五度
月道差少黃道四十八分之四每限益一極九限而止
終于十二率黃道四十五度而月道四十三度半至隂
陽歴二交之半矣凡近交初限增十二分者至半交末
限減十二分去交四十六度得損益之平率夫日行與
歲差偕遷月行隨交限而變遯伏相消朓朒相補則九
道之數可知矣其月道所交與二分同度則赤道黑道
近交初限黃道增二十四分之十二月道增四十八分
之十二至半交之末其減亦如之故於九限之際黃道
差三度月道差一度半盖損益之數齊也若所交與四
立同度則黃道在損益之中月道差四十八分之十二
月道至損益之中黃道差二十四分之十二於九限之
際黃道差三度月道差四分度之三皆朓朒相補也若
所交與二至同度則青道白道近交初限黃道減二十
四分之十二月道增四十八分之十二至半交之末黃
道增二十四分之十二月道減四十八分之十二於九
限之際黃道與月道差同盖遯伏相消也日出入赤道
二十四度月出入黃道六度相距則四分之一故於九
道之變以四立為中交在二分增四分之一而與黃道
度相半在二至减四分之一而與黃道度正均故推極
其數引而伸之每氣移一候月道所差增損九分之一
七十二候而九道究矣凡月交一終退前所交一度及
餘八萬九千七百七十三分度之四萬二千五百三少
半積二百二十一月及分七千七百五十三而交道周
天矣因而半之將九年而九道終以四象考之各據合
朔所交入七十二候則其入道之行也以朔交為交初
望交為交中若交初在冬至初候而入隂歴則行青道
又十三日七十六分日之四十六至交中得所衝之宿
變入陽歴亦行青道若交初入陽歴則白道也故考交
初所入而周天之度可知若望交在冬至初候則減十
三日四十六分視大雪初候隂陽歴而正其行也
其十晷漏中星略例曰日行有南北晷漏有長短然二
十四氣晷差徐疾不同者句股使然也直規中則差遲
與句股數齊則差急隨辰極高下所遇不同如黃道刻
漏此乃數之淺者近代且猶未曉今推黃道去極與晷
景漏刻昏距中星四術返覆相求消息同率旋相為中
以合九服之變
其十一日蝕議曰小雅十月之交朔日辛卯虞&KR1184;以歴
推之在幽王六年開元歴定交分四萬三千四百二十
九入蝕限加時在晝交會而蝕數之常也詩云彼月而
食則維其常此日而食云何不臧日君道也無朏魄之
變月臣道也遠日益明近日益虧望與日軌相會則徙
而浸遠遠極又徙而近交所以著臣人之象也望而正
於黃道是謂臣干君明則陽斯蝕之矣朔而正於黃道
是謂臣壅君明則陽為之蝕矣且十月之交於歴當蝕
君子猶以為變詩人悼之然則古之太平日不蝕星不
孛盖有之矣若過至未分月或變行而避之或五星潛
在日下禦侮而救之或涉交數淺或在陽歴陽盛隂微
則不蝕或德之休明而有小眚焉則天為之隱雖交而
不蝕此四者皆德教之所由生也四序之中分同道至
相過交而有蝕則天道之常如劉歆賈逵皆近古大儒
豈不知軌道所交朔望同術哉以日蝕非常故闕而不
論黃初已來治歴者始課日蝕疎密及張子信而益詳
劉焯張胄玄之徒自負其術謂日月皆可以密率求是
專於歴紀者也以戊寅麟德歴推春秋日蝕大最皆入
蝕限於歴應蝕而春秋不書者尚多則日蝕必在交限
其入限者不必盡蝕開元十二年七月戊午朔於歴當
蝕半彊自交趾至于朔方候之不蝕十三年十二月庚
戌朔於歴當蝕大半時東封泰山還次梁宋間皇帝徹
膳不舉樂不盖素服日亦不蝕時羣臣與八荒君長之
來助祭者降物以需不可勝數皆奉壽稱慶肅然神服
雖筭術乖舛不宜如此然後知德之動天不俟終日矣
右因開元二蝕曲變交限而從之則差者益多自開元
治歴史官每歲較節氣中晷因檢加時小餘雖大數有
常然亦與時推移每歲不等晷變而長則日行黃道南
晷變而短則日行黃道北行而南則隂歴之交也或失
行而北則陽歴之交也或失日在黃道之中且猶有變
况月行九道乎杜預云日月動物雖行度有大量不能
不小有盈縮故有雖交會而不蝕者或有頻交而蝕者
是也故較歴必稽古史虧蝕深淺加時朓朒隂陽其數
相叶者反覆相求由歴數之中以合辰象之變觀辰象
之變反求歴數之中類其所同而中可知矣辨其所異
而變可知矣其循度則合于歴失行則合于占占道順
成常執中以追變歴道逆數常執中以俟變知此之說
者天道如視諸掌略例曰舊歴考日蝕淺深皆自張子
信所傳云積候所得而末曉其然也以圓儀度日月之
徑乃以月徑之半減入交初限一度半餘為闇虛半徑
以月去黃道每度差數令一徑相掩以驗蝕分以所入
日遲疾乘徑為泛所用刻數大率去交不及三度即月
行没在闇虛皆入既限又半日月之徑減春分入交初
限相去度數餘為斜射所差乃考差數以立既限而優
游進退於二度中間亦令二徑相掩以知日蝕分數月
徑踰既限之南則雖在隂歴而所虧類同外道斜望使
然也既限之外應向外蝕外道交分準用此例以較古
今日蝕四十三事月蝕九十九事課皆第一使日蝕皆
不可以常數求則無以稽歴數之疎密若皆可以常數
求則無以知政教之休咎今更設考日蝕或限術得常
則合于數又日月交會大小相若而月在日下自京師
斜射而望之假中國食既則南方戴日之下所虧纔半
月外反觀則交而不蝕步九服日晷以定蝕分晨昏漏
刻與地偕變則宇宙雖廣可以一術齊之矣
其十二五星議曰歲星自商周迄春秋之季率百二十
餘年而超一次戰國後其行寖急至漢尚微差及哀平
間餘勢乃盡更八十四年而超一次因以為常比其與
餘星異也姬氏出自靈威仰之精受木行正氣歲星主
農祥后稷憑焉故周人常閱其禨祥而觀善敗其始王
也次于鶉火以逹天黿及其衰也滛于玄枵以害鳥帑
其後羣雄力争禮樂隕壊而從衡攻守之術興故歲星
常贏行於上而侯王不寧於下則木緯失行之勢宜極
於火運之中理數然也開元十二年正月庚午歲星在
進賢東北尺三寸直軫十二度於麟德歴在軫十五度
推而上之至漢河平二年其十月下旬歲星在軒轅南
耑大星西北尺所麟德歴在張二度直軒轅大星上下
相距七百五十年考其行度猶未甚盈縮則哀平後不
復每歲漸差也又上百二十年至孝景中元三年五月
歲在東井鉞麟德歴在參三度又上六十年得漢元年
七月五星聚于東井從歲星也於秦正歲在乙未夏正
當在甲午麟德歴白露八日歲星留觜觿一度明年立
夏伏于參由差行未盡而以常數求之使然也又上二
百七十一年至哀公十七年歲在鶉火麟德歴初見在
輿鬼二度立冬九日留星三度明年啓蟄十日退至柳
五度猶不及鶉火又上百七十八年至僖公五年歲星
當在大火麟德歴初見在張八度明年伏于翼十六度
定在鶉火差三次矣哀公以後差行漸遲相去猶近哀
公以前率常行遲而舊歴猶用急率不知合變故所差
彌多武王革命歲星亦在大火而麟德歴在東壁三度
則唐虞已上所差周天矣太初三統歴歲星十二周天
超一次推商周間事大抵皆合驗開元注記差九十餘
度盖不知歲星後率故也皇極麟德歴七周天超一次
以推漢魏間事尚未差上驗春秋所載亦差九十餘度
盖不知歲星前率故也天保天和歴得二率之中故上
合於春秋下猶密於記注以推永平黃初間事遠者或
差三十餘度盖不知戰國後歲星變行故也自漢元始
四年距開元十二年凡十二甲子上距隱公六年亦十
二甲子而二歴相合於其中或差三次於古或差二次
於今其兩合於古今者中間亦乖欲一術以求之則不
可得也開元歴歲星前率三百九十八日餘二千二百
一十九秒九十三自哀公二十年丙寅後每加度餘一
分盡四百三十九合次合乃加秒十三而止凡三百九
十八日餘二千六百五十九秒六而與日合是為歲星
後率自此因以為常入漢元始六年也歲星差合術曰
置哀公二十年冬至合餘加入差已來中積分以前率
約之為入差合數不盡者如歴術入之反求冬至後合
日乃副列入差合數增下位一算乘而半之盈大衍通
法為日不盡為日餘以加合日即差合所在也求歲星
差行徑術以後終率約上元以來中積分亦得所求若
積其實行當從元始六年置差步之則前後相距間不
容髮而上元之首無忽微空積矣成湯伐桀歲在壬戍
開元歴星與日合于角次于氐十度而後退行其明年
湯始建國為元祀順行與日合于房所以紀商人之命
也後六百一算至紂六祀周文王初禴于畢十三祀歲
在己卯星在鶉火武王嗣位克商之年進及輿鬼而退
守東井明年周始革命順行與日合于柳進留于張考
其分野則分陜之間與三監封域之際也成王三年歲
在丙午星在大火唐叔始封故國語曰晉之始封歲在
大火春秋傳僖公五年歲在大火晉公子重耳自蒲奔
狄十六年歲在壽星適齊過衛野人與之塊子犯曰天
賜也天事必象歲及鶉火必有此乎復于壽星必獲諸
侯二十三年歲星在胃昴秦伯納晉文公董因曰歲在
大梁將集天行元年實沈之星晉人是居君之行也歲
在大火閼伯之星也是謂大辰辰以善成后稷是相唐
叔以封且以辰出而以參入皆晉祥也二十七年歲在
鶉火晉侯伐衛取五鹿敗楚師于城濮始獲諸侯歲適
及壽星皆與開元歴合襄公十八年歲星在陬訾之口
開元歴大寒三日星與日合在危三度遂順行至營室
八度其明年鄭子蟜卒將葬公孫子羽與禆竈晨會事
焉過伯有氏其門上生莠子羽曰其莠猶在乎於是歲
在降婁中而曙禆竈指之曰猶可以終歲歲不及此次
也開元歴歲星在奎奎降婁也麟德歴在危危玄枵也
二十八年春無冰梓愼曰歲在星紀而滛於玄枵禆竈
曰歲弃其次而旅於明年之次以害鳥帑周楚惡之開
元歴歲星在南斗十七度而退守西建間復順行與日
合于牛初應在星紀而盈行進及虛宿故曰滛留玄枵
二年至三十年開元歴歲星順行至營室十度留距子
嶠之卒一終矣其年八月鄭人殺良霄故曰及其亡也
歲在陬訾之口其明年乃降婁昭公八年十一月楚滅
陳史趙曰未也陳顓頊之族也歲在鶉火是以卒滅今
在析木之津猶將復由開元歴在箕八度析木津也十
年春進及婺女初在玄枵之維首傳曰正月有星出于
婺女禆竈曰今兹歲在顓頊之墟是歲與日合于危其
明年進及營室復得豕韋之次景王問萇弘曰今兹諸
侯何實吉何實凶對曰蔡凶此蔡侯般殺其君之歲歲
在豕韋弗過此矣楚將有之歲及大梁蔡復楚凶至十
三年歲星在昴畢而楚弑靈王陳蔡復封初昭公九年
陳災禆竈曰後五年陳將復封歲五及鶉火而後陳卒
亡自陳災五年而歲在大梁陳復建國哀公十七年五
及鶉火而楚滅陳是年歲星與日合在張六度昭公三
十一年夏吳伐越始用師於越也史墨曰越得歲而吳
伐之必受其凶是歲星與日合于南斗三度昔僖公六
年歲隂在卯星在析木昭公三十二年亦歲隂在卯而
星在星紀故三統歴因以為超次之率考其實猶百二
十餘年近代諸歴欲以八十四年齊之此其所惑也後
三十八年而越滅吳星三及斗牛已入差合二年矣夫
五事感於中而五行之祥應于下五緯之變彰于上若
聲發而響和形動而影隨故王者失典刑之正則星辰
為之亂行汨彛倫之叙則天事為之無象當其亂行無
象又可以歴紀齊乎故襄公二十八年歲在星紀滛于
玄枵至三十年八月始見陬訾之口超次而前二年守
之漢元鼎中太白入于天苑失行在黃道南三十餘度
間歲武帝北廵守登單于臺勒兵十八萬騎及誅大宛
馬大死軍中晉咸寕四年九月太白當見不見占曰是
謂失舍不有破軍必有亡國時將伐吳明年三月兵出
太白始夕見西方而吳亡永寧元年正月至閏月五星
經天縱横無常永興二年四月丙子太白犯狼星失行
在黃道南四十餘度永嘉三年正月庚子熒惑犯紫微
皆天數所未有也終以二帝蒙塵天下大亂後魏神瑞
二年十二月熒惑在瓠瓜星中一夕忽亡不知所在崔
浩以日辰推之曰庚午之夕辛未之朝天有隂雲熒惑
之亡在此二日庚午未皆主秦辛為西夷今姚興據咸
陽是熒惑入秦矣其後熒惑果出東井留守盤旋秦中
大旱赤地昆明水竭明年姚興死二子交兵三年國滅
齊永明九年八月十四日火星應退在昴三度先歴在
畢二十一日始逆行北轉垂及立冬形色彌盛魏永平
四年八月癸未熒惑在氐夕伏西方亦先期五十餘日
雖時歴疎闊不宜如此隋大業九年五月丁丑熒惑逆
行入南斗色赤如血大如三斗器光芒震耀長七八尺
於斗中句已而行亦天變所未有也後楊玄感反天下
大亂故五星留逆伏見之效表裏盈縮之行皆係之於
時而象之於政政小失則小變事微而象微事章而象
章已示吉凶之象則又變行襲其常度不然則皇天何
以隂隲下民警悟人主哉近代算者昧於象占者迷於
數覩五星失行皆謂之歴舛雖七曜循軌猶或謂之天
災終以數象相蒙兩喪其實故較歴必稽古今注記入
氣均而行度齊上下相距反復相求苟獨異於常則失
行可知矣凡二星相近多為之失行三星以上失度彌
甚天竺歴以九執之情皆有所好惡遇其所好之星則
趣之行疾捨之行遲張子信歴辰星應見不見術晨夕
去日前後四十六度内十八度外有木火土金一星者
見無則不見張胄玄歴朔望在交限有星伏在日下木
土去見十日外火去見四十日外金去見二十二日外
者竝不加減差皆精氣相感使然夫日月所以著尊卑
不易之象五星所以示政教從時之義故日月之失行
也微而少五星之失行也著而多今略考常數以課疎
密略例曰其入氣加減亦自張子信始後人莫不遵用
之原始要終多有不叶今較麟德歴熒惑太白見伏行
度過與不及熒惑凡四十八事太白二十一事餘星所
差盖細不足考且盈縮之行宜與四象潛合而二十四
氣加减不均更推易數而正之又各立歲差以究五精
運周二十八舍之變較史官所記歲星二十七事熒惑
二十八事鎮星二十一事太白二十二事辰星二十四
事開元歴課皆第一云至肅宗時山人韓穎上言大衍
歴或誤帝疑之以穎為太子宫門郎直司天臺又損益
其術每節增二日更名至德歴起乾元元年用之訖上
元三年
唐書卷二十七下
唐書卷二十八上
宋翰林學士歐陽修撰
志第十八上
歴志
開元大衍歴演紀上元閼逢困敦之歲距開元十二年
甲子積九千六百九十六萬一千七百四十算
一曰步中朔術
通法三千四十策實百一十一萬三百四十三揲
法八萬九千七百七十三減法九萬一千二百策
餘萬五千九百四十三用差萬七千一百二十四
掛限八萬七千一十八三元之策十五餘六百六十
四秒七四象之策二十九餘千六百一十三中盈
分千三百二十八秒十四朔虛分千四百二十七
象統二十四
以策實乘積算曰中積分盈通法得一為積日爻數去
之餘起甲子算外得天正中氣凡分為小餘日為大餘
加三元之策得次氣(凡率相因加者下有餘秒皆以類相從而滿法迭進用加上位日盈)
(爻數去之)以揲法去中積分不盡日歸餘之掛以減中積分
為朔積分如通法為日去命如前得天正經朔加一象
之日七餘千一百六十三少得上弦倍之得望參之得
下弦四之是謂一揲得後月朔(凡四分一為少三為太)綜中盈朔
虛分纍益歸餘之掛每其月閏衰(凡歸餘之掛五萬六千七百六十以上其)
(歲有閏因考其閏衰滿掛限以上其月合置閏或以進退皆以定朔無中氣裁焉)凡常氣小餘
不滿通法如中盈分之半已下者以象統乘之内秒分
參而伍之以減策實不盡如策餘為日命常氣初日算
外得沒日凡經朔小餘不滿朔虛分者以小餘減通法
餘倍參伍乘之用減滅法不盡如朔虛分為日命經朔
初日算外得滅日
二曰發斂術
天中之策五餘二百二十一秒三十一秒法七十二
地中之策六餘二百六十五秒八十六秒法百二十
貞悔之策三餘百三十二秒百三辰法七百六十
刻法三百四
各因中節命之得初候如天中之策得次候又加得末
候因中氣命之得公卦用事以地中之策絫加之得次
卦若以貞悔之策加侯卦得十有二節之初外卦用事
因四立命之得春木夏火秋金冬水用事以貞悔之策
減季月中氣得土王用事(凡相加減而秒母不齊當令母互乘子乃加減之母相乘)
(為法)
各以通法約其月閏衰為日得中氣去經朔日算求卦
候者各以天地之策累加減之凡發斂加時各置其小
餘以六爻乘之如辰法而一為半辰之數不盡者三約
為分(分滿刻法為刻若令滿象積為刻者即置不盡之數十之十九而一為分)命辰起子半
算外
三曰步日躔術
乾實百一十一萬三百七十九太周天度三百六十
五虛分七百七十九太歲差三十六太
以盈縮分盈減縮加三元之策為定氣所有日及餘乃
十二乘日又三其小餘辰法約而一從之為定氣辰數
不盡十之又約為分以所入氣并後氣盈縮分倍六爻
乘之綜兩氣辰數除之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而一以少減多餘為氣差至後以
差加末率分後以差減末率為初率倍氣差亦倍六爻
乘之復綜兩氣辰數除為日差半之以加減初末各為
定率以日差至後以减分後以加氣初定率為每日盈
縮分乃馴積之隨所入氣日加減氣下先後數各其日
定數其求朓朒放此(冬至後為陽復在盈加之在縮減之夏至後為隂復在縮加之在盈)
(減之距四正前一氣在隂陽變革之際不可相并皆因前末為初率以氣差至前加之分前減之為末率餘依)
(前術各得所求其分不滿全數母又每氣不同當退法除之以百為母半已上收成一)冬至夏至
偕得天地之中無有盈縮餘各以氣下先後數先減後
加常氣小餘滿若不足進退其日得定大小餘(凡推日月度及)
(軌漏交蝕依定氣注歴依常氣)以減經朔弦望各其所入日算若大餘
不足減加爻數乃減之減所入定氣日算一各以日差
乘而半之前少以加前多以減氣初定率以乘其所入
定氣日算及餘秒(凡除者先以母通全内子乃相乘母相乘除之)所得以損益
朓朒積各其入朓朒定數(若非朔望有交者以十二乘所入日算三其小餘辰法除)
(而從之以乘損益率如定氣辰數而一所得以損益朓朒積各為定數)南斗二十六牛八
婺女十二虛十(虛分七百七十九太)危十七營室十六東壁九奎
十六婁十二胃十四昴十一畢十七觜觽一參十東井
三十三輿鬼三柳十五七星七張十八翼十八軫十七
角十二亢九氐十五房五心五尾十八箕十一為赤道
度其畢觜觽參輿鬼四宿度數與古不同依天以儀測
定用為常數紘帶天中儀極攸憑以格黃道推冬至歲
差所在每距冬至前後各五度為限初數十二每限減
一盡九限數終於四當二立之際一度少彊依平乃距
春分前秋分後初限起四每限增一盡九限終於十二
而黃道交復計春分後秋分前亦五度為限初數十二
盡九限數終於四當二立之際一度少彊依平乃距夏
至前後初限起四盡九限終於十二皆絫裁之以數乘
限度百二十而一得度不滿者十二除為分(若以十除則大分十)
(二為母命太半少及彊弱)命曰黃赤道差數二至前後各九限以差
減赤道度二分前後各九限以差加赤道度各為黃道
度開元十二年南斗二十三半牛七半婺女十一少虛
十(六虛之差十九太)危十七太營室十七少東壁九太奎十七
半婁十二太胃十四太昴十一畢十六少觜觽一參九
少東井三十輿鬼二太柳十四少七星六太張十八太
翼十九少軫十八太角十三亢九半氐十五太房五心
四太尾十七箕十少為黃道度以步日行月與五星出
入循此(求此宿度皆有餘分前後載之成少半太凖為全度若上考往古下騐將來當據歲差每移一)
(度各依術算使得當時度分然後可以步三辰矣)以乾實去中積分不盡者盈
通法為度命起赤道虚九宿次去之經虚去分至不滿
宿算外得冬至加時日度(以三元之策累加之得次氣加時日度)以度餘
減通法餘以冬至日躔距度所入限數乘之為距前分
置距度下黃赤道差以通法乘之減去距前分餘滿百
二十除為定差不滿者以象統乘之復除為秒分乃以
定差減赤道宿度得冬至加時黃道日度又置歲差以
限數乘之滿百二十除為秒分不盡為小分以加三元
之策因絫裁之命以黃道宿次各得定氣加時日度置
其氣定小餘副之以乘其日盈縮分滿通法而一盈加
縮減其副用減其日加時度餘得其夜半日度因絫加
一策以其日盈縮分盈加縮減度餘得每日夜半日度
四曰步月離術
轉終六百七十萬一千二百七十九轉終日二十七
餘千六百八十五秒七十九轉法七十六轉秒法
八十
以秒法乘朔積分盈轉終去之餘復以秒法約為入轉
分滿通法為日命日筭外得天正經朔加時所入因加
轉差日一餘二千九百六十七秒一得次朔以一象之
各置朔弦望所入轉日損益率并後率而半之為通率
又二率相減為率差前多者以入餘減通法餘乘率差
盈通法得一并率差而半之前少者半入餘乘率差亦
以通法除之為加時轉率乃半之以損益加時所入餘
為轉餘其轉餘應益者減法應損者因餘皆以乘率差
盈通法得一加於通率轉率乘之通法約之以朓減朒
加轉率為定率乃以定率損益朓朒積為定數(其後無同率者)
(亦因前率應益者以通率為初數半率差而減之應損者即為通率其損益入餘進退日分為二日隨餘初末)
(如法求之所得並以損益轉率此術本出皇極歴以究算術之微變若非朔望有交者直以入餘乘損益率如)
(通法而一以損益朓朒為定數)七日(初數二千七百一末數三百三十九)十四日(初數二千三百)
(六十三末數六百七十七)二十一日(初數二千二十四末數千一十六)二十八日(初數)
(千六百八十六末數千三百五十四)以四象約轉終均得六日二千七百
一分就全數約為九分日之八各以減法餘為末數乃
四象馴變相加各其所當之日初末數也視入轉餘如
初數已下者加減損益因循前率如初數以上則反其
衰歸于後率云各置朔弦望大小餘以入氣入轉朓朒
定數朓減朒加之為定朔弦望大小餘定朔日各與後
朔同者月大不同者小無中氣者為閠月(凡言夜半皆起晨前子正)
(之中若注歴觀弦望定小餘不盈晨初餘數者退一日其望有交起虧在晨初已前者亦如之又月行九道遲)
(疾則有三大二小以日行盈縮累增損之則容有四大三小理數然也若俯循常儀當察加時早晚隨其所近)
(而進退之使不過三大三小其正月朔有交加時正見者消息前後一兩月以定大小令虧在晦二)定朔
弦望夜半日度各隨所直日度及餘分命之乃列定朔
望小餘副之以乘其日盈縮分如通法而一盈加縮減
其副以加夜半日度各得加時日度凡合朔所交冬在
隂歴夏在陽歴月行青道(冬至夏至後青道半交在春分之宿當黃道東立冬立夏)
(後青道半交在立春之宿當黃道東南至所衝之宿亦如之)冬在陽歴夏在隂歴月
行白道(冬至冬至後白道半交在秋分之宿當黃道西立冬立夏後白道半交在立秋之宿當黃道西)
(北至所衝之宿亦如之)春在陽歴秋在隂歴月行朱道(春分秋分後朱道半)
(交在夏至之宿當黃道南立春立秋後朱道半交在立夏之宿當黃道西南至所衝之宿亦如之)春在
隂歴秋在陽歴月行黑道(春分秋分後黑道半交在冬至之宿當黃道北立春立秋)
(後黑道半交在立冬之宿當黃道東北至所衝之宿亦如之)四序離為八節至隂陽
之所交行與黃道相會故月有九行各視月交所入七
十二候距交初中黃道日度每五度為限亦初數十二
每限減一數終於四乃一度彊依平更從四起每限增
一終於十二而至半交其去黃道六度又自十二每限
減一數終於四亦一度彊依平更從四起每限增一終
於十二復與日軌相會各累計其數以乘限度二百四
十而一得度不滿者二十四除為分(若以二十除之則大分以十二為母)
為月行與黃道差數距半交前後各九限以差數為減
距正交前後各九限以差數為加(此加減出入六度單與黃道相較之數若)
(較之赤道則隨氣遷變不常)計去冬至夏至以來候數乘黃道所差
十八而一為月行與赤道差數凡日以赤道内為隂外
為陽月以黃道内為隂外為陽故月行宿度入春分交
後行隂歴秋分交後行陽歴皆為同名若入春分交後
行陽歴秋分交後行隂歴皆為異名其在同名以差數
為加者加之減者減之若在異名以差數為加者減之
減者加之皆以增損黃道度為九道定度各以中氣去
經朔日算加其入交况乃以減交終得平交入中氣日
筭滿三元之策去之餘得入後節日算(因求次交者以交終加之滿三)
(元之策去之得後平交入氣日算)各以氣初先後數先加後減之得平
交入定氣日算倍六爻乘之三其小餘辰法除而從之
以乘其氣損益率如定氣辰數而一所得以損益其氣
朓朒積為定數又置平交所入定氣餘加其日夜半入
轉餘以乘其日損益率滿通法而一以損益其日朓朒
積交率乘之交數而一為定數乃以入氣入轉朓朒定
數朓減朒加平交入氣餘滿若不足進退日算為正交
入定氣日算其入定氣餘副之乘其日盈縮分滿通法
而一以盈加縮減其副以加其日夜半日度得正交加
時黃道日度以正交加時度餘減通法餘以正交之宿
距度所入限數乘之為距前分置距度下月道與黃道
差以通法乘之減去距前分餘滿二百四十除為定差
不滿者一退為秒以定差及秒加黃道度餘仍計去冬
至夏至已來候數乘定差十八而一所得依名同異而
加減之滿若不足進退其度得正交加時月離九道宿
度各置定朔弦望加時日度從九道循次相加凡合朔
加時月行潛在日下與太陽同度是謂離象(先置朔弦望加時黃)
(道日度以正交加時所在黃道宿度減之餘以加其正交九道宿度命起正交宿度筭外即朔弦望加時所當)
(九道宿度也其合朔加時若非正交則日在黃道月在九道各入宿度雖多少不同考其去極皆應繩凖故云)
(月行潛在日下與太陽同度)以一象之度九十一餘九百五十四秒
二十二半為上弦兌象倍之而與日衝得望坎象參之
得下弦震象各以加其所當九道宿度秒盈象統從餘
餘滿通法從度得其日加時月度(綜五位成數四十以約度餘為分不盡者)
(因為小分)視經朔夜半入轉若定朔大餘有進退者亦加減
轉日否則因經朔為定累加一日得次日各以夜半入
轉餘乘列衰如通法而一所得以進加退減其日轉分
為月轉定分滿轉法為度視定朔弦望夜半入轉各半
列衰以減轉分退者定餘乘衰以通法除并衰而半之
進者半餘乘衰亦以通法除皆加所減乃以定餘乘之
盈通法得一以減加時月度為夜半月度各以每日轉
定分累加之得次日若以入轉定分乘其日夜漏倍百
刻除為晨分以減轉定分餘為昏分望前以昏望後以
晨加夜半度各得晨昏月
各視每日夜半入隂陽歴交日數以其下屈伸積月道
與黃道同名者加之異名者減之各以加減每日晨昏
黃道月度為入宿定度及分
五曰步軌漏術
爻統千五百二十象積四百八十辰八刻百六十
分昏明二刻二百四十分
各置其氣消息衰依定氣所有日每以陟降率陟減降
加其分滿百從衰各得每日消息定衰其距二分前後
各一氣之外陟降不等皆以三日為限雨水初日降七
十八初限日損十二次限日損八次限日損三次限日
損二次限日損一清明初日陟一初限日益一次限日
益二次限日益三次限日益八末限日益十九處暑初
日降九十九初限日損十九次限日損八次限日損三
次限日損二末限日損一寒露初日陟一初限日益一
次限日益二次限日益三次限日益八末限日益十二
各置初日陟降率依限次損益之為每日率乃遞以陟
減降加氣初消息衰各得每日定衰南方戴日之下正
中無晷自戴日之北一度乃初數千三百七十九自此
起差每度增一終於二十五度計增二十六分又每度
增二終於四十度又每度增六終於四十四度增六十
八又每度增二終於五十度又每度增七終於五十五
度又每度增十九終於六十度增百六十又每度增三
十三終於六十五度又每度增三十六終於七十度又
每度增三十九終於七十二度增二百六十又度增四
百四十又度增千六十又度增千八百六十又度增二
千八百四十又度增四千又度增五千三百四十各為
每度差因累其差以遞加初數滿百為分分十為寸各
為每度晷差又累其晷差得戴日之北每度晷數各置
其氣去極度以極去戴日度五十六及分八十二半減
之得戴日之北度數各以其消息定衰所直度之晷差
滿百為分分十為寸得每日晷差乃遞以息減消加其
氣初晷數得每日中晷常數以其日所在氣定小餘爻
統減之餘為中後分不足減反相減為中前分以其晷
差乘之如通法而一為變差以加減中晷常數(冬至後中前以)
(差減中後以差加夏至後中前以差加中後以差減冬至一日有減無加夏至一日有加無減)得每日
中晷定數又置消息定衰滿象積為刻不滿為分各遞
以息減消加其氣初夜半漏得每日夜半漏定數其全
刻以九千一百二十乘之十九乘刻分從之如三百而
一為晨初餘數各倍夜半漏為夜刻以減百刻餘為晝
刻減晝五刻以加夜即晝為見刻夜為沒刻半沒刻加
半辰起子初算外得日出辰刻以見刻加而命之得日
入(置夜刻五而一得每更差刻又五除之得每籌差刻以昏刻加日入辰刻得甲夜初刻又以更籌差加之)
(得五夜更籌所當辰其夜半定漏亦名晨初夜刻)又置消息定衰滿百為度不
滿為分各遞以息減消加氣初去極度各得每日去極
定數又置消息定衰以萬二千三百八十六乘之如萬
六千二百七十七而一為度差差滿百為度各遞以息
加消減其氣初距中度得每日距中度定數倍之以減
周天為距子度置其日赤道日度加距中度得昏中星
倍距子度以加昏中星得曉中星命昏中星為甲夜中
星加每更差度得五夜中星凡九服所在每氣初日中
晷常數不齊使每氣去極度數相減各為其氣消息定
數因測其地二至日晷(測一至可矣不必兼要冬夏)於其戴日之北
每度晷數中較取長短同者以為其地戴日北度數及
分每氣各以消息定數加減之(因冬至後者每氣以減因夏至後者每氣以加)
得每氣戴日北度數各因所直度分之晷數為其地每
定氣初日中晷常數(其測晷有在表南者亦據其晷尺寸長短與戴日比每度晷數同者)
(因取其所直之度去戴日北度數反之為去戴日南度然後以消息定數加減之)二至各於其
地下水漏以定當處晝夜刻數乃相減為冬夏至差刻
半之以加減二至晝夜刻數為定春秋分初日晝夜刻
數乃置每氣消息定數以當處差刻數乘之如二至去
極差度四十七分八十而一所得依分前後加減初日
晝夜漏刻各得餘定氣初(日)晝夜漏刻置每日消息定
衰亦以差刻乘之差度而一所得以息減消加其氣初
漏刻得次日(其求距中度及昏明中星日出入皆依陽城法求之仍以差刻乘之差度而一為今)
(有之數)若置其地春秋定日中晷常數與陽城每日晷數
較其同者因其日夜半漏亦為其地定春秋分初日夜
半漏求餘定氣初日亦以消息定數依分前後加減刻
分(春分後以減秋分後以加)滿象積為刻求次日亦以消息定衰依
陽城術求之(此術究理大體合通然高山平川視大不等較其日晷長短乃同考其水漏多少殊)
(别以兹參課前術為審)
唐書卷二十八上
唐書卷二十八下
宋翰林學士歐陽修撰
志第十八
歴志
六曰步交會術
終數八億二千七百二十五萬一千三百二十二交
終日二十七餘六百四十五秒千三百二十二中日
十三餘千八百四十二秒五千六百六十一朔差日
二餘九百六十七秒八千六百七十八望差日一餘
四百八十三秒九千三百三十九望數日十四餘二
千三百二十六秒五十交限日十二餘千三百五十
八秒六千三百二十三交率三百四十三交數四
千三百六十九交秒法一萬
以交數去朔積分不盡以秒法乘之盈交數又去之餘
如秒法而一為入交分滿通法為日命日算外得天正
經朔加時入交汎日及餘因加朔差得次朔以望數加
朔得望若以經朔望小餘减之各得夜半所入累加一
日得次日加之滿交終去之各以其日入氣脁朒定數
脁减朒加交汎為入交常日及餘又以交率乘其日入
轉脁朒定數如交數而一以脁减朒加入交常日為入
交定日及餘各如中日已下者為月入陽歴已上者去
之餘為月入隂歴
隂陽歴
以其爻加减率與後爻加减率相减為前差又以後爻
率與次後爻率相减為後差二差相减為中差置所在
爻并後爻加减率半中差以加而半之十五而一為爻
末率因為後爻初率每以本爻初末率相减為爻差十
五而一為度差半之以加减初率(少象減之老象加之)為定初率
每以度差累加减之(少象以差減老象以差加)各得每歲加减定分
廼循積其分滿百二十為度各為月去黃道數及分(其四)
(象初爻無初率上爻無末率加倍本爻加減率十五而一所得各以初末率减之皆互得其率)各置夜
半入轉以夜半入交定日及餘减之(不足減加轉終)餘為定交
初日夜半入轉乃以定交初日與其日夜半入餘各乘
其日轉定分如通法而一為分滿轉法為度各以加其
日轉積度分乃相減所餘為其日夜半月行入隂陽度
數(轉求次日以轉定分加之)以一象之度九十除之(若以少象除之則兼除差度一)
(度分百六大分十三小分十四訖然後以次象除之)所得以少陽老陽少隂老隂
為次起少陽算外得所入象度數及分(先以三十乘隂陽度分十九而)
(一為度分不盡以十五乘十九除為大分不盡者又乘又除為小分然後以象度及分除之)乃以一
爻之度十五除之所得入爻度數及分(其月行入少象初爻之内及老)
(象上爻之中皆沾黃道當朔望則有虧蝕)凡入交定如望差以下交限以上
為入蝕限望入蝕限則月蝕朔入蝕限月在隂歴則日
蝕如望差以下為交後交限以上以減交中餘為交前
置交前後定日及餘通之為去交前後定分十一乘之
二千六百四十三除為去交度數不盡以通法乘之復
除為餘(大抵去交十三度以上雖入蝕限為涉交數微光景相接或不見蝕)望去交分七
百七十九以下者皆既以上者以定交分減望差餘以
百八十三約之命以十五為限得月蝕之大分月在隂
歴初起東南甚於正南復於西南月在陽歴初起東北
甚於正北復於西北其蝕十二分以上者起於正東復
於正北(此據午正而論之餘各隨方面所在凖此取正)凡月蝕之大分五已下
因增二十已下因增四十以上因增五其去交定分五
百二十已下又增半二百六十已下又增半各為汎用
以所入氣并後氣增損差倍六爻乘之綜两氣辰數除
之為氣末率又列二氣增損差皆倍六爻乘之各如辰
數而一少減多餘為氣差加減末率(冬至後以差減夏至後以差加)為
初率倍氣差綜两氣辰數除為日差半之加減初末為
定率以差累加減氣初定率(冬至後以差加夏至後以差減)為每日增
損差乃循積之隨所入氣日增損氣下差積各其日定
數(其二至之前一氣皆後無同差不可相并各因前末為初率以氣差冬至前減夏至前加為末率)隂
歴蝕差千二百七十五蝕限三千五百二十四或限三
千六百五十九陽歴蝕限百三十五或限九百七十四
以蝕朔所入氣日下差積隂歴減之陽歴加之各為朔
定差及定限朔在隂歴去交定分滿蝕定差已上者為
隂歴蝕不滿者雖在隂歴皆類同陽歴蝕其去交定分
滿定限已下者的蝕或限已下者或蝕隂歴蝕者置去
交定分以蝕定差減之餘百四已下者皆蝕既已下者
以百四減之餘以百四十三約之其入或限者以百五
十二約之半以下為半弱半已上為半強以減十五餘
為日蝕之大分其同陽歴蝕者其去交定分少於蝕定
差六十已下者皆蝕既已上者以陽歴蝕定限加去交
分以九十約之其陽歴蝕者置去交定分亦以九十約
之入或限者以百四十三約之皆半已下為半弱半已
上為半強命之以十五為限得日蝕之大分月在隂歴
初起西北甚於正北復於東北月在陽歴初起西南甚
於正南復於東南其蝕十二分已上皆起於正西復於
正東凡日蝕之大分皆因增二其隂歴去交定分多於
蝕定差七十已下者又增三十五已下者又增半其同
陽歴去交定分少於蝕定差二十已下者又增半四已
下者又增少各為汎用刻率置去交定分以交率乘之
二十乘交數除之其月道與黃道同名者以加朔望定
小餘異名者以減朔望定小餘為蝕定餘如求發歛如
時術入之得蝕甚辰刻各置汎用刻率副之以乘其日
入轉損益率如通法而一所得應朒者依其損益應脁
者損加益減其副為定用刻數半之以減蝕甚辰刻為
虧初以加蝕甚辰刻為復末(其月蝕置定用刻數以其日每更差刻除為更數不)
(盡以每籌差刻除為籌數綜之為定用更籌乃累計日入後至蝕甚辰刻置之以昏刻加日入辰刻減之餘以)
(更籌差刻除之所得命以初更籌算外得蝕甚更籌半定用更籌減之為虧初加之為復末按天竺得摩羅所)
(傳斷日蝕法日躔鬱車宫者的蝕其餘據日所在宫火星在前三及後五之宫并伏在日下則不蝕若五星皆)
(見又水在隂歴及三星已上同聚一宿則亦不蝕凡星與日别宫或别宿則易斷若同宿則難天竺所云十二)
(宫即中國之十二次鬱車宫者降婁之次也)九服之地蝕差不同先測其地
二至及定春秋中晷長短與陽城每日中晷常數較取
同者各因其日蝕差為其地二至及定春秋分蝕差以
夏至差減春分差以春分差減冬至各為率并二率半
之六而一為夏率二率相減六而一為總差置總差六
而一為氣差半氣差以加夏率又以總差減之為冬率
(冬率即冬至率)每以氣差加之各為每氣定率乃循積其率以
減冬至蝕差各得每氣初日蝕差(求每日如陽城法求之若戴日之南當計)
(所在地皆反用之)
七曰步五星術
歲星終率百二十一萬二千五百七十九秒六終日
三百九十八餘二千六百五十九秒六變差三十四
秒十四象算九十一餘二百三十八秒五十七微分
十二爻算十五餘百六十六秒四十二微分八十二
熒惑終率二百三十七萬一千三秒八十六終日七
百七十九餘二千八百四十三秒八十六變差三十
二秒二象算九十一餘二百三十八秒四十三微分
八十四爻算十五餘百六十六秒四十微分六十二
鎮星終率百一十四萬九千三百九十九秒九十八
終日三百七十八餘二百七十九秒九十八變差二
十二秒九十二象算九十一餘二百三十七秒八十
七爻算十五餘百六十六秒三十一微分十六
太白終率百七十七萬五千三十秒十二終日五百
八十三餘二千七百一十一秒十二中合日二百九
十一餘二千八百七十五秒六變差三十秒五十三
象算九十一餘二百三十八秒三十四微五十四
爻算十五餘百六十六秒三十九微分九
辰星終率三十五萬二千二百七十九秒七十二終
日百一十五餘二千六百七十九秒七十二中合日
五十七餘二千八百五十九秒八十六變差百三十
六秒七十八象算九十一餘二百四十四秒九十八
微分六十爻算十五餘百六十七秒四十九微分七
十四
辰法七百六十秒法一百微分法九十六
置中積分以冬至小餘減之各以其星終率去之不盡
者返以減終率餘滿通法為日得冬至夜半後平合日
算各以其星變差乘積算滿乾實去之餘滿通法為日
以減平合日算得入歴算數皆四約其餘同於辰法乃
以一象之算除之以少陽老陽少隂老隂為次起少陽
算外餘以一爻之算除之所得命起其象初爻算外得
所入爻算數五星爻象歴
以所入爻與後爻損益率相減為前差又以後爻與次
後爻損益率相減為後差二差相減為中差置所入爻
并後爻損益率半中差以加之九之二百七十四而一
為爻末率因為後爻初率(皆因前爻末率以為後爻初率)初末之率相
減為爻差倍爻差九之二百七十四而一為算差半之
加減初末各為定率以算差累加減爻初定率(少象以差減老)
(象以差加)為每算損益率循累其率隨所入爻損益其下進
退積各得其算定數(其四象初爻無初率上爻無末率皆置本爻損益率四而九之二百)
(七十四得一各以初末率減之皆互得其率)各置其星平合所入爻之算差
半之以減其入算損益率損者以所入餘乘差辰法除
并差而半之益者半入餘乘差亦辰法除皆加所減之
率乃以入餘乘之辰法而一所得以損益其算下進退
各為平合所入定數置進退定數(金星則倍置之)各以合下乘
數乘之除數除之所得滿辰法為日以進加退減平合
日算(先以四約平合餘然後加減)為常合日算置常合日先後定數
四而一以先減後加常合日算得定合日算又四約盈
縮分以定合餘乘之滿辰法而一所得以盈加縮減其
定除加其日夜半日度為定合加時星度又置定合日
算以冬至大小餘加之天正經朔大小餘減之(其至朔小餘皆)
(先以四約之若大餘不足減又以爻數加之乃減之)餘滿四象之策除為月數不
盡者為入朔日算命月起天正日起經朔算外得定合
月日(視定朔與經朔有進退者亦進減退加一日為定)置常合及定合應加減
定數同名相從異名相消乃以加減其平合入爻算滿
若不足進退爻算得定合所入乃以合後諸變歴度累
加之去命如前得次變初日所入如平合求進退定數
乃以乘數乘之除數除之各為進退變率
五星變行日中率度中率差行損益率歴度(乘數除數)
歲星合後伏十七日三百三十二分行三度三百三十
二分先遲二日益疾九分歴一度三百五十七分
(乘數三百五十除數二百八十一)
前順百一十二日行十八度六百五十六分先疾五日
益遲六分歴九度三百三十七分(乘數三百五十除數二百八十)
(一)
前留二十七日歴二度二百二十分(乘數二百六十七除數二百二十二)
前退四十二日退五度三百六十九分先遲六日益疾
十一分歴三度四百七十五分(乘數四百七十除數四百三十)
後退四十三日退五度三百六十九分先遲六日益遲
十一分歴三度四百七十五分(乘數五百一十除數四百六十七)
後留二十七日歴三度二百一十分(乘數二百七十除數二百二十二)
後順百一十二日行十八度六十五分先遲五日益疾
六分歴九度三百三十七分(乘數二百六十七除數二百二十七)
合前伏十七日三百三十二分行三度三百三十二分
先疾二日益遲九分歴一度三百五十八分(乘數三百)
(五十除數二百八十一)
熒惑合後伏七十一日七百三十五分行五十四度七
百三十五分先疾五日益遲七分歴三十八度二
百一分(乘數百二十七除數三十)
前疾二百一十四日行百三十六度先疾九日益遲四
分歴百一十三度五百九十六分(乘數百二十七除數三十)
前遲六十日行二十五度先疾日益遲四分歴三十一
度六百八十五分(乘數二百三除數五十四)
前留十三日歴六度六百九十三分(乘數二百三除數五十四)
前退三十一日退八度四百七十三分先遲六日益疾
五分歴十六度三百六十七分(乘數二百三除數四十八)
後退三十一日退八度四百七十三分先疾六日益遲
五分歴十六度三百六十七分(乘數二百三除數四十八)
後留十三日歴六度六百九十三度(乘數二百三除數四十八)
後遲六十日行二十五度先遲日益疾四分歴三十一
度六百八十五分(乘數二百三除數五十四)
後疾二百一十四日行百三十六度先遲九日益疾四
分歴百一十三度五百九十六分(乘數二百三除數五十四)
合前伏七十一日七百三十六分行五十四度七百三
十六分先遲五日益疾七分歴三十八度二百一
分(乘數百二十七除數三十)
鎮星合後伏十八日四百一十五分行一度四百二十
五分先遲二日益疾九分歴四百八十分(乘數十二除數)
(十一)
前順八十三日行七度二百四十一分先疾六日益遲
五分歴二度六百二十三分(乘數十二除數十一)
前留三十七日三百八十分歴一度二百八分(乘數十除數九)
前退五十日退二度三百三十四分先遲七日益疾一
分歴一度五百三十一分(乘數二十除數十七)
後退五十日退二度三百三十四分先疾七日益遲一
分歴一度五百三十一分(乘數五除數四)
後留三十七日三百八十分歴一度二百八分(乘數二十除數)
(十七)
後順八十三日行七度二百四十一分先遲六日益疾
五分歴二度六百二十三分(乘數十除數九)
合前伏十八日四百一十五分行一度四百一十五分
先疾二日益遲九分歴四百八十分(乘數十二除數十一)
太白晨合後伏四十一日七百一十九分行五十二度
七百一十九分先遲三日益疾十六分歴四十一
度七百一十九分(乘數七百九十七除數二百九)
夕疾行百七十一日行二百六度先疾五日益遲九分
歴百七十一度(乘數七百九十七除數二百九)
夕平行十二日行十二度歴十二度(乘數五百一十五除數百五十六)
夕遲行四十二日行三十一度先疾(日)益遲十分歴四
十二度(乘數五百一十五除數百三十七)
夕留八日歴八度(乘數五百一十五除數九十二)
夕退十日退五度先遲日益疾九分歴十度(乘數五百一十五除)
(數八十六)
夕合前伏六日退五度先疾日益遲十五分歴六度(乘數)
(五百一十五除數八十四)
夕合後伏六日退五度先遲日益疾十五分歴六度(乘數)
(五百一十五除數八十三)
晨退十日退五度先疾日益遲九分歴十度(乘數五百一十五除)
(數八十四)
晨留八日歴八度(乘數五百一十五除數八十六)
晨遲行四十二日行三十一度先遲日益疾十分歴四
十二度(乘數五百一十五除數九十一)
晨平行十二日行十二度歴十二度(乘數五百一十五除數百三十七)
晨疾行百七十一日行二百六度先遲五日益疾九分
歴百七十一度(乘數五百一十五除數百五十六)
晨合前伏四十一日七百一十九分行五十二度七百
一十九分先疾三日益遲十六分歴四十一度七
百一十九分(乘數七百九十七除數二百九)
辰星晨合後伏十六日七百一十五分行三十三度七
百一十五分先遲日益疾二十二分歴十六度七
百一十五分(乘數二百八十六除數二百八十七)
夕疾行十二日行十七度先疾日益遲五十分歴十二
度(乘數二百八十六除數二百八十七)
夕平行九日行九度歴九度(乘數四百九十五除數百九十四)
夕遲行六日行四度先疾日益遲七十六分歴六度(乘數)
(四百九十六除數百九十五)
夕留三日歴三度(乘數四百九十七除數百九十六)
夕合前伏十一日退六度先遲日益疾三十一分歴十
一度(乘數四百九十八除數百九十七)
夕合後伏十一日退六度先疾日益遲三十一分歴十
一度(乘數五百除數百九十八)
晨留三日歴三度(乘數四百九十八除數百九十八)
晨遲行六日行四度先遲日益疾七十六分歴六度(乘數)
(四百九十七除數百九十六)
晨平行九日行九度歴九度(乘數四百九十六除數百九十五)
晨疾行十二日行十七度先遲日益疾五十分歴十二
度(乘數四百九十二除數百九十四)
晨合前伏十六日七百一十五分行三十三度七百一
十五分先疾日益遲二十二分歴十六度七百一
十五分(乘數二百八十六除數二百八十七)
各置其本進退變率與後變率同名者相消為差在進
前少在退前多各以差為加在進前多在退前少各以
差為減異名者相從為并前退後進各以并為加前進
後退各以并為減逆行度率則反之皆以差及并加減
日度中率各為日度變率(其水星疾行直以差并加減度中率為變率其日直因中)
(率為變率勿加減也)以定合日與前疾初日後疾初日與合前伏
初日先後定數各以同名者相消為差異名者相從為
并皆四而一所得滿辰法各為日度乃以前日度盈加
縮減其合後伏度之變率及合前伏前疾日之變率亦
以後日度盈減縮加其後疾日之變率及合前伏前疾
度之變率(金水夕合反其加減留退亦然)其二留日之變率若差於中
率者即以所差之數為度各加減本遲度之變率(謂以所多)
(於中率之數加之少於中率之數減之已下加減準此)退行度之變率若差於中
率者即倍所差之數各加減本疾度之變率(其土木二星既無遲)
(疾即加減前後順行度之變率)其水星疾行度之變率若差於中率者
即以所差之數為日各加減留日變率(其留日變率若少不足減者即)
(侵減遲日變率若多於中率者亦以所多之數為日以加留日變率)各加減變率訖皆為
日度定率其日定率有分者前後輩之(輩配也以少分配多分滿全為)
(日有餘轉配其諸變率不加減者皆依變率為定率)置其星定合餘以減辰法餘
以其星初日行分乘之辰法而一以加定合加時度得
定合後夜半星度及餘(自此各依其星計日行度所至皆從夜半為始)各以一
日所行度分順加退減之其行有小分者各滿其法從
行分伏不注度留者因前退則依減順行出虚去六虚
之差退行入虚先如此差(六虚之差亦四而一乃用加減)訖皆以轉法
約行分為度分得每日所至(日度定率或加或減益疾益遲每日漸差不可預定)
(今且略㩀日度中率商量置之其定率既有盈縮即差數合隨而增損當先檢括諸變定率與中率相較近者)
(因用其差求其初末之日行分為主自餘諸變因此消息加減其差各求初末行分循環比較使際會參合衰)
(殺相循其金水皆以平行為主前後諸變準此求之其合前伏雖有日度定率因加至合而與後算不叶者皆)
(從後算為定其初見伏之度去日不等各以日度與星辰相較木去日十四度金十一度火土水各十七度皆)
(見各減一度皆伏其木火土三星前順之初後順之末及金水疾行留退初末皆是見伏之初日注歴消息定)
(之金水及日月度皆不注分)置日定率減一以所差分乘之為實以
所差日乘定日率為法實如法而一為行分得每日差
以辰法通度定率從其分如日定率而一為平行度分
減日定率一以所差分乘之二而一為差率以加減平
行分(益疾者以差率減平行為初日加平行為末日益遲者以差率加平行為初日減平行為末日)得
初末日所行度及分(其差不全而與日相合者先置日定率減一以所差分乘之為實倍)
(所差日為法實如法而一為行分不盡者因為小分然後為差率)置初日行分益遲者
以每日差累減之益疾者以每日差累加之得次日所
行度分(其每日差及初日行皆有小分母既不同當令同之乃用加減)其先定日數而
求度者減所求日一以每日差乘之二而一所得以加
減初日行分(益遲減之益疾加之)以所求日乘之如辰法而一為
度不盡者為行分得從初日至所求日積度及分若先
定度數而返求日者以辰法乘所求行度有分者從之
八之如每日差而一為積倍初日行分以每日差加減
之(益遲者加之益疾者減之)如每日差而一為率令自乘以積加減
之(益遲者以積減之益疾者以積加之)開方除之所得以率加減之(益遲者以)
(率加之益疾者以率減之)乃半之得所求日數(開方除者置所開之數為實借一算於實)
(之下名曰下法步之超一位置商於上方副商於下法之上名曰方法命上商以除實畢倍方法一折下法再)
(折乃置後商於下法之上名曰隅法副隅并方命後商以除實畢隅從方法折下就除如前開之)五星
前變入陽爻為黃道北入隂爻為黃道南後變入陽爻
為黃道南入隂爻為黃道北(其金水二星以夕為前變晨為後變各計其變行起)
(初日入爻之算盡老象上爻末算之數不滿變行度常率者因置其數以變行日定率乘之如變行度常數而)
(一為日其入變日數與此日數已下者星在道南北依本所入隂陽爻為定過此日數之外者南北返之)
九執歴者出于西域開元六年詔太史監翟曇悉逹譯
之斷取近距以開元二年二月朔為歴首度法六十月
有二十九日餘七百三分日之三百七十三歴首有朔
虚分百二十六周天三百六十度無餘分日去沒分九
百分度之十三二月為時六時為歲三十度為相十二
相而周天望前曰白博义望後曰黑博义其算皆以字
書不用籌策其術繁碎或幸而中不可以為法名數詭
異初莫之辯也陳玄景等持以惑當時謂一行寫其術
未盡妄矣
唐書卷二十八下
