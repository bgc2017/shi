舊唐書卷三十四
後晉司空同中書門下平章事劉昫撰
志第十四
歴三
開元大衍歴經
演紀上元閼逢困敦之歲距今開元十二年甲子歲歲
積九千六百六十六萬一千七百四十算
大衍步中朔第一
大衍通法三千四十
策實一百一十一萬三百四十三揲法八萬九千七百七十三
減法九萬一千三百策餘一萬五千九百四十三
用差一萬七千一百二十四掛限八萬七千一十八
三元之策一十五餘六百六十四秒七四象之策二十九
餘一千六百一十三中盈分一千三百二十八秒十四朔虚
分一千四百二十七爻數六十象綂二十四
推天正中氣以策實乘八元距所求積算命日中積分
盈大衍通法得一為積日不盈者為小餘爻數去積日
不盡日為大餘數從甲子起算外即所求年天正中氣
冬至日及小餘也求次氣因天正中氣大小餘以三元
之策及餘秒加之其秒盈象綂從小餘小餘滿大衍通
法從大餘大餘滿爻數去之命如前即次氣恒日及餘
秒(凡率相因加者下有餘秒皆以類相從而滿其法則迭進之用加上位日盈爻數去之也)推天正
合朔以揲法中積分其所不盡日歸餘之卦以減中積
分餘為朔積分廼如大衍通法而一為日不盡為小餘
日盈爻數去之不盈者為大餘命以甲子算外即所求
年天正合朔經日及小餘也求次朔及弦望因天正經
朔大小餘以四象之策及餘加之數除如法即次朔經
日及餘也又自經朔加一象之日七及餘一千一百六
十三少得上弦倍之得望參之得下弦四之是謂一揲
復得後月之朔(凡四分一為少二為半三為太四為全加滿其前數去之從上位)綜中
朔盈虚分累益歸餘之卦每其月閏衰(凡歸餘之卦五萬六千七百六)
(十以上其歲有閏因考其閏衰滿卦限以上其月及合置閏或有進退皆以定朔無中氣裁焉)
推没日置有没之氣恒小餘以象統乘之内秒分参而
伍之以減策實餘滿策餘為日不滿為没餘命起也(凡恒)
(氣小餘不滿大衍通法如中盈分半法已下為有没之氣)推滅日以有滅之朔經小
餘減大衍通法餘倍参伍乘之用減滅法餘滿朔虚分
為日不滿為滅餘命起經朔初日算外即合朔後減日
也(凡經朔小餘不滿朔虚分者為有滅之朔)
大衍步發斂術第二
天中之策五餘二百二十二秒三十一秒法七十二
地中之策十八餘一百六十五秒八十六秒法一百二十
貞悔之策三餘一百三十二秒一百三秒法如前
辰法七百六十刻法三百四
推七十二候各因中節大小餘命之即初候日也以天
中之策及餘秒加之數除如法即次候日又加得末候
日凡發斂皆以恒氣
推六十卦各因中氣大小餘命之公卦用事日也以地
之策及餘秒累加之數除如法各次卦用事日若以貞
悔之策加諸候卦得十二節之初外卦用事日
推五行用事各因四立大小餘命之即春木夏火秋金
冬水首用事日也以貞悔之策及餘秒減四季中氣大
小餘即其月土始用事日(凡相加減而有秒者母若不齊當令母亙乘子乃加減之)
(母相乘為法)
恒氣(月中節四月卦)初候次候末候始卦中卦終卦
冬至(十一月中坎初六)蚯蚓結麈角觧水泉動公中孚辟復侯屯(内卦)
小寒(十二月節坎九二)鴈北鄕鵲始巢野鷄始雊侯屯(外卦)大夫謙卿暌
大寒(十二月中坎六三)雞始乳鷙鳥厲疾水澤腹堅公升辟臨侯小過(内卦)
立春(正月節坎六四)東風觧凍蟄蟲始振魚上冰侯小過(外卦)大夫蒙卿益
雨水(正月中坎九五)獺祭魚鴻鴈來草木萌動公漸辟泰侯需(内卦)
驚蟄(二月節坎上六)桃始華倉庚鳴鷹化為鳩侯需(外卦)大夫隨卿晉
春分(二月中震初九)玄鳥至雷乃發聲始電公觧辟大壯侯豫(内卦)
清明(三月節震六二)桐始華田鼠化為鴽虹始見侯豫(外卦)大夫訟卿蠱
榖雨(三月中震六三)萍始生鳴鳩拂羽戴勝降桑公革辟夬侯旅(内卦)
推發斂去朔各置其月閏衰以大衍通法約之為日不
盡為餘即其月中氣去經朔日算及餘秒也求卦候者
各以天地之策及餘秒累加減之(中氣之前以減中氣之後以加)得去
經朔日算及餘秒
推發斂加時各置其小餘以六爻乘之如辰法而一為
半辰之數不盡者五之三刻法除之為刻又不盡者三
約為分(比分滿刻若令滿象積為刻為刻者即置不盡之數十之十九而一為分)命辰起子
半算外各其加時所在辰刻及分也
大衍步日躔術第三
乾實一百一十一萬三百七十九太周天度三百六
十五(虚分七百七十九太歲差三十六太)
定氣辰數盈縮分
前後數損益率朓朒積
冬至一百七十三(三分)盈二千三百五十二
先端益一百七十八朒初
小寒一百七十五(三分)盈一千八百四十五
先二千三百五十三益一百三十八朒一百七十六
大寒一百七十七(一分)盈一千三百九十
先四千一百九十八益一百四朒三百一十四
立春一百七十八(八分)盈九百七十六
先五千五百八十八益七十三朒四百一十八
雨水一百八十(三分)盈五百八十八
先六千五百六十四益四十四朒四百九十一
驚蟄一百八十一(八分)盈二百一十四
先一千一百五十二益十六朒五百三十五
春分一百八十三(五分)縮二百一十四
先七千三百六十六損十六朒五百五十一
清明一百八十四(七分)縮五百八十八
先七千一百五十二損四十四朒五百四十五
榖雨一百八十六(五分)縮九百七十六
先六千五百六十四損七十三朒四百九十一
立夏一百八十八(一分)縮一千三百九十
先五千五百八十八損一百四朒四百十八
小滿一百八十九(九分)縮一千八百四十五
先四千一百九十八損一百三十八朒三百十四
芒種一百九十一(九分)縮一千三百五十二
先二千三百五十三損一百七十六朒一百七十六
夏至一百九十一(九分)縮二千三百五十三
後端益一百七十六朓初
小暑一百八十九(九分)縮一千八百四十五
後二千三百五十三益一百三十八朓一百七十六
大暑一百八十八(一分)縮一千三百九十
後四千一百九十八益一百四朓三百一十四
立秋一百八十六(五分)縮九百七十六
後三千五百八十八益七十三朓四百一十八
處暑一百八十四(九分)縮五百八十八
後六千五百六十四益四十四朓四百九十一
白露一百八十三(五分)縮二百一十四
後七千一百五十二益十六朓五百三十五
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
求次月定朔夜半入變宿術
置天正恒朔夜半所入變日及餘(定朔有進退一日者進退一日為定朔夜)
(半所入)月大加二日月小加一日餘皆五百九十六竒十
六
求次日夜半所入變歷術
因定朔夜半所入日算加日一滿皆如前(其弦皆依前定日所在求)
(之)
求變日定離程術
各以其日夜半入變餘乘離差總法而一為見差以進
加退減其日離程為月每日所離定程
求朔弦望之定日夜半月所在度術
各以其日定小餘乘所入變日離定程總法而一為夜
半後分滿程法為度餘為度分以減其日加辰所在度
及分命以黃道宿度即其所求次日夜半各以離定程
加朔弦望夜半所在分滿程法從度去命以黃道宿度
算外則次日夜半月度求晨昏度以其日離定程乘其
日夜刻二百而一為昏分滿程法為度望前以昏後以
昏加度半度得所求其弦望以五乘定小餘程法一為
刻即各其辰所入刻數皆減其晨前刻不盡為晨後刻
不滿晨前刻者從前日住歷伺候推總刻一百
辰刻分十一刻分法七十二
求定氣日晝夜漏刻及日出没術
倍其氣晨前刻及分滿法從刻為日不見漏以減百刻
餘為日見漏五刻晝漏刻以晝漏刻減百刻餘為夜漏
刻以四刻十二分加晨前漏刻命起子初刻算外即日
出辰刻以日見漏加日出刻辰以次如前即日没所在
辰刻(以二十五除從夜漏得每更一籌之數以二刻三十六分加日没辰刻即甲辰刻又以更籌數加之)
(得甲夜一籌數以次累加滿辰去命之即五更夜籌所以當辰刻及也以配二十一箭漏之法也)
求每日並屈申數術
每氣凖為一十五日各置其氣屈申率每以發斂差損
益之差滿十從分分滿十從率一即各每日屈申率各
累計屈申率為刻分乃以一百八十乘刻分汎差十一
乘綱紀而除之得為刻差滿法為刻隨氣所在以申減
屈加不見漏而半之為晨前定刻每求次日各如前法
(時加其如始隨加辰日晚以率課之)
求黃道去極每日差術
置刻差三十而一為度不滿三約為分申減屈加其氣
初黃道度即每日所求
求昏旦去中星度術
每日求其晝漏刻數以乘朞實二百乘總法而除之得
昏去中星度以減周天度餘為晨去中星度以昏旦去
中星度加其辰日所在即各其日中宿度(其梗槩粗舉者加其夜半)
(日度各其日中星宿度)
因求次日者各置其四刻差七十二乘之二百八十八
而一度冬至後加夏至後減隨日加各得每日去中度
晨昏所距日在黃道中星凖度以赤道計之其赤道同
太初星距
推遊交術
終率一千九十三萬九千三百一十三竒率三百
約終三萬六千四百六十四竒一百一十三交中
一萬八千二百三十二竒五十六半交中日二十
七餘二百八十四竒一百一十三交中日十三
餘八百一十二竒五十六半虧朔三千一百六
竒一百八十七實望一萬九千七百八十五竒一
百五十後凖一百五十二竒九百三半前準一
萬六千六百七十八竒二百六十三
求月行入交表裏術
置總實以終率去之不足去者竒率乘之滿終率又去
之不滿者竒率約之為天正恒朔夜半入交分不盡為
竒以總法約入交分為日不盡為餘命日算外即天正
恒朔夜半入交日算及餘竒(天正定朔有進退日者依所進退一日為朔所入)
日不滿中日及餘竒者為月在外滿去之餘皆一為月
在内大月加二日小月加一日餘皆一千五十五竒一
百八十七求次日加一日滿中日者皆去之餘為入次
一表一裏迭互入之
交日去交差差積
一日進十四積元二日(餘二百一十四已下者入蝕限)進十三
十四三日進十一半二十七四日進十一
半三十八半五日進七四十八六日進
四五十五七日(進二退二)五分(四進強一退弱)五十七八日
退二六十(六十又一分一分當日退)九日退五五十八十
日退八五十三十一日退十半四十五
十二日退十二半三十四半十三日(餘五百九十九已上)
(入蝕限)退十三半二十二十四日退十四少(三退強三)
(退弱)八半
求月入交去日道遠近術
置所入日差并後差半之為通率進以入日餘減總法
以乘差總法而一并差以半之退者半入餘以乘差總
法而一皆加通率為交定率乃以入餘乘定總法乃進
退差積滿十為度不滿為分即各其日月去日道度數
每求日道宿度去極數其入七日餘一千七十六竒二
十八少已下者進已上盡全餘二百六十三竒二百七
十一大者退八十四日如交餘竒已下者退其入已上
盡全餘五百二十七竒二百四十二半者進而終其要
為五分初則七日四分十四日三分末則七日後一分
十四日後二分雖初強末弱差率有檢月道一度半強
已下者為沾黃道當朔望則有虧遇五星在黃道者則
相侵掩
求所在宿術
求夜半入交日十三算者及餘以減中日及餘不盡者
以乘其日離定程總法而一為離分滿程為度以加其
日夜半月所在宿度算及分求次交準此各得其定交
在所度置前後定交所宿度算及分半之即各表裏極
所在宿度及分
求恒朔望汎交分野
因天正恒朔夜半入交分以天正恒朔汎交分求望汎
交以實望加之又加得次月恒朔汎交分滿約終及竒
去之次求次朔以虧望加之
求朔望入常交分術
以入氣盈朒定積盈加朒減其恒汎交分(滿若不足進退約終)即
其常分交
求朔望定分術
以六十乘定遲速以七百七十七降除之所得為限數
速減遲如常(其數朔入交月在日道裏者以所入限數減定遲速餘以速減遲加其定交分而出日)
(道表者為變交分加減不出日道表即依定交分求蝕分其變交分出日道表三時半内者檢其前後月望入)
(交分數多少依月虧初復求定蝕術注消息心定蝕不一)
求入蝕限術
其入交定分如交中已下者為月在外道交中已上者
以交中減之餘為月在内外分如後凖已下前準已上
者為入蝕陽則月蝕朔入限月在裏者日蝕入限如後
準已下者為交後分前凖已上者及減交中餘為交前
後分以一百一十二約之為交時
求月蝕所在辰術
置望日不見刻六十七乘之十而一所得若蝕望定小
餘與之等已下又以此得減總法餘與之等己為蝕正
見數定小餘如求律氣應加時法得加時所在辰月在
衝辰蝕若非正見者扵日出後日没前十二刻半内求
其初末以候之(又以半總減蝕定小餘不足減者半總加減訖以六乘之如辰率而一命起子)
(半算外即月蝕所在辰)
求日蝕所在辰術
置有蝕朔定小餘副之以辰率除之所得以艮巽乾為
次命退算外不滿法者半法減之無可減者為初所減
之餘為末初則減法各為差率月在内道者乃以十加
去交時數而三除之以乘差十四而一為差其朔在二
分前後一氣内即以差為定近冬至以去寒露雨水近
夏至以去清明白露氣數倍之又三除去交時數增之
近冬至艮巽以加坤乾以減近夏至艮巽以減坤乾以
加其差為定差艮坤加副巽乾減副月在外道者三除
去交時數以乘差率十四而一為之差艮坤以減副巽
乾以加副各加減副訖為定副小餘如求律氣應加時
術即日蝕所在辰及少太其求入辰刻以半辰刻乘朔
辰率而一得刻及分若蝕近朝夕者以朔所入氣日出
没刻校蝕所在知蝕見不之多少所在辰為正見日月
蝕既在起復初末亦或變常退扵見前後十二刻半候
之
求月起復依蝕分後術
求月在日道表朔不應蝕凖朔在夏至初日去交前
後二百四十八分為初凖已下加時在午正前後七刻
内者食朔去夏至前後每一日損初準二分畢扵前後
九十四日各為每日變凖其朔去交如變凖已下加時
如前者蝕
又以末凖六十減初凖及變凖餘以十八約之為刻凖
以并午正前後七刻數為時凖加時凖内去交如末凖
已下並蝕又置末凖每一刻加十八為差凖每加時刻
去午前後如刻凖已上交分如差凖已下者並蝕
自秋分至春分去交如末凖已下加時
南方三辰者亦蝕(凡定交分在辰前後半時外者雖入蝕凖前為蝕)求日在日
道裏朔應蝕而不蝕準朔在夏至日去交一千三百七
十三為初準已上加時在午正前後十八刻内者或不
蝕朔去夏至前後每一日益初凖一分半畢扵前後九
十四日各為每日變準以初減變餘十而一為刻凖以
刻減午正前後十八刻餘十而一為時凖其去交在變
凖已上加時在凖内者或不蝕
求月蝕分術
置去交前後定分交分前後皆去二百二十四春交後
去一百交前去二百夏不問前後去五十秋交後去二
百交前去一百不足去者蝕既有餘者以減後凖一百
四而一餘半已下為半弱半已上為半強命以十五為
限得月蝕之大分
求月蝕所起術
月在内道蝕東方三辰(虧自月下邪南而上月從西而漸北自東而漸南)蝕南
方三辰(虧起在下甚扵正南復扵在下)蝕西方三辰(虧自南而漸東月從北而漸西起扵)
(月上邪南而下)月在外道蝕東方三辰(虧起自月下邪北而上虧起東而漸)
(北月從西漸高)蝕南方三辰(虧起在上甚扵正北復扵右上)蝕西方三辰(虧自北而)
(漸東月從南而漸西起扵月上邪北而下)凡蝕十二分已上皆隨黃道所在
起復扵正傍逆順上下每過其分又道有升降每各不
同各隨時取正
求日蝕分術
月在内道者朔入冬至畢朒雨水及盈秋分
畢大雪皆以五百五十八為蝕差(自入朒春分已後日損六分畢)
(扵白露)置蝕去交前後定分皆以蝕差減之但去交分不
足減者皆反以減蝕差蝕為不蝕餘自入朒小滿畢扵
小暑加時在午正前後七刻外者皆不餘蝕餘一時三
刻内加不蝕餘一時朒大寒畢朒立春交前五時外大
暑畢盈立冬交後五時外皆云不蝕蝕餘一時五時内
加一時諸加時辰差應減者交後減之交前加之應加
者交後加之交前減之但不足減去者蝕既加減入不
蝕限者或不蝕其月在外道者冬至初日無蝕差自後
日益六分累計以為蝕差畢扵朒雨水自入朒春分畢
於盈白露皆以五百二十二為蝕差(自入盈秋分已後日損六分畢扵大)
(雪所損之餘為蝕差)以蝕差加去交定分為蝕分以減後準餘為
不蝕分各置其朔蝕差十五約之以減一百四餘為定
法不蝕分餘各如定法得一分餘半法已上為半強已
下為半弱減十五餘為蝕之大分
求日蝕所起術
日在内道日蝕東方三辰(虧自日上近北而邪下月漸西北日漸東南)日
蝕南方三辰(虧起右下甚正北復左下月在南而漸東日在北而漸西)日蝕西方三
辰(月漸東北日漸西南虧自日下近西而邪上)日在外道日蝕東方三
辰(虧自日上近南而邪下月漸東南日漸西北)日蝕南方三辰(虧起右下甚正北復左下月在)
(南而漸東日在北而漸西)日蝕西方三辰(月漸西南日漸東北虧自日下近南而邪上)凡
蝕十二分已上起扵正傍各據黃道升降以準其體隨
其所處每各不同(蝕有初末動涉其時隨便益損以定虧復所在之方也)
求日月蝕虧初及復末時刻術
置朔望所蝕大分數為率四分已上因增二五分已上
因增三九分已上因增四十三分已上因增五各為汎
用刻率副之以乘所入率副之以乘所入變增減半總
法而一應速增損減加應遲依其增減副訖為蝕定用
刻數乃四乘之十而以減蝕甚辰刻為虧初又六乘之
十而一加蝕甚辰刻為復末依其定加時所在辰刻加
減命之各其辰其月蝕甚初末更籌因其日月所入辰
刻及分依前定氣所遇夜刻更籌術求其初末及甚時
更籌迦葉孝威等天竺法先依日月行遲疾度以推入
交遠近日月蝕分加時日月蝕亦為十五分去交十五
度十四度十三度影虧不蝕法自此已下乃依驗蝕十
二度十五分蝕二分少強以漸差降自五度半已上蝕
既十四分強若五度無餘分已下皆蝕盡又用前蝕多
少以定後蝕分餘若既其後蝕度及分即加七度以為
蝕度若望月蝕既來月朔日雖入而不注蝕若蝕半已
下五分取一分若半已上三分取一分以加來月朔蝕
度及分若今歲日餘度及分然後可驗蝕度分數多少
又云六月依節一蝕是月十五日是月蝕節黑月盡是
月蝕節亦以吉凶之象警告王者奉順正法蒼生福盛
雖時應蝕由福故也其蝕即退更經六月欲蝕之前皆
有先兆月欲有蝕先月形摇振状若驚懼月兔及側月
色黃如有憂状自常暈月初生時光不顯盛或極細微
日欲有蝕先日形搖振極如驚懼狀或光色微昧不赫
盛或黎慘日月蝕先同候光隕墜或旦暮際有赤色起
如火燒金銀珠玉諸寳失光或有(闕)盡如雲入日或有
黑盡入月鳥聲細隱烏不顯亮雲交擾擾光景渾亂忽
極令諸乳卒竭月濕如汗狀日形段裂無光犬嘷猫呌
虹見有聲三辰失(闕)月時有缺水赤色有膩十四日十
五日辟鳥圓集者亦是蝕之先候此等與中國法數稍
殊自外梗槩相似也
步五星術
五星(奇率皆百)總率竒伏分奇
五星終日餘竒
求五星平見術
各以伏分減總實餘以其星總率去之不足去者反減
其餘總率餘以總法約之為日不盡為餘竒即所求年
天正恒朔夜半後星辰夕平見日算及餘竒(天正定朔進退日者)
(進減退加一日為定朔夜半後星平見日及餘竒其金水二星先得夕平見其滿見伏日及餘者去之餘為晨)
(平見日及餘竒)命見日天正歷月大小以次去之不滿月者為
八其月命日算外即晨夕平見所在月日及餘竒
求後平見在日月術
各以其星終日算及餘竒如前平見所在月日算及餘
竒竒滿竒率從餘餘滿總法為日去命如前即後平見
所在月日及餘竒(其金水二星加夕得晨加晨得夕)各半見餘以同半
總
求五星常見術
各依其星平見所入恒氣計日損益分滿半總為日不
滿為分以損益所加減訖餘以加減訖平見日及分即
其常見日及分星日(初見去日度平見入氣歷)加減日(損益率)歲星
初見去日十四度見入冬至畢小寒均減六日(自入大寒已後)
(日損六十七分自後日加八十九分)見入春分初日依平入立夏畢小滿
均加六日(自入芒種已後日損益八十九分)入夏至畢立秋均加四日
(自入處暑已後日損一百七十八分)入白露初日依平均(自後日減五十二分)入小
雪畢大雪均減六日熒惑初見去日十七度見入冬
至初日減二十七日(自後日損六百三分)入大寒初日依平(自後日加)
(四百二分)入雨水畢榖雨均加二十七日(入自立夏已後日損一百九十八分)
入立秋依平(自入處暑已後日減一百九十分)入小雪畢大寒均減二
十七日鎮星初見去日十七度見入冬至初日減四
日(自後日益八十九分)入大寒畢春分均減八日(自入清明已後日損五十九分)
入小暑初日依平(自後日加八十九分)入白露初日加八日(自後日損)
(一百七十八分)入秋分均加四日(自入寒露已後日損五十九分)入小雪初日
依平(自平後日減八十九分)太白初見去日十一度夕見入冬
至初日依平(自後日減一百分)入啟蟄畢春分均減九日(自入清明)
(已後日損一百分)入芒種依平(自入夏至已復日加一百分)入處暑畢秋分
均加九日(自入寒露已後日損一百分)入大雪依平晨見入冬至依
平(自入小寒已後日加六十七分)入立春畢立夏均加三日(自入小滿已後日損)
(六十七分)入夏至依平(自入小暑已後日減六十七分)入立秋畢均加三日
(自入小雪已後日損六十七分)辰星初見去日十七度夕見入冬至
畢清明依平入榖雨畢芒種均減二日入夏至畢大暑
依平入立秋畢霜降應見不見(其在立秋及霜降二氣之内多去日十八度外)
(三十六度内有木火土金一星以上者亦見)入立冬畢大雪依平晨見入冬至
均減四日入小寒畢大寒依平入立春畢啓蟄均減三
日(其在啓蟄氣晨無水火土金内去日度如前一星以上者不見)入雨水畢立夏應見
不見(其在立夏氣内去日度如前晨有水火土金一星已上者亦見)入小滿畢寒露依
平入霜降畢立冬均加一日入小雪畢大雪依平
求五星定見術
各置其星常見日消息定數半之息減消息如常見日
即為定見日及分(五星休王各不同喜怒盛衰大小尤異苟變扵常見或先後今依日躔遲)
(速考其行度其格以去日為之定凖)
求星見所在度術
置星定見日夜半日所在宿度算及分半其日躔差率
定見餘半總而一進加退減定見餘以加夜半度分乃
以其星初見去日度數晨減夕加之即星初見辰所在
宿度等及分行星術
各置其星初見日消息定數半之息加消減其星初見
行留日率(其土木三日出不湏加減即依本術其加減不滿日者與見通之過半後一日無半不後)
(論乃依行星日度之率求日之行分)
求初見日後夜半星所在術
置其星定見餘以減半總以其星初見行分乘之半總
而一以順加逆減星初見定辰所在度分加之滿法減
之不足進退一度依前命之算外即星見後夜半所在
宿度及分(自此已後每依其星計日行度所至日度及益疾皆從夜半為昭辰有少隨所近也)
轉求次日夜半星行所至術
各以其星一日所行度及分順逆加減之其行有小分
者以日率為母小分滿母去之從行分一行分滿半總
去之從度一其行有益疾益遲者副置一日行分各以
其差遲損乃如之留者因前逆則依減順行出斗去其
分逆行入斗先加分訖皆以程法約行分為度分各得
每日所至(其五星後順留退所終日度各依伏度求其去日遠近消息日度之以定伏日所在若注)
(歷其日度及金水等皆棄其分也)
求平行度及分術
置定度率以總乘之以有分者從之以日率除之所得
為一日行分不盡小分滿其行分滿半總為度即是一
日所行度及行分小分置定日率減一日以所差分乘
之二而一為差率益疾者以差率減平行分益遲者以
差率加平行分即是初日所行度及分星名星行變日
初行入氣歷行日率行度及度分率(損益率)歲星初順
差行一百一十四日行十八度(五百九遲一分先疾日益十四日)前留
二十六日旋退西行差行三十日退六度(十二分先遲日益疾二分)
又退西行差行四十二日退六度(十二分先疾日益遲二分)後留二
十五日後須差行一百一十四日行十八度(五百九先進遲日益)
(疾分日盡而夕伏十四日)熒惑初順入冬至初日率二百四十三
日行一百六十五度(自後三日損日及度各三)小寒初日二百三十
五日行一百五十四度(自後二日損日及度各三)榖雨四日平(畢小滿九)
(日)一百七十八日行一百度(自入小滿九日已後二日益日及度各一)夏至
初日平(畢六日)一百七十一日行九十三度(自入夏至六日已後三日)
(益日及度各一)立秋初日一百八十四日行一百六度(自後一日益日)
(及度各一)白露初日二百一十四日行一百三十六度(自後五日)
(益日及度各一)秋分初日二百三十二日行一百五十四度(自後)
(一日益日及度各一)寒露初日二百四十七日行一百六十九度
(自後五日益日及度各二)霜降五日平(畢立冬十三日)二百五十九日行一
百八十一度(自入立冬十三日已後二日損日及度各一)復冬至初日二百
四十二日行一百六十五度各依所入恒氣平者依
率自餘計日損益名為前疾日度定率(其前遲及留退入氣有損益日)
(度者計日損益皆同此疾之法以為遲留旋退定日疾之率也)
求變日率術
此疾入大寒六日損日率一畢雨水入春分畢立夏減
日率十入小滿初減日率十後三日損所減一畢芒種
依平若入立秋三日益日率一畢處暑入白露畢秋分
均加率十入寒露初加率十後一日半損所加一畢氣
盡依平
求變度率術
此疾若入大寒畢扵啓蟄立夏至大暑氣盡霜降畢小
雪皆加度率四清明畢榖雨加率度十二初行入處暑
減日率六十度率三十别為初遲半度之行(行盡此日度乃求所)
(減之餘日度率續之為疾)入白露畢秋分(四十四日行二十一度)皆為初遲半
度之率初行入大寒畢大暑差行先疾日益遲一分各
如上法求其行分(其前遲後遲日率既有增損而益遲益疾差分皆檢括前疾末日行分為前)
(遲初日行分以前遲平行分減之餘為前遲總差後疾日分為後遲末日行分為後遲日行分減之餘為後總)
(差減為後别日差分其不滿者皆調為小分遲疾之際行分衰殺不論所差多者依此推算若所差不多者各)
(依本法)前遲順差行入冬至六十日行二十五度(先疾日益遲二)
(分自入小寒已後三日損日及度各一)大寒初日五十五日行二十度(自後)
(三日益日及度各一)立春初日平畢清明六十日行二十五度(自入)
(穀雨别減一氣)立夏初日平畢小滿六十日行二十二度(自入芒種)
(别益一度)夏至初日平畢處暑六十日行二十五度(自入白露已後)
(三日損一度)秋分初日六十行二十五度(自後一日益一日半益一度)寒
露初日六十日行二十五度(自後二日損一度)立冬一日平畢
氣六十日行十七度(自大雪已後五日益一度)大雪初日六十日行
五十度(自後三日益一度)前留十三日(前疾減日率一度以其數分益此留及後遲日)
(率前疾加日率者以其數分遲日率)旋退西行入冬至初日六十三日退
二十一度(自後四日益一度)小寒一日六十三日退二十六度
(自入小寒已後三日半損一度)立春三日平畢啓蟄六十二日退十七
度(自入雨水已後二日益日及度各一)雨水八日平畢氣盡六十七日退
二十一度(自入春分已後二日損日及度各一)春分四日平畢芒種六十
三日退七十度(自入夏至已後六日損日及度各一)大暑初日平畢氣盡
五十八日退十二度立秋初日平畢氣盡五十七日退
十一度(自入白露已後二日益日及度各一)白露十二日平畢秋分六十
三日退七十度(自入寒露已後三日益日及度各一)寒露九日平畢氣盡
六十六日退二十度(自入霜降已後三日損日及度各一)霜降六日平畢
氣盡六十三日退十七度(自立冬已後三日益日及度各一)立冬十一
日平畢氣盡六十七日退二十一度(自入小雪已後二日損日及度各一)
小雪八日平畢氣盡六十三日退十七度(自入大雪已後三日益一)
(度)後留冬至留十三日(自後二日半益一日)大寒初平畢氣盡留
二十五日(自入立春已後二日半日損一)雨水初留十三日(自後三日益一日)
清明初留二十三日(自後一日損一日)清明十日平畢氣盡留
十五日(自入白露已後二日損一日益一日)秋分十一日無留(自入秋分十一日已)
(後一日益一日)霜降初日留十九日(自後三日損一日)立冬三日平畢
大雪留十三日後遲順差行六十日行二十五度(先疾日益)
(疾二日前後疾加度者此遲依數減之為定度前疾無加度者此遲入秋分至立冬減三度入冬至減五度復)
(留定日朒十三日者所以朒日數加此遲日率也)後疾冬至初日率二百一十
日行一百三十一度(自後一日損日及度各一)大寒八日一百七十
二日行九十四度(自入大寒八日已後一日損日及度各一)啓蟄平畢氣盡
一百六十一日行八十三度(自入雨水已後三日益日及度各一)榖雨三
日一百七十七日行九十九度(自入榖雨後三日益日及度各一)芒種
十四日平畢夏至二百三十三日行一百五十度(自入夏至)
(已後十日益日及度各一)小寒五日二百五十三日行一百七十五
度(自入小暑已後五日益日及度各一)大暑初日平畢處暑二百六十三
日行一百八十五度(自入白露已後二日損日及度各一)秋分一日二百
五十五日行一百七十七度(自入秋分一日已後一日半復日及度各一)大
雪初日二百五十日行一百二十度(自入秋分三日益日及度各一)冬
至初日復二百一十日行一百二十七度其入恒氣
日度之率有損益者計日損益並同前疾之法以為後
疾定度之率
求變日率術
其前遲定日朒六十及退行定日朒六十三者皆以所
朒日數加此疾定日率前遲定日盈六十三後留定日
盈十三者皆以所盈日數減此疾定日率加減訖即變
日率
求變度術
其前遲定度朒二十五退行定盈十七遲入秋分至冬
至減度者皆以所盈朒減度者皆以所盈朒減度數加
此疾定度率前遲定度盈二十五及退行定度朒十七
者皆以所盈度數減此疾定度率加朒減訖即變度率
初行入春分畢榖雨差行先進日益疾一分初行入
立夏畢夏至行半度(六十六日行二十二度)小暑(五十日行二十五度)立秋
畢氣盡(二十日行十度減率續行並同前疾初遲法)損益依前求其行分各
盡度而夕伏鎮星初順差行八十三日行七度(二百九十)
(分)先疾日益遲半分前留三十七日旋退西行差行五
十一日退(三十分)先遲日益疾少半太白夕見順(入冬至畢)
(立夏入立秋畢大雪)一百七十二日行二百六度(自入小滿後十日益一度為定)
(疾初入白露畢春分差行疾日益遲二分自餘平行)夏至畢小暑一百七十二日
行二百九度(自入大暑已後五日損一度畢氣盡)平行(入冬至初日及大暑各畢氣盡)一
十三日行一十三度(自入冬至後十日損一畢已後立春入立秋日益一畢秋分)啓
蟄畢芒種七日行七度(自入夏至後五日益一畢扵小暑)寒露初日三
十三日行二十二度(自後六日損一畢扵小雪)順遲差行三十二日
行三十度(先疾日益遲八分前疾加度疾加度過二百六度者準數損此度)夕留七日
夕退西行一十日退五度(日盡而夕伏)晨初退西行十日退
五度(日退半度)晨留七日順遲差行(冬至畢立夏大雪畢氣盡)三十二日
(先遲日益疾八分自入小滿已後率十日損一度畢芒種)平行(冬至畢氣盡立夏畢氣盡)一十三
日行一十三度(日行一度自入小寒已後六日益日及度各一畢扵啓蟄入小滿後七日損日)
(各一畢立秋)雨水初日二十三日行二十三度(自後六日損日及度各一)
(畢扵榖雨)處暑畢寒露無此平行(自入霜降後五日益日及度各一畢大雪前遲行損)
(度不滿三十度者此疾依數益之)疾行一百七十二日行二百六度(處暑)
(畢寒露差行先遲日益疾一分餘平行行日盡而晨伏)辰星夕見順疾一十二
日行二十一度六分(日行一度五百三分)大暑畢處暑一十二日
行一十七度二分(日行一度二百八十分)平行七日行七度(自入大暑)
(後二日損日及度各一入立秋無此平行)順遲行六日行二度四分(日行二百二十)
(四分前疾行十一度者無此遲行日盡而夕伏)夕留五日晨見留五日順遲行
六日行二度四分(日行二百二十四分自入大寒畢扵啓蟄無此遲行)平行七日
行七度(日行一度大寒已後二日損日及度各一又立春無此平行)順疾行一十二
日行二十一度六分(日行一度五百三分)前無遲行者一十三日
行十七度十分(日行一度二百八十分各日盡而晨伏)
凡五星終日分竒皆扵伏分消遁故扵行星更不别見
武太后稱制詔曰頃者所司造歷以臘月為閏稽考史
籍便紊舊章遂令去歲之中晦仍月見重更尋討果差
一日履端舉正屬在於兹宜改歷扵惟新革前非扵既
往可以今月為閏十月來月為正月是歲得甲子合朔
冬至扵是改元聖歷以建子月為正建丑為臘建寅為
一月命太史瞿曇羅造新歷至三年復用夏時光宅歷
亦不行用中宗反正太史丞南宫說奏麟德歷加時浸
疎又上元甲子之首五星有入氣加時非合璧連珠之
正也乃詔說與司歷徐保乂南宫季友更治乙巳元歷
至景龍中歷成詔令施用俄而睿宗即位景龍歷寢廢
不行麟德歷經今略載其法大端
母法(一百兩大演之數為母法)
旬周(六十六甲之終數為旬周)
辰法(八刻分三十三少半以十二辰數除一百刻得辰法)
期(周三百六十五日餘二十四竒四十八一期之得日及餘竒數為期)
氣法(十五日餘二十一竒八十五少半以二十四氣分竒周得氣法)
候法(五日餘七竒二十八遊分四以七十二候分期周得候法)
月法(二十九日餘十三竒為月法)
日法(日舒月遠乃舒一合朔之及餘竒為日法)
望法(十四日餘七十六竒五十三因為陰後限二分月法得望法亦是月行陰歷後與朔望會交限)
弦法(七日餘三十八竒二十六半四分月法得弦法)
閏差(十月餘八十七竒七十六月法去期周餘得閏差)
没數(九十一餘三十一竒十二四分期周餘四分之得没數)
没法(一餘三十一竒十二以旬周去期周餘四分之得没法)
月周法(二十七日餘五十五竒四十五小分五十九月行遲疾一周之數為月周法)
月差法(一日餘九十七竒六十小分四十一以月周減月法餘得月差)
周天法(三百六十五度餘二十五竒七十一小分十三二十八宿總度數相距總數及餘竒為周天法)
交周法(二十七日餘二十一竒二十二小分十六七分日行隂陽一周交於是日之數為交周法)
交差法(二日餘三十一竒八十三小分八十三分以交周法減月法得交差法)
交中法(十三日餘六十竒六十一小分三分半二分交周得交中法)
陽前限(十二日餘四十四竒六十九小分十六七分月行陽歴與朔望會之限)
陽後限(一日餘十五奇九十一小分九十一六分半月行陽歷後與朔望會之限)
陰前限(二十六日餘五竒三十小分二十五半分月行陰歷先與朔望會之限)
木歲星合法(三百九十八日餘八十六竒七十九小分八十)
火熒惑合法(七百七十九日餘九十奇五十五小分四十五)
土鎮星合法(三百七十八日餘八奇四小分八十)
金太白合法(五百八十三日餘九十一奇七十七小分七十)
水辰星合法(一百一十五日餘八十七奇九十五小分七十)
太極上元歲次乙巳十一月甲子朔旦冬至之日黃鍾
之始夜半之時斗衡之末建扵子中日月如合璧五星
若連珠俱起扵星紀牽牛之初蹤今大唐神龍元年復
歲次扵乙巳積四十一萬四千三百六十算外上驗往
古年減一算下求將來年加一算乙巳元歷法積數大
約如此其算經不錄
舊唐書卷三十三
舊唐書卷三十三考證
歷志二上元甲子距今大唐云云(臣召南)按志于戊
寅及開元大衍皆稱歷經則前行麟德甲子元歷下
亦應有經字又按後文言大衍但云上元距今開元
十二年則此文應云距今麟德元年不須有大唐二
字
沒日法一千七百云云(臣德潛)按此文舊本誤脫於
前文土王日之下今改正
檢律候術氣日(臣召南)按術字應在氣日之下律即
十二律也候即七十二候也氣即二十四氣也日即
冬至影一丈二尺七寸五分以下每節不同之日晷
也舊本於二十四氣之律候日晷錯綜混雜又如檢
盈虛術求朔望弦盈朒減辰所入術及定氣晨前刻
步五星術皆圖表也行數參差不齊今從新書考校
編排勻整
歷變周四十四萬云云(臣德潛)按此文誤脫于前文
及小餘之下今改正
其赤道同太初星距下舊本有推遊交術四字此下
條名目誤連于此者也今改正
艮坤以減副巽乾以加副艮坤新書作艮巽巽乾新
書作坤乾
初行入春分云云(臣德潜)按求變度術中多闕文以
新書證之此段乃言熒惑星度初行入春分之上脱
落甚多又其前脫歲星一段
舊唐書卷三十三考證
舊唐書卷三十四
後晉司空同中書門下平章事劉昫撰
志第十四
歴三
開元大衍歴經
演紀上元閼逢困敦之歲距今開元十二年甲子歲歲
積九千六百六十六萬一千七百四十算
大衍步中朔第一
大衍通法三千四十
策實一百一十一萬三百四十三揲法八萬九千七百七十三
減法九萬一千三百策餘一萬五千九百四十三
用差一萬七千一百二十四掛限八萬七千一十八
三元之策一十五餘六百六十四秒七四象之策二十九
餘一千六百一十三中盈分一千三百二十八秒十四朔虚
分一千四百二十七爻數六十象綂二十四
推天正中氣以策實乘八元距所求積算命日中積分
盈大衍通法得一為積日不盈者為小餘爻數去積日
不盡日為大餘數從甲子起算外即所求年天正中氣
冬至日及小餘也求次氣因天正中氣大小餘以三元
之策及餘秒加之其秒盈象綂從小餘小餘滿大衍通
法從大餘大餘滿爻數去之命如前即次氣恒日及餘
秒(凡率相因加者下有餘秒皆以類相從而滿其法則迭進之用加上位日盈爻數去之也)推天正
合朔以揲法中積分其所不盡日歸餘之卦以減中積
分餘為朔積分廼如大衍通法而一為日不盡為小餘
日盈爻數去之不盈者為大餘命以甲子算外即所求
年天正合朔經日及小餘也求次朔及弦望因天正經
朔大小餘以四象之策及餘加之數除如法即次朔經
日及餘也又自經朔加一象之日七及餘一千一百六
十三少得上弦倍之得望參之得下弦四之是謂一揲
復得後月之朔(凡四分一為少二為半三為太四為全加滿其前數去之從上位)綜中
朔盈虚分累益歸餘之卦每其月閏衰(凡歸餘之卦五萬六千七百六)
(十以上其歲有閏因考其閏衰滿卦限以上其月及合置閏或有進退皆以定朔無中氣裁焉)
推没日置有没之氣恒小餘以象統乘之内秒分参而
伍之以減策實餘滿策餘為日不滿為没餘命起也(凡恒)
(氣小餘不滿大衍通法如中盈分半法已下為有没之氣)推滅日以有滅之朔經小
餘減大衍通法餘倍参伍乘之用減滅法餘滿朔虚分
為日不滿為滅餘命起經朔初日算外即合朔後減日
也(凡經朔小餘不滿朔虚分者為有滅之朔)
大衍步發斂術第二
天中之策五餘二百二十二秒三十一秒法七十二
地中之策十八餘一百六十五秒八十六秒法一百二十
貞悔之策三餘一百三十二秒一百三秒法如前
辰法七百六十刻法三百四
推七十二候各因中節大小餘命之即初候日也以天
中之策及餘秒加之數除如法即次候日又加得末候
日凡發斂皆以恒氣
推六十卦各因中氣大小餘命之公卦用事日也以地
之策及餘秒累加之數除如法各次卦用事日若以貞
悔之策加諸候卦得十二節之初外卦用事日
推五行用事各因四立大小餘命之即春木夏火秋金
冬水首用事日也以貞悔之策及餘秒減四季中氣大
小餘即其月土始用事日(凡相加減而有秒者母若不齊當令母亙乘子乃加減之)
(母相乘為法)
恒氣(月中節四月卦)初候次候末候始卦中卦終卦
冬至(十一月中坎初六)蚯蚓結麈角觧水泉動公中孚辟復侯屯(内卦)
小寒(十二月節坎九二)鴈北鄕鵲始巢野鷄始雊侯屯(外卦)大夫謙卿暌
大寒(十二月中坎六三)雞始乳鷙鳥厲疾水澤腹堅公升辟臨侯小過(内卦)
立春(正月節坎六四)東風觧凍蟄蟲始振魚上冰侯小過(外卦)大夫蒙卿益
雨水(正月中坎九五)獺祭魚鴻鴈來草木萌動公漸辟泰侯需(内卦)
驚蟄(二月節坎上六)桃始華倉庚鳴鷹化為鳩侯需(外卦)大夫隨卿晉
春分(二月中震初九)玄鳥至雷乃發聲始電公觧辟大壯侯豫(内卦)
清明(三月節震六二)桐始華田鼠化為鴽虹始見侯豫(外卦)大夫訟卿蠱
榖雨(三月中震六三)萍始生鳴鳩拂羽戴勝降桑公革辟夬侯旅(内卦)
推發斂去朔各置其月閏衰以大衍通法約之為日不
盡為餘即其月中氣去經朔日算及餘秒也求卦候者
各以天地之策及餘秒累加減之(中氣之前以減中氣之後以加)得去
經朔日算及餘秒
推發斂加時各置其小餘以六爻乘之如辰法而一為
半辰之數不盡者五之三刻法除之為刻又不盡者三
約為分(比分滿刻若令滿象積為刻為刻者即置不盡之數十之十九而一為分)命辰起子
半算外各其加時所在辰刻及分也
大衍步日躔術第三
乾實一百一十一萬三百七十九太周天度三百六
十五(虚分七百七十九太歲差三十六太)
定氣辰數盈縮分
前後數損益率朓朒積
冬至一百七十三(三分)盈二千三百五十二
先端益一百七十八朒初
小寒一百七十五(三分)盈一千八百四十五
先二千三百五十三益一百三十八朒一百七十六
大寒一百七十七(一分)盈一千三百九十
先四千一百九十八益一百四朒三百一十四
立春一百七十八(八分)盈九百七十六
先五千五百八十八益七十三朒四百一十八
雨水一百八十(三分)盈五百八十八
先六千五百六十四益四十四朒四百九十一
驚蟄一百八十一(八分)盈二百一十四
先一千一百五十二益十六朒五百三十五
春分一百八十三(五分)縮二百一十四
先七千三百六十六損十六朒五百五十一
清明一百八十四(七分)縮五百八十八
先七千一百五十二損四十四朒五百四十五
榖雨一百八十六(五分)縮九百七十六
先六千五百六十四損七十三朒四百九十一
立夏一百八十八(一分)縮一千三百九十
先五千五百八十八損一百四朒四百十八
小滿一百八十九(九分)縮一千八百四十五
先四千一百九十八損一百三十八朒三百十四
芒種一百九十一(九分)縮一千三百五十二
先二千三百五十三損一百七十六朒一百七十六
夏至一百九十一(九分)縮二千三百五十三
後端益一百七十六朓初
小暑一百八十九(九分)縮一千八百四十五
後二千三百五十三益一百三十八朓一百七十六
大暑一百八十八(一分)縮一千三百九十
後四千一百九十八益一百四朓三百一十四
立秋一百八十六(五分)縮九百七十六
後三千五百八十八益七十三朓四百一十八
處暑一百八十四(九分)縮五百八十八
後六千五百六十四益四十四朓四百九十一
白露一百八十三(五分)縮二百一十四
後七千一百五十二益十六朓五百三十五
秋分一百八十一(八分)盈二百一十四
後七千三百六十六損十六朓五百五十一
寒露一百八十(三分)盈五百八十八
後七千一百五十二損四十四朓五百四十五
霜降一百七十八(八分)盈九百七十六
後六千五百六十四損七十三朓四百九十一
立冬一百七十七(一分)盈一千三百九十
後五千五百八十八損一百四十朓四百一十八
小雪一百七十五(三分)盈一千八百四十五
後四千一百九十八損一百三十八朓三百一十四
大雪一百七十三(二分)盈一千八百五十三
後二千三百五十三損一百七十六朓一百七十六
求每日先後定數以所入氣并後氣盈縮分倍六爻乘
之綜兩氣辰數除入之為末率又列二氣盈縮分皆倍
六爻乘之各如辰數而以少減多餘為氣差加減末率
(至後以差加分後以差減)為初率倍氣差亦倍六爻乘之復綜兩氣辰
數以除之為日差半之以加減初末各為定率以日差
累加減氣初定率(至後以差減分後以差加)為每日盈縮分廼馴積
之隨所入氣日加減氣下先後數各其日定(冬至後為陽復在盈)
(加之在縮減之夏至後為隂復在縮加之在盈減之距四正前一氣在陽變革之際不可相并皆因前末為初)
(率以氣差至前加之分前減之為末率餘依前率各得所求其朒朓亦放此求之各得每日定數其分不滿全)
(數母又每氣不同當退法除之用百為母半已上從之已下弃之下求軌漏分不滿准此也)
推二十四氣定日冬夏至皆在天地之中無有盈縮餘
各以氣下先後數先減後加恒氣小餘滿若不足進退
其日命從甲子算外各其定日及餘秒也(凡推日月行度及軌漏交)
(蝕竝依定氣若歴即依恒氣也)
推平朔四象以定氣相距置朔弦望經日大小餘以所
入定氣大小餘及秒分減之各其所入定氣日算及餘
秒也若大餘少不足減者加爻數然後減之(其弦望小餘有少半)
(太當以爻乘之乃以氣秒分減退一加象統小餘不足減退日算一加大衍通注也)求朔弦望經
日入朓朒各置其所入定氣日算及餘秒減日算一各
以日差乘而半之以加減其氣初定率(前少加之前多減之)以乘
其所入定氣日算及餘秒(凡除者先以母通全内子乃相乘母相乘除之若忽微之)
(數煩多而不甚相校者過半收為全不盈半法弃也)所得以損益朒積各為其日
所入朓朒定數(若非朔望有交者以十二乘所入日算三其小餘辰法除而從之以乘損益率)
(如定氣辰數而一所得以損益朓朒積各為定數也)
赤道宿度
斗二十六牛八女十二虛十(及分)危十七室十七壁九
右北方七宿九十八度
奎十六婁十二胃十四昴十一畢十七觜一參十
右西方七宿八十一度
井三十三鬼三柳十五星七張十八翼十八軫十七
右南方七宿一百一十一度
角十二亢九氐十五房五心五尾十八箕十一
右東方七宿七十五度
前皆赤道度其畢觜參及輿鬼四宿度數與古不同今
竝依天以儀測定用為常數弦帶天中儀極攸憑以格
黃道也推黃道准冬至歲差所在每距冬至前後各五
度為限初數十二每限減一盡九限數終扵四殷二立
之際一度少強依平廼距春分前秋分後初限起四每
限增一盡九限終扵十二而黃道交復計春分後秋分
前亦五度為限初數十二盡九限數終扵四殷二立之
際一度少強依平廼距夏至前後初限起四盡九限終
扵十二皆累裁之以數乘限度百二十而一得度不滿
者十二除為分(若以下除則大分十二為母命以太半少及強弱)命日黃赤道
差數二至前後各九限以差減赤道度為黃道度二分
前後各九限以差加赤道度為黃道度(若從黃道度反推赤道二至前)
(後各加之二分前後湏減之)
黃道宿度
斗二十三半牛七半女十一少虛十(及差)危十七太室十七少壁九太
右北方九十七度(六虛之差十九太)
奎十七半婁十二太胃十四太昴十一畢十六少觜一參九少
右西方八十二度
井三十鬼二太柳十四少星六太張十八太翼十九少軫十八太
右南方一百一十度半
角十三亢九半氏十五太房五太心四尾十七箕十少
右東方七十五度少
前皆黃道度其步日行月與五星出入循此(求此宿度皆有餘分)
(前後輩之少半太准為全度若上考古下驗將來當據歲差每移一度各依衍算使得當時宿及分然可步月)
(五星知其犯守也)
推日度以乾實去中積分不盡者盈大衍通法為度不
滿為度餘命起赤道虛九去分不滿宿算外即所求年
天正冬至加時日所在度及餘也(以三元之策累加之命宿次如前各得氣)
(初日加時赤道宿度)
求黃道日度以度餘減大衍通法餘以冬至日躔之宿
距度所入限乘之為距前分置距度下黃赤道差以大
衍通法乘之減去距前分餘滿百二十除定差不滿者以
象統乘之復除為秒分廼以定差反秒減赤道宿度餘
依前命之即天正冬至加時所在黃道宿度及餘也
求次定氣置歲差以限數乘之滿百二十除為秒分不
盡為小分以加扵三元之策秒分因累而裁之命以黃
道宿次去之各得定氣加時日躔所在宿及餘也
求定氣初夜半日所在度各置其氣定小餘副之以乘
其日盈縮分滿大衍通法而一盈加縮減其副用減其
日時度餘命如前各其日夜半日躔行在求次日各因
定氣初日夜半度累加一策廼以其日盈縮分盈縮減
度餘命以宿次即半日所在度及餘也
大衍步月離術第四
轉終分六百七十萬一千二百七十九轉終日二十
七餘一千六百八十五秒七十九轉法七十六轉
秒八十
推天正經朔入轉以轉終分去朔積分不盡以秒法乘
盈轉終分又去之餘如秒法一而入轉分不盡為秒入
轉分滿大衍通法為日不滿為餘命日算外即所求年
天正經朔加時入轉日及餘秒求次朔入轉因天正所
入轉差日一轉餘二千九百六十七秒分一盈轉終日
餘秒者去之數除如前即次日經朔加時所入考上下
弦望如求經朔四象術循變相加若以經朔望小餘減
之各其日夜半所入轉日及餘秒
終日轉分列衰轉積度損益率朓朒積
一日九百一十七進十三度初益二百九十七朓初
二日九百三十進十三十二度(五)益二百五十九朓二百九十七
三日九百四十三進十三二十四度(二十五)益二百二十朓五百五十六
四日九百五十六進十四三十六度(五十四)益一百八十朒七百七十六
五日九百七十進十四四十九度(二十二)益二百三十九朒九百五十六
六日九百八十四進十六六十二度(四)益九十七朒一千九百五
七日一千進十八七十五度(生初益四十八末損六)朒一千一百九十二
八日一千一十八進十九八十八度(十二)損六十四朒一千二百三十四
九日一千三十七進十四一百一度(四十二)損一百六朒一千一百七十
十日一千五十一進十四一百十五度(十五)損一百四十八朒一千六十四
十一日一千六十五進十四一百二十九度(二)損一百八十九朒九百十六
十二日一千七十六進十三一百四十二度(三)損一百二十九朒七百二十七
十三日一千九十二進十三一百五十七度(十八)損二百六十七朒四百九十八
十四日一千一百五十(進十退三)一百七十一度(四十初損二百三十六)一末益六十六朒二百三十一
十五日一千一百一十二退十三一百八十度(十一)益二百八十九朓六十六
十六日一千九十九退十三二百度(五十九)益二百五十朓二百五十五
十七日一千八十六退十三二百五十五度(十八)益二百一十一朓六百五
十八日一千七十三退十四二百二十九度(四十)益一百七十二朓八百一十六
十九日一千五十九退十四二百四十三度(四十九)益一百三十朓九百八十七
二十日一千四十五退十七二百五十七度(四十四)益八十七朓一千一百一十七
二十一日一千二十八退十八二百七十一度(二十初益三十六五)末損一十八朓一千二百四
二十二日一千一十退十八二百八十四度(六十五)損七十三朓一千二百二十三
二十三日九百九十二退十四二百九十八度(十一)損一百一十六朓一千一百四十九
二十四日九百七十八退十四三百一十一度(十五)損一百五十七朓一千三十三
二十五日九百六十四退十四三百二十四度(十五)損一百九十八朓八百七十六
二十六日九百五十退十三三百三十六度(五十七)損二百三十七朓六百七十八
二十七日九百三十七退十三三百三十九度(十九)損二百七十六朓四百四十一
二十八日九百二十四(退七進六)三百六十一度(四十初損一百六十五四)末益入後朒一百六十五
求朔弦望入朓朒定數各朔其所入日損益而半之為
通率又二率相減為率差前多者以入餘減大衍通法
餘乘率差盈大衍通法得一并率差而半之前少者半
入餘乘率差亦如大衍通法除為加時轉率廼半之以
損益加時所入餘為轉餘其轉餘應益者減法應損者
因餘皆以乘率差盈大衍通法得一加於通法轉率乘
之大衍通法約之以朓朒加轉率為定率乃以定率損
益朓朒積為定數(其後無同率者亦因前率益者以通率為初數半率差而減之應通率其)
(轉益入餘進退日者分為二日隨餘初末如法求之所得竝以損益轉率此術本出皇極歷以究算術之微變)
(若非朔望有交者直以入餘乘損益如大衍通法而一以損益朓朒為定故各得所求)
七日(初二千七百一約為大分八末三百三十九約為大分一)十四日(初二千三百六十三約為大分七末六千七十七約為大分二)
二十一日(初二千二十四日分約為大分六末一千一十六約為大分三)二十八日(初一千六百八十六約為大分五末一千三百五十四約為大分四)
右以四象約轉終日及餘均得六日二千七百一分就全
數約為九分日之八以減法餘為末數廼四象馴變相加
各其所當之日初末數也視入轉餘如初數以下者加減
損益因循前率如初數以上則反其衰歸於後率云
求朔弦望定日及餘以入氣入轉朓朒定數同名相從
異名相消廼以朓減朒加四象經小餘满若不足進大
餘命以甲子算外各其定日及小餘干名與後朔中同
者月大不同者小無中氣者為閏月(凡言夜半者皆起晨前子正之中若)
(注歷觀弦望定小餘又盈晨初餘數者退一日其望小餘雖滿此數若有交蝕虧初起在晨初已前者亦如之)
(又月行九道遲疾則三大二小以日行盈縮累增損之則容有四大三小損數然也若俯循常儀當察加時早)
(晩隨其所近而進退之使不過三大二小其正月朔若有加交時正見消息前後一兩月以定大小令虧在晦)
(二)
推定朔弦望夜半日所在度各隨定氣次日以所直日
度及餘分命焉(若以五星相加減者以四約度餘)廼列朔弦望小餘副
之以乘其日盈縮分如大衍通法而一盈加縮減其副
以加其日夜半度餘命如前各其日加時日躔所次歷
推月九道度凡合朔所交冬在隂歷夏在陽歷月行青
道(冬夏至後青道半交在春分之宿殷黃道東立冬夏後青道半交在立春之宿殷黃道東南至所衝之宿)
(亦如之也)冬在陽歷夏在隂歷月行白道(冬至夏至後白道半交在秋分之宿)
(殷黃道西立冬立夏後白道半交在立秋之宿殷黃道西北至所衝之宿亦如之也)春在陽歷秋
在隂歷月行朱道(春秋分後朱道半在夏至宿殷黃道南立春立秋後朱道半在立夏宿殷)
(黃道西南至所衝之宿亦如之也)春在隂歷秋在陽歷月行黑道(春秋分後)
(黑道半交在冬至宿殷黃道北立春立秋後黑道半交在立冬之宿殷道東北至所衝之宿亦如之也)四
序離為八節至隂陽之始交皆以黃道相會故月有九
行各視月交所入七十二候距交初黃道日每五度為
限(交初交中同)亦初數十二每限減一數終於四乃一度強
依平更從四起每限增一終於十二而至半交其去黃
道六度又自十二每限減一數終於四亦一度強依平
更從四起每限增一終於十二復與日軌相會各累計
其數以乘限度二百四十而得得度不满者二十四除
為分(若以二十除之則太分十二為母命半大乃強弱也)
推月行與黃道差數距半交前後各九限以差數為減
距正交前後各九限以差數為加(此加減是出入六度單與黃道相交之數)
(也若交赤道則隨氣遷變不恒)計去冬至夏至以來候數乘黃道所差
十八而一為行與赤道差數凡日以赤道内為隂赤道
外為陽月以黃道内為隂黃道外為陽故月行宿度入春
分交後行陰歴秋分交後行陽歴皆為同名若入春分
交後行陽歴秋分交後行陰歴皆為異名其在同名以
差數為加者加之減者減之若在異名以差數為加者
減之減者加之皆以增損黃道度為九道定度
推月九道平交入氣各以其月恒中氣去經朔日算及
餘秒加其月經朔加時入交汎日及餘秒廼以減交經
日及餘秒其餘即各平交入其月恒中氣日算及餘秒
也滿三元之策及餘秒則去之其餘即平交入後月恒
節氣日算及餘秒(因求次交者以交終日及餘加之滿三元之策及餘秒去之不滿者為平)
(交入其氣日算及餘秒各以其氣初先後數先加後減其入氣滿若不進退日算即平交入定氣日算及餘秒)
(也)
求平交入氣朓朒定數置所入定氣日算倍六爻乘之
三其小餘辰法除而從之以乘其氣損益率如定氣辰
數而一所得以損益其氣朓朒積為定數也
求平交入轉朓朒定數置所入定氣餘加其日夜半入
轉餘以乘其日損益率滿大衍通法而一所得以損益
其日朓朒積廼以交率乘之大數而一為定數
求正交入氣置平交入氣及入轉朓朒定數同名相從
異名相消廼以朓減朒加平交入氣餘滿若不足進退
日算即為正交定氣日算及餘也
求正交加時黃道宿度置正交入定氣餘副之乘其日
盈縮分滿大衍通法而一所得以盈加縮減其副以加
其日夜半日度即正交加時所在黃道度及餘也
求正交加時月離九道宿度以正交加時度餘減大衍
通法餘以正交之宿距度所入限數乘之為距前分置
距度下月道與黃道差以大衍通法乘之減去距前分
餘滿二百四十除為定差不滿者一退為秒以定差及
秒加黃道度餘仍計去冬至夏至以來候數乘定定差
十八而一所得依名同異而加減之滿若不足進退其
度命如前即正交加時月離所在九道宿度及餘也
推定朔弦望加時月所在度各置其日加時日躔所在
變從九道循次相加凡合朔加時月行潛在日下與太
陽同度是為離象(凡置朔弦望加時黃道日度以正交加時所在黃道宿度減之餘以加其)
(正交九道宿度命起正交宿度算外即朔弦望加時所當九道宿度也其合朔加時若非正交則日在黃道月)
(在九道各入宿度雖多少不同考其去極若應凖繩故云月行潛在日下與太陽同度)
以一象之度九十一餘九百五十四秒二十二半為上
弦兌象倍之而與日衝得望坎象参之得下弦震象各
以加其所當九道宿度秒盈象統從餘餘滿大衍通法
從度命如前各其日加時月所在度及餘秒也(綜五位成數四)
(十以約度餘為分不盡者因為小分也)
推定朔夜半入轉恒視經朔夜半所入若定朔大餘有
進退者亦如減轉日否則因經朔為定徑求次定朔夜
半入轉因前定朔夜半所入大月加轉差日二小月加
日一轉餘皆一千三百五十四秒分一數除如前即次
月定朔夜半所入
求次日累加一日去命如各其夜半所入轉日及餘秒
求每日月轉定度各以夜半入轉餘乘列衰如大衍通
法而一所得以進加退減其日轉分為月每所轉定分
滿轉法為度也
求朔弦望定日前夜半月所在度各半列衰減轉分退
者定餘乘衰以大衍通法除并衰而半之進者半定餘
乘衰定以大衍通法除皆加所減廼以定餘乘之盈大
衍通法得一以減加時月度及分(因夜半准此求轉分以加之亦得加時月)
(度若非朔望有交直以定小餘乘所入日轉交分如大衍通法而一以減其日時月度亦得所求)
求次日夜半月度各以其日轉定分加之分滿轉法從
度命如前即次日夜半月所在度及分
推月晨昏度各以所入轉定分乘其日夜漏倍百刻除
為晨分以減轉定分餘為昏分分滿轉法從度以加夜
半度(望前以昏加望後以晨加)各得其日晨昏月所在度及分
大衍步軌漏第五
爻綂一千五百五十象積四百八十辰刻八刻分一百
六十昏明刻各二刻分二百四十
定氣陟降率消息衰陽城日晷
漏刻黃道去極度距中宿度
冬至降七十八息空(六十四)一丈二尺七寸一分(五十)
三十七刻(三百四十)一百一十七度(二十)八十二度(二十七)
小寒降七十二息十一(九十一)一丈二尺三寸(七十七)
二十七刻(一百三十五)一百一十四度八十三度(九十一)
大寒降五十三息二十二(四十二)一丈一尺二寸一分(八十二)
二十六刻(三百八十)一百一十一度(九十)八十四度(七十)
立春降三十四息三十(二十五)九尺七寸三分(五十一)
二十五刻(四百七十五)一百八度八十七度(七十)
雨水降(初限七十八)息三十五(七十八)八尺二寸一分(六)
二十四刻(四百八十)一百三度(二十)九十一度(三十九)
驚蟄降一息三十九(五十)六尺七寸三分(八十四)
二十三刻(三百六十)九十七度(三十)九十五度(八十八)
春分陟五息三十九(六十五)五尺四寸三分(十九)
二十二刻(一百三十)九十一度(三十)一百度(四十四五十)
清明陟初限息三十八(八十九)四尺三寸一分(十一)
二十一刻(一百二十)八十五度(三十)一百五度(一)
榖雨陟二十二息三十三(五十六)三尺三寸(四十)
二十刻十七十九度(四十)一百九度(五十)
立夏陟五十二息二十八(三十八)二尺五寸(三十)
十九刻五七十四度(五十五)一百一十三度(十九)
小滿陟六十三息二十(十二)一尺九寸五分(七十六)
十八刻(一百)七十度(七十)一百一十一度(十二)
芒種陟六十四息十(十二)一尺六寸(三)
十七刻(三百五十四)六十八度(二十四)一百一十八度(九十)
夏至陟六十四消空(五十一)一尺四寸七分(七十九)
十七刻(二百五十)六十七度(四十)一百一十八度(六十)
小暑降六十三消十(七十六)一尺六寸(三)
十七刻(三百五十五)六十八度(二十五)一百一十七度(九十八)
大暑降五十二消二十(七十五)一尺九寸五分(七十六)
十八刻(一百)七十八度(七十一)一百一十六度(十三)
立秋降三十二消二十八(九十)二尺五寸三分(三十一)
十九刻五七十四度(五十五)一百一十三度(十九)
處暑降(初限九十九)消二十四(七十六)三尺三寸(三十七)
二十刻十七十九度(三十)一百九度(五十)
白露降五消三十八(九十)四尺三寸二分(十一)
二十一刻(一百二十)八十五度(三十)一百五度(一)
秋分陟一消三十九(六十六)五尺四寸三分(十九)
二十刻(二百四十)九十一度三十一百度(四十四五十)
寒露陟(初限一)消三十九(五十)六尺七寸三分(八十四)
三十三刻(三百六十)九十七度(三十)九十五度(八十八)
霜降陟三十四消二十四(九十八)八尺二寸一分(六)
二十四刻(四百七十一)一百三度(二十)九十一度(三十九)
立冬陟五十三消二十九(七十二)九尺七寸三分(五十一)
二百五刻(四百七十五)一百八度五八十七度(七十)
小雪陟七十二消二十一(七十)一丈一尺二寸一分(八十二)
二十六刻(三百八十)一百一十一度(九十)八十四度(七十)
大雪陟七十八消十一(三十)一丈二尺二寸二分(七十七)
二十七刻(二百四十五)一百一十四度(三十五)八十二度(九十一)
求每日消息定衰各置其氣消息衰依定氣日數每日
以陟降率陟減降加其分滿百從衰不滿為分各得每
日消息定衰及分其距二分前後各一氣之外陟降不
等各每以三日為一限損益如後
雨水初日七十八(初限每日損十二次限每日損八次限每日損三次限每日損二末限每)
(日損一)
清明初日陟一(初限每日益一次限每日益二次限每日益三次限每日益八末限日益十九)
處暑初日降九十九(初限每日損十九次限每日損八次限每日損三次限每日損二末)
(限每日損一)
寒露初日陟一(初限每日益一次限每日益二次限每日益三次限每日益八末限每日益十)
(二)
求前件四氣置初日陟率每日依限次損益之各為每
日率廼遞以陟減降加其氣初日消息衰分亦得每日
定衰及分也
推戴日之北每度晷數南方戴日之下正中無晷自戴
日之北一度廼初數一千三百七十九從此起差每度
增一終扵二十五度又每度增二終扵四十度又每度
增六終扵四十四度增六十八每度增二終扵五十五
度又每度增十九終於六十度度增一百六十又每度
增三十三終扵六十五度又每度增三十六終扵七十
度又每度增三十九終扵七十二度增二百六十又度
增四百四十又度增一千六十又度增一千八百六十
又度增二千八百四十又度增四千又度增五千三百
四十而各為每度差因累其差以遞加初數滿百為分
分滿十為寸各為每度晷差又每度晷差數求陽城日
晷每日中常數各置其氣去極度以極去戴日下度五
十六盈分八十二減半之各得戴日之北度數及分各
以其消息定衰戴日北所直度分之晷差滿百為分分
滿十為寸各為每日晷差廼遞以息減消加其氣初晷
數得每日中晷常數也求每日中晷定數各置其日所
在氣定小餘以爻統減之餘為中後分置前後分以其
日晷差乘之如大衍通法而一為變差乃以變差加減
其日中晷常數(冬至後中前以差減中後以差加夏至後中前以差加中後以差減冬至一日)
(有減無加夏至一日有加無減)各得每日中晷定數
求每日夜半漏定數置消息定衰滿象積為刻不滿為
分各遞以息減消加其氣初夜半漏各得每日夜半漏
定數求晨初餘數置夜半定漏全刻以九千一百二十
乘之十九乘刻分從之如三百而一所得為晨初餘數
不盡為小分
求每日晝夜漏及日出入所在辰刻各倍夜半之漏為
夜刻以減百刻餘為晝刻減晝五刻以加夜即晝為見
刻夜為没刻半没刻以半辰刻加之命起子初刻算外
即日出辰刻以見刻加之命如前即日入辰刻(置夜刻以五除)
(之得每更差刻得每籌差刻以昏刻加日入即甲夜初又以更籌差加之得次更一籌之數以次累加滿辰刻)
(去之命如前即得五夜更籌所當辰及分也其半夜定漏亦名晨初夜刻)
求每日黃道去極定數置消息定衰滿百為度不滿為
分各遞以息減消加其氣初去極度各得每日去極定
數
求每日距中度定數置消息定衰以一萬二千三百八
十六乘之如一萬六千二百七十七而每日度差差滿
百為度不滿為分各遞以息加消減其氣初距中度各
得每日距中度定數(倍距中度以減周天度五而一所得為每更度差)
求每日昏明及每更中宿度所臨置其日所在赤道宿
度以距中度加之命宿次如前即得其日昏中所臨宿
度以每更差度加之命如前即乙夜初中所臨宿度及
分也
求九服所在每氣初日中晷常數置氣去極度數相減
各為每氣消息定數因測所在冬夏至日晷長短(但測至即)
(得不必要湏冬至)扵其戴日之北度及分晷數中校取長短同
者便為所在戴日北度數及分氣各以消定數加減之
(因冬至後者每氣以減因夏至後者每氣以加)各得每氣戴日北度數及分各
因其氣所直度分之晷數長短即各為所在每定氣初
日中晷常數(其測晷有在表南者亦據其晷尺寸長短與戴日北每度晷數同者因取其所直之)
(度去戴日北度數反之為去戴日南度然後以消息定數加減)
求九服所在晝夜漏刻冬夏至各於所在下水漏以定
當處晝夜刻數廼相減冬夏至差刻半之以加減二至
晝夜刻數(加夏至減冬至)為春秋分定日晝夜刻數廼置每氣
消息定數以當處二至差刻數乘之如二至去極差度四
十七分八十而一所得依分前後各減二分初日晝夜
漏刻(春分前秋分後加夜減晝春分後秋分前加晝減夜)各得所在定氣初日晝
夜漏刻數求次日者置每日消息定衰亦以差刻乘之
差度而一所得以息減消加其氣初漏刻各得所求(其求)
(距中度及昏明中宿日出入所在皆依陽城法求仍以差度而今有之即得也)
又術置所在春秋分定日中晷常數與陽城每日晷數校
取同者因其日夜半漏即為所在定春秋分初日夜半漏
求餘氣定日每以消息定數依分前後加減刻分(春分前以)
(加分後以減秋分前以減分後以加)滿象積為刻不滿為分各為所在定
氣初日夜半定漏
求次日以消息定衰依陽城法求之即得(此術究理大體合通但高)
(山平川視日不等校其日晷長短廼同考其日漏多少懸别以兹參課術為審也)
大衍步交會術第六
交終八億二千七百二十五萬一千三百二十二
交中四萬一千三百六十二秒五千六百六十一
終日二十七餘六百四十五秒一千三百二十二
中日十三餘一千八百四十二秒五千六百六十一
朔差日二餘九百六十七秒八千六百七十八
望差日一餘四百八十三秒九千三百三十九
望數日十四餘二千三百二十六秒五十
交限日十二餘一千三百五十八秒六千三百二十二
交率三百四十三交數四千三百六十九辰法七百六十
秒分法一萬
推天正經朔入交以終去朔積分不盡以秒分法乘盈
交終又去之餘如秒法而一為入交分不盡為秒入交
分滿大衍通法為日不滿為餘命日算外即所求年天
正經朔加時入交汎日及餘秒求次朔入交因天正所
入加朔差日及餘秒盈終日及餘秒者去之數除如前
即次月經朔加時所入
求望以數日及餘秒加之去命如前即得所求若以經
朔望小餘減之各其日夜半所入交汎日及餘秒
求定朔夜半入交恒視經朔望夜半所入若定朔望大餘
有進退者亦加減交日否則因經為定各得所求求次
定朔夜半入交因前定朔夜半所入大月加交差日二
月小加日一餘皆二千三百九十四秒八千六百七十
八求次日累加一日數除如前各其夜半所入交汎日
及餘秒
求朔望入交常日各以其日入氣朓朒定數朓減朒加
其入交汎餘滿大衍通法從日即為入交常及餘秒
求朔望入交定日各置其日入轉朓朒定數以交率乘
之如交數而一所得以朓朒加入交常餘數如前即為
入交定日及餘秒
求月交入陰陽歴恒視其朔望入交定日及餘秒如日
中及餘秒已下者為月入陽歴已上者以中日及餘秒
去之餘為月入陰歴
陰陽歴爻目加減率陰陽積月去黃道度
(少陽少陰)初加一百八十七(陽隂)初空
(少陽少陰)二加一百七十一(陽陰)二百八十七一度六十七分
(少陽少陰)三加一百三十七(陽陰)三百五十八二度一百一十八分
(少陽少陰)四加一百一十五(陽陰)五百五四度二十五分
(少陽少陰)五加七十五(陽陰)六百二十五度二十八分
(少陽少陰)上加二十七(陽陰)六百九十五五度九十五分
(老陽老陰)初減二十七(陽陰)七百二十三六度二分
(老陽老陰)二減七十五(陽隂)六百九十五五度九十五分
(老陽老陰)三減一百一十五(陽陰)六百二十五度二分
(老陽老陰)四減一百四十七(陽陰)五百五四度二十五分
(老陽老陰)五減一百七十一(陽陰)三百五十八三度一百十八分
(老陽老陰)上減一百八十七(陽陰)一百八十七一度六十七分
求四象六爻每度加減分及月去黃道定數以其爻加
減率與後爻加減率相減為前差又以後爻率與次後
爻率相減為後差二差相減為中差置所在爻并後爻
加減率半中差以加而半之十五而一為爻末率因為
後爻初率每以本爻初末率相減爻差十五而一為度
差半之以加減初率(少象減之老象加之)為定初率每次度差累
加減之(少象以差減老象以差加)各得每度加減定分廼循積其分
滿百二十為度各為每度月黃道度數及分(其四象初爻無初率上)
(爻無末率皆倍本爻加減率十五而一所得各以初末率減之皆互得其率餘依術算各得所求)
求朔望夜半月行入陰陽度數各置其日夜半入轉日
及餘秒餘以其日夜半入交定日及餘秒減之也(其秒母不)
(等當脩率相通然後減之如不足減即轉終日及一餘秒然後減之)餘為定交初日夜半
入轉日及餘秒廼以定交初日夜半入餘與其日夜半
入餘各乘其日轉定分如大衍通法而一所得滿轉法
為度不滿為分各以加其日轉積度及分廼相減其餘
即為其夜半月行入陰陽度數及分也(轉求次日但以其日轉定分之)
(滿轉法為度即得)
求朔望夜半月行入四象度數置其日夜半入陰陽度
數及分以一象之度九十除之(若以小象除之則燕隂差度一度分百六大分十三)
(小分十四訖然後以㳄象除之)一百所得以少陽老陽少隂老隂為㳄
命起少陽算外即其日夜半所入象度數及分也(先以三十)
(乘隂陽度分十九而一為度分不盡以十五乘十九除為大分不盡者又乘又除為小分然以象度及分除之)
求朔望夜半月行入六爻度數置其日夜半所入象度
數及分以一爻之度一十五除之所得命起其象初爻
算外即以其日夜半所入爻度數及分也(其月行入少象初爻之内)
(皆為治近黃道度當朔望前有虧蝕)求入蝕限其入交定日及餘秒如望
差已下交限已上者為入蝕限望入蝕限則月蝕朔入
蝕限月在隂歷則日蝕入限如望差已下為交後交限
已上者以減中日及餘為交前前後定日及餘秒蝕通
之為去交前後定分置去交定分以十一乘之如二千
六百四十三除之為去交度數不盡以大衍通法乘之
復除為餘(大抵去交十三度以上雖入蝕限為陟交數微光影相接或不見蝕)
求月蝕分其去交定分七百七十九已下者皆蝕既已
上者以交定分減望差餘以一百八十三約之盡半已
下為半弱已上為半強命以十五為限得月蝕之大分
求月蝕所起月在陰歴初起東南甚扵正南復扵西南月
在陽歴初起東北甚於正北復於西北若蝕十二分已上
者皆起扵正東復扵正西(此皆據南方正午而論之若蝕扵餘方者各隨方面所在)
(准此取正而定其蝕起復也)
求月蝕用刻置月蝕之大分五已下因增三十已下因
增四十已上因增五其去交定分五百二十已下又增
半二百六十已下增半各為汎用刻率
定氣增損差差積
冬至增十積初小寒增十五積十
大寒增二十積二十五立春增二十五積四十五
雨水增三十積七十驚蟄增三十五積一百
春分增四十積一百三十五清明增四十五積一百七十五
榖雨增五十積二百二十立夏增五十五積二百七十
小滿增六十積三百五十五芒種增六十五積三百八十五
夏至損六十五積四百五十小暑損六十積三百八十五
大暑損五十五積三百二十五立秋損五十積二百七十
處暑損四十五積二百二十白露損四十積一百七十五
秋分損三十五積一百三十五寒露損三十積一百
霜降損二十五積七十立冬損二十積四十五
小雪損十五積二十五大雪損十積十
求每日差積定數以所入氣并後氣增損差倍六爻乘
之綜兩氣辰數除之為氣末率又列二氣增損差皆倍
六爻乘之各如辰數而一少減多餘為氣差加減末率
(冬至後以差減夏至後以差加)為初率倍氣差亦倍六爻乘之復綜兩
氣辰數以除之為日差半之以加減初末各為定率以
日差累加減氣初定率(冬至後以差加夏至後以差減)為每日增損差
廼循積之隨所入氣日加減氣下差積各其日定數(其二)
(至之前一氣皆後無可差不可相并各因前末為初率以氣差冬至前減夏至前加為末率餘依算術各得所)
(求也)
陰歴
蝕差一千二百七十五蝕限三千五百二十四
或限三千六百五十九
陽歴
蝕限一百三十五或限九百七十四
求蝕差及諸限定數各置其差限以蝕朔所入氣日下
差積陰歴減之陽歴加之各為蝕定差及定限
求陰歴陽歴的蝕或蝕其陰歴去交定分滿蝕定差已
上為陰歴蝕不滿者雖在陰歴皆類同陽歴蝕也其去
交定分滿蝕定限已下者其蝕的見或限以下者其蝕
或見或不見
求日蝕分陰歴蝕者置去交定分以蝕定差減之餘一
百四已下者皆蝕既已上者以一百四減之其餘以一
百四十三約之(其入或限者以百五十二約之)一半已下為半弱半已
上為半強以減十五餘為日蝕之大分其同陽歷蝕者
但去交定分少於蝕定差六十已下者皆蝕既六十已
上者置去交定分以陽歷蝕定限加之以九十約之其
陽歷蝕者直置去定分亦以九十約之(其入或限者以一百四十三約)
(之)半已下為半弱半已上為半強命以十五為限亦得
日蝕之大分
求日蝕所起月在陰歷初起西北甚扵正北復扵東北
月在陽歷初起西南甚扵正南復扵東南其蝕十二分
已上皆起正西復扵正東(此亦據南方正午而論之)
求日蝕用刻置所蝕之大分皆因增二其陰歷去交定
分多扵蝕定差七十已上者又增三十五已下者又增
半其同陽歷去交定分少於蝕定差二十已下者又增
半四十已下者又增半少各為汎用刻半率求日月蝕
甚所在辰置去交定分以交率乘之二十乘交數除之
所得為差其月道與黃道同名者以差加朔望定小餘
異名以差減朔定小餘置蝕定餘如求發斂加時術入
之即蝕其所在辰刻及分也(其望甚辰月當衝蝕)
求虧初復末置日月蝕汎用刻率副之以乘其日入轉
損益率如大衍通法而一所得應朒者依其損加益減
其副為定用刻數半之以減蝕甚辰刻為虧初以加餘
甚辰刻為復末(其月蝕求入更籌者置月蝕定用刻數以其日每更差刻除為更數不盡以每)
(籌差刻除為籌數綜之為定用更籌廼累日計日入至蝕甚辰刻置之以昏刻加日入辰刻減之餘以更籌差)
(刻除之所得命以初更籌外即蝕甚籌半定用更籌減之為虧初以加之為復末按天竺僧俱摩羅所傳斷日)
(蝕法其蝕朔日度躔扵欝車宮者的蝕諸斷不得其蝕據日所在之宮有火星在前三後五之宫井伏在日下)
(並不蝕若五星總出并水見又水在陰歴及三星已上同聚一宿亦不蝕凡星與日别宮或别宿則易斷若同)
(宿則難斷更有諸斷理多煩碎略陳梗槩不復具詳者其天竺所云十二宮則中國之十二次也日欝車宮者)
(即中國降婁之次也十二次宿度首尾具戴歴儀分野卷中也)
求九服所在蝕差先測所在冬夏至及春秋分定日中晷
長短陽城每日中晷常數校取同者各因其日蝕差即
為所在冬夏至及春秋分定日蝕差
求九服所在每氣蝕差以夏至差減春分差減冬至各
為率并二率并之六而一為夏總差減之為冬率(冬率即是)
(冬至之率也)每以氣差加之各差以加夏率又以率二率相
減六一為差置總差六而一為氣半氣為每氣定率乃
修其率以減冬至蝕差各得每氣初日蝕差(求每日如陽城求之)
(若戴日之北當計其所在皆反之即得)
大衍步五星術第七
歲星終率一百二十一萬二千五百七十九秒十八
終日三百九十八餘二千六百五十九秒六
終變差算空餘三十四秒十四象算九十一
餘二百三十八秒五十七(十二)爻算十五餘一百
六十六秒四十(六十二)
鎮星終率一百一十四萬九千三百九十九秒九十
八終日三百七十八餘二百七十九秒九十八
變差算空餘二十二秒九十二象算九十二
餘二百三十七秒八十七爻算十五餘一百
六十六秒三十一
太白終率一百七十七萬五千三十秒十二終日
五百八十三餘二千七百一十一秒十二中合
日二百九十一餘二千八百七十五秒六變差
算空餘三十秒五十三象算九十二餘二百
三十八秒三十四(五十四)爻算十五餘一百六十
六秒三十九(九)
辰星終率三十五萬二千二百七十九秒七十二
終日一百一十五餘二千六百七十九秒七十二
中合日五十七餘二千八百五十九秒八十六
變差算空餘一百三十六秒七十八(六十)象算
九十一餘二百四十四秒九十八(六十)爻算十五
餘一百六十七秒三十九(七十四)度法七百六十
秒法一百微分法九十六
推五星平合置中積分以天正冬至小餘減之各以其
星終率去之不盡者返以減中滿大衍通法為日不滿
為餘即所求年天正冬至夜半後星平合日算及餘秒
也求平合入爻象歴置積年各以其星變以差乘之滿
乾實去之不滿者以大衍通法約之為日不盡為餘秒
以減其星冬至夜半後平合日算及餘秒即平合入歴
算數及餘秒也(各四約其餘同其辰法也)
求平合入四象置歴算數及秒以一象之算及餘秒除
之所得依入爻象次命起少陽算外即平合所入象算
數及餘秒也
求平合入六爻置所入象算數及餘秒以一爻之算及
餘秒除之所得命起其象初爻算外即平合所入爻算
數及餘秒也
星名爻目損益率進退積
歲星(少陽少陰)初益七百七十三(進退)空
(少陽少陰)二益七百二十一(進退)七百七十三
(少陽少陰)三益六百三十(進退)一千四百九十四
(少陽少陰)四益五百(進退)二千一百二十四
(少陽少陰)五益三百三十一(進退)二千六百二十四
(少陽少陰)上益一百二十三(進退)二千九百五十五
(老陽老陰)初損一百二十三(進退)三千七十八
(老陽老陰)二損三百三十一(進退)二千二百五十五
(老陽老陰)三損五百(進退)二千六百二十四
(老陽老陰)四損六百三十(進退)二千一百二十四
(老陽老陰)五損七百二十一(進退)一千四百九十四
(老陽老陰)上損七百七十三(進退)七百七十三
熒惑(少陽少陰)初益一千二百三十七(進退)空
(少陽少陰)二益一千一百四十三(進退)一千二百二十七
(少陽少陰)三益九百九十一(進退)二千三百八十
(少陽少陰)四益九百八十一(進退)三千三百七十一
(少陽少陰)五益五百一十三(進退)四千一百五十二
(少陽少陰)上益一百八十七(進退)四千六百六十五
(老陽老陰)初損一百八十七(進退)四千八百五十二
(老陽老陰)二損五百一十三(進退)四千六百六十五
(老陽老陰)三損七百八十一(進退)四千一百五十三
(老陽老陰)四損九百九十一(進退)三千三百七十一
(老陽老陰)五損一千一百四十三(進退)二千三百八十
(老陽老陰)上損一千二百三十七(進退)一千二百三十七
鎮星(少陽少隂)初益一千六百八十四(進退)空
(少陽少陰)二益一千五百四十四(進退)一千六百八十四
(少陽少陰)三益一千三百三十(進退)三千二百二十八
(少陽少陰)四益一千四十二(進退)四千五百五十八
(少陽少陰)五益六百八十(進退)五千六百
(少陽少陰)上益二百四十四(進退)六千二百八十
(老陽老陰)初損二百四十四(進退)六千五百二十四
(老陽老陰)二損六百八十(進退)六千二百八十
(老陽老陰)三損一千四百三(進退)五千六百
(老陽老陰)四損一千三百五十(進退)四千五百五十八
(老陽老陰)五損一千五百四十四(進退)三千二百三十八
(老陽老陰)上損一千六百八十四(進退)一千六百八十四
太白(少陽少陰)初益二千五十五(進退)空
(少陽少陰)二益二千三十一(進退)二百五十五
(少陽少陰)三益一百九十八(進退)四百八十六
(少陽少隂)四益一百五十六(進退)六百八十四
(少陽少陰)五益一百五(進退)八百四十
(少陽少陰)上益四十五(進退)九百四十五
(老陽老陰)初損四十五(進退)四百九十
(老陽老陰)二損一百五(進退)九百四十五
(老陽老陰)三損一百五十六(進退)八百四十
(老陽老陰)四損一百九十八(進退)六百八十四
(老陽老陰)五損二百三十一(進退)四百八十六
(老陽老陰)上損二百五十五(進退)二百五十五
辰星(少陽少陰)初益六百四十三(進退)空
(少陽少陰)二益五百八十五(進退)六百四十三
(少陽少陰)三益五百一(進退)一千二百二十八
(少陽少陰)四益三百九十一(進退)一千七百二十九
(少陽少陰)五益三百五十五(進退)二千一百二十
(少陽少陰)上益九十三(進退)二千三百七十五
(老陽老陰)初損九十三(進退)二千四百六十八
(老陽老陰)二損二百五十五(進退)二千三百七十五
(老陽老陰)三損三百九十一(進退)二千一百二十
(老陽老陰)四損五十一(進退)一千七百二十九
(老陽老隂)五損五百八十五(進退)一千二百二十九
(老陽老陰)上損六百四十三(進退)六百四十三
求四象六爻每算損益及進退定數以所入爻與後爻
損益率相減為前差又以後爻與次後爻損益率相減
為後差前後差相減為中差置所入爻并後爻損益率
半中差以加之九之二百七十四而一爻末率因為後
爻初率(皆因前爻末率以為後爻初率)初末之率相減為爻差倍爻差
九之二百七十四而為一算差半之加減初末各為定
率以算差累加減爻初定率(少象以差減老象以差加)為每損益率
循累其率隨所入爻損益其下進退即各得其算定(其四)
(象初爻無初率上爻無末率皆置本爻損益四而九之二百七十四而一所各以初末率減之皆置得其率餘)
(依術算各得所求)
求平合入進退定數各置其星平合所入爻之算差半
之以減其所入算損益率損者以所入餘乘限差辰法
除并差而半之益者半入餘乘差亦辰法陰加所減之
率廼以入餘乘之辰法而一所得以損益其算下進退
各為平合所入進退定數(此法微密用算稍繁若從少求之亦可置其所入算餘以)
(乘其下損益率如辰法而一所得以損益其算下進退各為定數)求常合置平合所入
進退定數(金星則倍置之)各以合下乘數乘之除數除之所得
滿辰法為日不滿為餘以進加退减平合日算及餘秒(先以)
(四約平合餘然後進加退減也)即為冬至夜半後常合日算及餘也方
求定合置常合日先後定數四而一所滿辰法為日不
滿為餘廼以先减後加常合日算及餘即為冬至夜半後
定合日算及餘也求定合度置其日盈縮分四而一以
定合餘乘之滿辰法而一所得以盈加縮減其定餘以
加其日夜半日度餘(先四約夜半日度餘以加之)滿辰法從度依前
命之算外即為定合加時度及餘也
求定合月日置冬至夜半後定合日算及餘秒以天正
冬至大小餘加之天正經朔大小餘減之(其至朔小餘皆以四約之)
(然用加減若至大餘少扵經朔大餘者又以爻數加之然以經朔大小餘減之)其餘滿四象之
策及餘附之為月數不盡者為入朔日算及餘命月數
起天正日算起經朔算外即定所在日月也(其定朔大餘有進退)
(進減退加一日為在其日月定及餘也)
求定合入爻置常合及定合應加減定數同名相從異
名相消廼以加減其平合入爻算餘滿若不足進退其
算即為定合入爻算數及餘也求變行初日入爻置定
合入爻算數及餘以合後伏下變行度常率加之滿爻
率去之命爻次如前加次變初日入爻算數及餘也(更求)
(次變入爻變入但以其下行度常加之去命闕上節)
求變行初日入進退定數各置其變行初日入爻算數
及餘如平合求進退術入之即得變行初日所入進退
定數也置進退定數各以其下乘數乘之除數除之所
得各為進退變率
星名變行目變行日中率變行度中率
差行損益率變行度常率(變行乘數變行除數)
歲星合後伏十七日(三百三十二)行三度(三百三十三)先遲二日
益疾九分行一度三百五(乘數三百五十十七)除數二百八十
前順一百一十日行一十八度(六十五)先疾五日
益遲六分行九度三百五(乘數三百一十十七)除數二百八十一
前留二十七日行二度(二百二十)
(乘數二百六十七除數一百二十二)
前退四十三日退五度(三百六十九)先疾六日
益疾十一分行三度四百七(乘數四百七十十五)除數四百三十
後退四十三日退五度(三百六十九)先疾六日
益遲十一分行三度四百七(乘數五百一十十五)除數四百六十七
後留二十七日行三度(二百一十)
(乘數二百七十除數四百六十七)
後順一百一十二日行一十八度(六十五)先遲五日
益疾六分行九度三百三(乘數二百六十七十七)除數二百二十七
合前伏十七日行三度(三百三十三)先疾二日
益遲九分行一度三百五(乘數三百五十十八)除數二百八十一
熒惑合後伏七十一日(七百三十五)行五十四度(七百三十五)先疾五日
益遲七分行三十八度(二百乘數一百二十七一)除數三十
前疾二百一十四日行一百三十六度先疾九日
益遲四分行一百一十三度(五百九乘數一百三十十六)除數三十一
前遲六十日行二十五度先疾日
益遲四分行三十一度六百八(乘數三百三十十五)除數五十四
前留一十三日行六度(六百九十三)
(乘數二百三除數五十四)
前退三十一日退八度(四百七十三)先遲六日
益疾五分行一十六度三百六(乘數二百三十七)除數四十八
後退三十一日退八度(四百七十三)先疾六日
益遲五分行十六度二百六(乘數二百三十七)除數四十八
後留十三日行六度六百九(乘數二百三十三)除數四十八
後遲六十日行二十五度先遲日
益疾四分行三十一度六百八(乘數二百三十五)除數五十四
後疾二百一十四日行三十六度先遲九日
益疾四分行一百十三度(五百九十六)
合前伏七十一日(七百三十六)行五十四度(七百三十六)先遲五日
益疾七分(二百二)行三十八度二百(乘數一百二十七一)除數三十
鎮星合後伏十八日行一度(四百一十五)先遲一日
益疾九分行度空四百(乘數十二八十)除數十一
前順八十三日行七度(二百四十二)先遲二日
益遲五分行二度六百二(乘數十三十三)除數十一
前留三十七日(三百八十)行一度(二百八)
(乘數十除數九)
前退五十日退二度(二百三十四)先遲七日
益疾一分行一度五百(乘數二十三十一)除數十七
後退五十日退二度(三百三十四)先疾七日
益遲一分行一度五百三(乘數五十一)除數四
後留三十七日(一百八十)行一度(二百八十)
(乘數二十除數一十七)
後順八十三日行七度(二百三十一)先遲六日
益疾五分行二度六百二(乘數九十三)除數十
合前伏十八日(四百一十五)行一度先疾二日
益遲九分行度空四百(乘數十二八十)除數十一
太白晨合伏後四十一日(七百一十九)行五十二度(七百一十九)先遲三日
益疾十六分行三十一度七百一(乘數七百九十七十九)除數二百九
夕疾行一百七十一日行二百六十度先疾五日
益遲九分行一百七十一度(乘數七百九十一除數二百九)
夕平行十二日行一十二度(乘數五百一十五除數一百三十七)
夕遲行四十二日行三十一度先疾日
益遲十分行四十三度(乘數五百一十五除數一百三十一)
夕留八日行八度
(乘數五百一十五除數九十二)
夕退十日退五度先遲日
益疾九分行十度(乘數五百一十五除數八十六)
夕合前伏六日退五度先遲日
益疾八十五行六度(乘數五百一十五除數八十四)
夕合後伏六日退五度先疾日
益遲八十五分行六度(乘數五百一十五除數八十三)
晨退十日退五度先疾日
益遲九分行十度(乘數五百一十五除數八十三)
晨留八日行八度
(乘數五百一十五除數八十六)
晨遲行四十二日行四十一度先疾日
益疾十分行四十二度(乘數五百一十五除數九十二)
晨平行十二日行十二度
(乘數五百一十五除數一百三十七)
晨疾行一百七十一日行二百六度先遲五日
益疾九分行一百七十度(乘數五百一十五除數一百一十六)
晨合前伏四十一日(七百一十九)行五十二度(七百一十九)先疾三日
益十六分行四十一度七百一(乘數七百一十七十九)除數二百九
辰星晨合後伏十六日(七百一十五)行三十二度(七百一十五)先遲日
益疾二十二分行十六度七百一(乘數二百八十六十五)除數二百八十七
夕疾行十二日行十七度先疾日
益遲五十分行十二度(乘數二百八十六除數二百八十七)
夕平行九日行九度
(乘數四百九十五除數一百九十四)
夕遲行六日行四度先疾日
益遲七十六分行六度(乘數四百九十八除數一百九十五)
夕留三日行三度
(乘數四百九十七除數一百九十六)
夕合前伏十一日退六度先遲日
益疾三十一分行十一度(乘數四百九十八除數一百九十七)
夕合後伏十一日退六度先疾日
益遲三十一分行十一度(乘數五百除數一百九十八)
晨留三日行三度
(乘數四百九十八除數一百九十八)
晨遲行六日行四度先遲日
益疾七十六分行六度(乘數四百九十七除數一百九十六)
晨平行九日行九度
(乘數四百九十五除數一百九十五)
晨疾行十二日行十七度先遲日
益疾五十分行十二度(乘數四百九十五除數一百九十四)
晨合前伏十六日(七百十五)行二十三度(六百一十五)先疾日
益遲二十二分行十六度(乘數二百八十六除數二百八十七)
求變行日度率置其本進退變率與後變率同名者相
消為差在進前少在退前多各以差為加在進前多在
退前少各以差為減異名者相從謂并前退後進各以
并為減皆以差及并加減日度中率各為日度變率(其水)
(星疾行直以差以并加減度之中率為變率其日置因中率為變率不煩加減也)
求變行日度定率以定合日與後變初日先後定數同
名相消為差異名者相從為并四而一所得滿辰法為
度廼以盈加縮減其合後伏度之變率及合前伏日之
變率(金水名合日度加減反之)其二日留日之變率若差扵中率者
即以所差之數為度各加減本遲度之率(謂以多率扵中率之數加)
(之少扵中之數減之以下加減准此)退行度變率若扵中率者即倍所差
之數各加減本疾之變率(其木土二星既無遲疾即加減前後順行度之變率)其
水星疾行度之變率若差於中率者即以所差之數為
日各加減留日變率(其留日變率若少不足減者即侵減遲日變率也)各加減
變率訖皆為日度定率其日定率有分者前後輩之(輩配)
(也以少分配多滿分全為日有餘轉配其諸變率不加減者皆依變為定率)
求定合後夜半星所在度置其星定合餘以減辰法餘
以其星初日行分乘之辰法而一以加定合加時度餘
滿辰法為度依前命之算外即定合後夜半星行在宿
及餘(自此以後各依其星計日行度所至皆從夜半為始也)轉求次日夜半星行
至各以其星一日所行度及順加退減之其行有小分
者各滿其法從行分一行分滿辰法從度一合之前後
伏不注度留者因前退則依順行出虛去六虛之差退
行入虛先加此差(先置六虛之差四而一然後加減)訖皆以轉法約行
分為度分各得每日所至(其三星之行日度定率或加或減益疾遲每日漸差難為)
(預定今且略據日度中率商量置之其定率既有盈縮即差數合隨而增損當先檢括諸變定率與中率相近者)
(因用其差求其初末之日行分為主自餘變因此消息加減其差各求初末分循環比校使際會參合衰殺相)
(循其金水皆以平行為主前後諸變亦准此求之其合前伏雖有日度定率如至合而與後算計却不叶者皆)
(從後算為定其五日初見伏之度去日不等各以日度與星度相校木去日十四度金十一度火土水各十七)
(度皆見各減一度皆伏其木火土三星前順之初後順之末又金水疾行留退初末皆是見伏之初日注歴消息)
(定之其金水及日月等度並棄其分也)
求每日差置所差分為實以所差日為法實如法而一
所得為行分不盡者為小分即是也每日差所行分及
小分也(其差若全不用此術)
求平行度及分置度定率以辰法乘之有分者從之如
日定率而一為行分不盡為小分其行分滿辰法為度
即是一日所行度及分求差行初末日行度及分置日
定率減一以差分乘之二而一為差以加減平行分(益疾)
(者以差率減平為初日加平為末日益加遲者以差率加平為初日減平為末日也)加減訖即是
初末日所行度及分(其差不全而與日月相合者先置日定率一以所差分乘之為實倍)
(所差日為法實如法而一為行分不盡者因為小分然後為差率)
求差行次日行度及分置初日行分益遲者以每日差
減之益疾者以每日差加之即為次日行度及分也(其每)
(日差初日行皆有小分母既不同當令同之然用小分減轉求次日准此加各得所求也)
徑求差行餘日行度及分置所求日減一以每日差乘
之以加減初日行分(益遲減之益疾加之)滿辰法為度不滿為行
分即是所求日行度及分也求差行先定日數徑求積
度及分置所求日減一次每日差乘之二而一所得以
加減初日行分(益遲減之益疾加之)以所求日乘之如辰法而一
為積度不盡者為行分即是從初日至所求日積度及
分也
求差行先定度數徑求日數置所求行度以辰法乘之
有分者從之入之如每日差而一為積倍初日行分以
每日差加減之(益遲者加之益疾者減之)如每日差而一為率合自
乘以積加減之(益遲者以積減之益疾者以積加之)開方除之所得以率
加減之(益遲者以率加之益疾者以率減之)廼半之即所求日數也(其開方除)
(者置所開之數為實借一算扵實之下名曰下法步之超一位置商扵上方副商扵下法之上名曰方法命上商)
(以除實畢倍方法一折下法并折廼置後商扵下法之上名日偶法副偶并方命後商之除實畢偶從方法折)
(下就除如前開之訖除依上術求之即得也)求星行黃道南北各視其星變
行入陰陽爻而定之其前變入陽爻為黃道北入陰爻
為黃道南後變入陽爻為黃道南入陰爻為黃道北(其金)
(水二星以爻變為前各計其變行起初日入爻之算盡老象上爻末算之數不滿變行度常率者因置其數行)
(變行日定率乘之如變行度常率而一為日其入變日數與此日數以下者星在黃道南北依本所入陰陽爻)
(為定過此日數之外者黃道南北則返之)
舊唐書卷三十四
舊唐書卷三十四考證
歷志三歲積九千六百六十六萬一千七百四十算
(臣召南)按大衍積歲新書作九千七百九十六萬一
千四百六十算與此不同元郭守敬謂大衍積年九
千六百九十六萬一千二百九十七然則二書俱有
訛字矣
大衍步中朔第一(臣召南)按此文舊本與下通法平
列非也大衍之法一曰步中朔二曰步發斂三曰步
日躔四曰步月離五曰步晷漏六曰步交會七曰步
五星此其提綱挈領不可混也今一一提行改正
其畢觜參及輿鬼四宿度數與古不同(臣召南)按此
言赤道星度與漢時洛下閎所測微有不同也据元
史郭守敬謂洛下閎測畢十六度觜二度參九度輿
鬼四度一行測畢十七度觜一度參十度輿鬼三度
即是其說
推月行與黃道差數(臣德潛)按舊本作月為月與黃
道差數義不可解又後文若入春分交後行陽歷秋
分交後行陰歷皆為異名舊本脫春分春字又脱陽
歷秋分交後行七字今補正
大衍步五星術第七(臣召南)按歲星之後鎮星之前
脱漏熒惑一星行度若以新書補之應曰熒惑終率
二百三十七萬一千三百四十三秒八十六終日七
百七十九餘二千八百四十三秒八十六變差三十
二秒二象算九十一餘二百三十八秒四十三微分
八十四爻算十五餘百六十六秒四十微分六十二
舊書既殘闕不全存說扵此又按歲星變差之上衍
終字盖五步之法曰終率曰終日曰變差曰象算曰
爻算共五條無所謂終變差也
舊唐書卷三十四考證
