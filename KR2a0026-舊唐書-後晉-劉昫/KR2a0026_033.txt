舊唐書卷三十三
後晉司空同中書門下平章事劉昫撰
志第十三
歷二
麟德甲子元歷
上元甲子距今大唐麟德元年甲子歲積二十六萬九
千八百八十算推法一千三百四十朞實四十八萬九
千四百二十八旬周六十推氣序術置八甲子元積算
距今所求年以朞乘之為朞總滿法得一為積日不滿
為小餘旬去積日不書為大餘命大餘起甲子筭外即
所求年天正中氣冬至恒日及大小餘(天正建子律氣所由故陰陽發)
(歛皆從其時為自)
求恒次氣術
因冬至大小餘加五大餘十五小餘二百九十二小分
小分滿從小餘小餘滿總法之從大餘一大餘滿旬周
之以次轉加而命各得其所求(他皆放此凡氣餘朔大餘為日小餘為辰也)
求土王
置清明小暑寒露小寒大寒小餘各加大餘十二小餘
二百四十四小分八(五乘氣小今通之加八若滿三十去從小餘一凡分餘相并不同者)
(互乘而并之母相承為法其并滿法一為全此即齊同之術)小餘滿總法從命如前
即各其氣從土王日
求没日術
没日法一千七百五十七没分十二萬二千三百五十
七以九十乘有没氣小餘十五乘小分從之以減没分
餘法得一為日不盡餘以日數如其氣大餘去命如前
即其氣内没日也(小氣餘一千四十已上其氣有沒者勿推也)沒餘皆盡者
為減求次沒因前沒加日六十九餘一千一百四餘滿
沒從日一因而命之以氣别日盈朔實三萬九千九百
三十三朒朔實三萬九千二百二十恒朔實三萬九千
五百七十一
推朔端
列朞總以恒朔實除之為積月不滿為閏餘滿總法為
閏日不滿為閏辰以閏日減冬至大餘辰減小餘即所
求年正月恒朔大小餘命大餘以甲子筭外即其日也
(天正者日南至之月也恒數者不朒不盈之常數也凡減者小餘不足減退大餘一如總法而減之大餘不足)
(減者加自周乃減之其湏減分竒者退分餘一如其法而減以其在宿度遊實不足減者如在宿過周連餘及)
(竒乃減之)以天正恒用小餘加閏餘以減朞總餘為總實
求恒弦望術
因天正恒朔大小餘加大餘十小餘五百一十二太(凡四)
(分一為少二為半三為太)滿法者去命如前耶天正上弦恒日及大
小餘以次轉加得望下弦及來月朔(以次轉加去命如前合得所求他皆)
(放此)因朔徑求望加大餘十四小餘一百二十五分半因
朔徑求下弦加大餘二十二小餘一百九十八少因朔
徑次朔加大餘二十九小餘七百十一半總六百七十
辰率三百三十五
檢律候術氣日
中氣律名日中影陟降率
初候次候末候
冬至黃鍾一丈二尺七寸五分陟四寸一分
虎始交芸始生荔挺出
小寒一丈二尺二寸八分陟三尺一寸三分
蚯蚓結麋角解水泉動
大寒大呂一丈一尺一寸五分陟一尺五寸二分
鴈北鄉鵲始巢雉始雊
立春九尺六寸二分陟一尺五寸五分
鷄始乳東風解凍蟄蟲始振
啓蟄太簇八尺七寸陟一尺五寸三分
魚上冰獺祭魚鴻鴈來
雨水六尺五寸四分陟二尺二寸一分
始雨水桃始花倉庚鳴
春分夾鍾五尺三寸三分陟一尺九分
鷹化為鳩玄鳥至雷始發聲
清明四尺三寸四分陟九寸四分
始電蟄蟲咸動
穀雨姑洗三尺三寸陟八寸一分
桐始華田鼠化為鴽虹始見
立夏三尺四寸九分陟五寸一分
萍始生戴勝降于桑螻蟈鳴
小滿中呂一尺九寸八分陟三寸四分
蚯蚓出王瓜生苦莱秀
芒種一尺六寸四分陟一寸五分
靡草死小暑至螳螂生
夏至蕤賓一尺四寸九分降一寸五分
鵙始鳴反舌無聲鹿角解
小暑一尺六寸四分降三寸四分
蟬始鳴半夏生木槿榮
大暑林鍾一尺九寸八分降五寸一分
温風至蟋蟀居壁鷹乃學習
立秋二尺四寸九分降八寸一分
腐草為螢土潤溽暑凉風至
處暑夷則三尺三分降九寸四分
白露降寒蟬鳴鷹祭鳥
白露四尺三寸四分降一尺九分
天地始肅盲風至鴻鴈來
秋分南呂五尺三寸三分降一尺二寸一分
玄鳥歸羣鳥養羞雷始收聲
寒露六尺五寸四分降一尺五寸三分
蟄蟲坏戸陰氣方盛陽氣始衰
霜降無射八尺七分降一尺五寸五分
水始涸鴻鴈來賓雀入大水為蛤
立冬九尺六寸二分降一尺五寸三分
菊有黃花豺祭獸水始冰
小雪應鍾一丈一尺一寸五分降一尺一寸三分
地始凍野鷄入水為蜃虹藏不見
大雪一丈二寸八分降四寸七分
冰益壯地始坼鶡鳥不鳴
求恒氣初日影汎差術
見所求氣陟降率并後氣率半之十五而一為汎末率
又二率相減餘十五而一為總差前少以總差減汎末
率前多以總差加汎末率加減汎末率訖即為汎初率
(其後氣無同率因前末率即為汎初率以總差減初率餘為汎末率)
求恒氣初日影定差術
十五除總差為别差為限前少者以限差加汎初末率
前多者以限差減汎初末率加減汎初末率訖即為定
初末率即恒氣初日影定差
求次日影差術
以别定差前少者加初日影定差前多者減初日影定
差加減初日影定差訖即為次日影定差以次積累歲即
各得所求(每氣皆十五日為限其有皆以十六除取汎末率及總差别差)
求恒氣日中影定數術
置其恒氣小餘以半總減之餘為中後分不足減者反
減半總餘為中前令置前後分影定差乘之總法而一
為變差冬至後午前以變差減氣影午後以變差加氣
影夏至後午前以變差加氣影午後以變差減氣影冬
至一日有減無加夏至一日有加無減加減訖各其恒
氣日中定影
求次日中影術
迭以定差陟減降加恒氣日中定影各得次日中影(後漢)
(及魏宋歷冬至日中影一丈二尺夏至一尺五寸於今並短冬須隨時影校其陟降及氣日中影應二至率他)
(皆倣此前求每日中影術古歷並無臣等創立斯法也)
求律呂應日及加時術
十二律各以其月恒中氣日加時應列其氣小餘六乘
之辰率而一為半總之數不盡為辰餘命時起子筭半
為加時所在辰六乘辰餘如法得一為初二為少弱三
為少四為少強五為半弱若在辰半後者得一為半強
二為太弱三為太四為太強五為辰末
求七十二候術
恒氣日即初候日也加其大餘五小餘九十七小分十
一三乘氣小分加十一滿十八從小餘一滿法去命如
前即次候日以次轉加得末後日
求次氣日檢盈虚術
進綱一十六退紀一十七
汎差一十一總辰一十二(六十並平闕)
秋分後春分前日行速春分後秋分前日行遲速為進
綱遲為退紀若取其數綱為名用其時春分為至進日
分前退日分後凡用綱紀皆凖此例
見所在氣躔差率并後氣率半之總辰乘之綱紀而一
得氣末率(各以汎差通其綱紀以同差辰也)又二率相減餘以總辰乘
而紀除之為總差辰之綱紀除之為别差率前少者以
總差減末率前多者以總差加減訖皆為其氣初日損
益率前多者以别差日減前少者以别差日加加減氣
初日損益率訖即次日損益率(亦名每日躔差率)以次加減得
每日所求各累所損益隨歷定氣損益消息總各為其
日消息數其後氣無同率及有數同者皆因前少以前
末率為加總差為末率别差漸加初率為每日率前多
者總差減初率為末率别差漸減為日率(其有氣初末計會及綱紀)
(所校多少不叶者隨其增損調而御之使際會相凖)
求氣盈朒所入日辰術
冬夏二至即以恒氣為定自外各以氣下消息數息減
消加其恒氣小餘(滿若不足進退其日)即其氣朒日辰亦因别其
日命以甲子得所求(加之為盈氣減之為朒氣定其盈朒所在故日定凡推日月度及推)
(發歛皆依定氣推之若注歷依恒氣日)
求定氣恒朔弦望夜半後辰數術
各置其小餘三乘如辰率而一為夜半後辰數
求每日盈朒積術
各置其氣先後率與盈朒積乃以先率後率加躔差率
盈朒積加消息總亦如求消息法即得每日所入盈朒
及先後之數
求朔弦望恒日恒所入盈縮數術
各以總辰乘其所入定氣日筭朒朔弦望夜半後辰數
乃以所入定氣夜半後辰數減之餘為辰總(其恒朔弦望與定氣)
(同日而辰多者其朔弦望即在前氣氣末而辰總時有多扵進綱紀通數者疑入後氣之初也)以乘其
氣前多之末率前少之初總辰而一為總率(凡須相乘有分餘者)
(母必通全子乘記報母異者齊同也)其前多者辰總減紀乘總差綱紀而
一為差并扵總率差辰總乘之倍總辰除之以加總率
前少者辰總再乘别差總辰自辰乘倍而除之以加總
率皆為總數乃以先加後減其氣其朒為定積(凡分餘不成全)
(而更不復須者過半更不後夜無氣也)以盈朒定積盈加朒減其日小餘
滿若不足進退之各其入盈朒日及小餘(若非朔望有交從者速粗)
(舉者以所入定氣日算乘先後率加十五而一先加減盈朒為定積入氣日十五筭者加十六而一)
推歷變術
歷變周四十四萬三千七十七變竒率十二歷變
日二十七變餘七百四十三變竒一月程法六十
三以歷變周去總實餘以變竒率乘之滿變周又去
之不滿者變竒率約之為變分不盡為變竒分滿總法
為日不滿為餘命日算外即所求年天正恒朔夜半入
變日及餘以天正恒朔小餘加之即經辰所入
求朔弦望經辰所入
因天正經辰所入日餘竒加日七餘五百一十二竒九
竒滿率成餘餘如總法為日得上弦經辰所入以次轉
加得望下弦及來月朔所日滿變日及餘竒則去之(凡相)
(連去者皆倣扵此)徑求望者加朔所入日十四餘一千二十五
竒六徑求次朔加一日餘一千三百七竒十一
求朔望弦盈朒減辰所入術
各以其日所入盈朒定積盈加朒減其恒經辰所入餘
即各所求
變日離差離程增減率遲速積
一日九百八十五退十一增一百三十四速初
二日九百七十四退十二增一百一十七速一百三十四
三日九百六十二退十四增九十九速二百五十一
四日九百四十八退十五增七十八速三百五十
五日九百三十三退十五增五十六速四百二十八
六日九百一十八退十六增三十三速四百八十四
七日九百二退十六增九(初增九末減隠)速五百一十七
八日八百八十六退十六減十四速五百二十七
九日八百七十退十六減三十八速五百一十二
十日八百五十四退十五減六十二速四百七十四
十一日八百四十九退十二減八十五速四百一十七
十二日八百二十六退十一減一百四速三百二十七
十三日八百十五退七減一百二十七速二百二十三
十四日八百八進二(初減一百二十末二十九)速百二
十五日八百十進九增一百二十八遲二十九
十六日八百一十九進十三增一百一十五遲一百五十七
十七日八百三十二進十四增九十五遲二百七十二
十八日八百四十六進十五增七十四遲三百六十七
十九日八百六十一進十六增五十二遲四百四十一
二十日八百七十七進十六增二十八遲四百九十三
二十一日八百九十三進十六增四(初增四末減隠)遲五百二十一
二十二日九百九進十六增二十遲五百二十五
二十三日九百二十五進十六減四十四遲五百二十
二十四日九百四十一進十四減六十八遲四百六十一
二十五日九百五十五進十三減八十九遲三百九十三
二十六日九百六十八進十一減一百八遲三百四
二十七日九百七十九進六減一百二十五遲一百九十六
二十八日九百八十五平(進五退五減一百四十四初減七十一末增入後)遲七十七
求朔弦望盈朒日辰入變遲速定數術
各例其所入日增減率并後率而半之為通率又二率
相減餘為率差增者以入餘減總法餘乘率差總法而
一并率差而半之減者半入餘乘率差亦總而一並以
加扵通率入餘乘之總法而一所得為經辰變轉半經
辰變速減法遲加盈朒經辰所入餘為轉餘應增者減
法應減者因餘皆以乘率差總法而一加於通率變率
乘之總法而一以速減遲加變率為定率乃以定率增
減遲速積為定(此法微密至當以示算理通塗若非朔望有交及欲考校速要者但以入餘乘)
(增減率總法而一增減速為要耳)其後無同率者亦因前率應增者以
通率為初數半率差而減之應減入餘進退日者分為
二日隨餘初末如法求之所得并以減率為定
七日初七分末一分初一千一百九十一末一百四十九
十四日初七分末二分初一千四百十二末二百九十八
二十一日初六分末三分初八百九十二末四百四十六
二十八日初五分末四分初七百四十三末五百九十七
其入前件日餘如初數已下者為初已上者以初數減
總法餘為末之數增減相反約以九分為限初雖少弱
而末微強餘差不多理况兼舉皆今有雜差各隨其數
若恒筭所求七日與二十一日得所率而末之所減隠
而不顯且數與平行正算亦初未有數而恒算所無其
十四日二十八日既初末數存而虛差亦減其數數當
去恒法不見
求朔弦望盈朒所入日名及小餘術
各以其所入變歷速定數減除加其盈朒小餘滿若不
足進退其日命以甲子算外各其盈朒日反餘(如其恒日餘者)
(為盈盈減其恒日餘者為朒其日不動者依恒朔日而定其小餘推擬日月行度其定小餘二十四已下一千)
(三百一十六已上者其入氣盈朒入歷遲速皆湏覆依本術推算不得從粗舉速要之限乃前朔後朔迭相推)
(校盈朒之課據實為準損不侵朒益不過盈)
求定朔月大小術
凡朔盈朒日名即為定朔日名其定朔日名十干與來
月同者大不同者小其月無中氣者為閏月(其正月朔有交加時)
(應見者消息前後各一兩月以定月之大小合虧在晦二者弦望亦隨事消息凡置月朔盈朒之極不過頻三)
(其或過者觀定小餘近夜半者量之)
檢宿度術
斗二十六(及分)牛八女十二虚十危十七室十六
壁九(北方九十八度)奎十六婁十二胃十四昴十一畢十八
觜一參九(西方八十度)井三十鬼三柳十四星七
張十八翼十八軫十七(南方一百一十二度)角十三亢九氐十六
房五心五尾十八箕十一(東方七十五度)
前件周天二十八宿相距三百六十五度前漢唐都以
渾儀赤道所量其數常定紘帶天中儀圖所準日月往
來隨交損益所入宿度進退不同黃道宿度(左中郎將賈逵檢日)
(月所去赤道不同更鑄黃道渾儀所檢者)
斗二十四度牛七度女十一度虛十二度
危十六度室十八度壁十一度(北方九十六度宿分三百二十八)奎十七度
婁十三度胃十四度昴十一度畢十六度
觜度(西方八十三度)參九度井三十度鬼三度
柳十四度星七度張十六度翼十九度
軫十八度(南方一百九度)角十三度亢九度氐十六度
房五度心五度尾十八度箕十度(東方七十九度)
臣等今所修撰討論更造木渾圖交絡調賦黃赤二道
三百六十五度有竒校量大率與此符會今歷以步日
行月及五星出入循此其月行交絡黃道進退亦宜有
别每交輙差不可詳盡今亦依黃道推步
推日躔術
置冬至初日躔差率加總法乘冬至小餘如總法而一
以減天宿度分其餘命起黃道斗十二度宿次去之經
斗去宿分度不滿宿算外即所求年冬至夜半所在宿
度算及分
求每定氣初日夜半日所在定度術
各以其定氣初日躔差率乘氣定餘總法而一進加退
減餘為分以減定氣日度及分命以宿次如前即其夜
半度及春秋二分定氣初日為進退之始當平行一度
自餘依加退減度之
求次日夜半日所在定度術
各因定氣夜半所在為本加度一又以其日躔差率進
加退減度分滿若不足並依前例去命如上即得所求
(其定朔弦望夜半日度各隨定氣以其日月名亦直而分别之勘右依恒有餘從定恒行度不用躔差)
求朔弦望定日夜辰所加日度術
各以其定小餘為平分又定小餘乘其日所躔差率總
法而一乃進加退減其平分以加其夜半日度即各定
辰所加(擬與五星加減者半其分消息月朔者應推月度所須皆依本朔大小若注歷依甲子乙乙子)
(各疑入)
推月離術求朔望定日辰月所在度術
各置朔弦望定辰所加日度及分凡朔定辰所加為
合朔日月同度上弦加度九十一分四百一十七望
加度一百八十三分八百三十四下弦加度二百七
十三分一千二百五十一(訖各半而十退之為程度分)
求次月定朔夜半入變宿術
置天正恒朔夜半所入變日及餘(定朔有進退一日者進退一日為定朔夜)
(半所入)月大加二日月小加一日餘皆五百九十六竒十
六
求次日夜半所入變歷術
因定朔夜半所入日算加日一滿皆如前(其弦皆依前定日所在求)
(之)
求變日定離程術
各以其日夜半入變餘乘離差總法而一為見差以進
加退減其日離程為月每日所離定程
求朔弦望之定日夜半月所在度術
各以其日定小餘乘所入變日離定程總法而一為夜
半後分滿程法為度餘為度分以減其日加辰所在度
及分命以黃道宿度即其所求次日夜半各以離定程
加朔弦望夜半所在分滿程法從度去命以黃道宿度
算外則次日夜半月度求晨昏度以其日離定程乘其
日夜刻二百而一為昏分滿程法為度望前以昏後以
昏加度半度得所求其弦望以五乘定小餘程法一為
刻即各其辰所入刻數皆減其晨前刻不盡為晨後刻
不滿晨前刻者從前日住歷伺候推總刻一百
辰刻分十一刻分法七十二
求定氣日晝夜漏刻及日出没術
倍其氣晨前刻及分滿法從刻為日不見漏以減百刻
餘為日見漏五刻晝漏刻以晝漏刻減百刻餘為夜漏
刻以四刻十二分加晨前漏刻命起子初刻算外即日
出辰刻以日見漏加日出刻辰以次如前即日没所在
辰刻(以二十五除從夜漏得每更一籌之數以二刻三十六分加日没辰刻即甲辰刻又以更籌數加之)
(得甲夜一籌數以次累加滿辰去命之即五更夜籌所以當辰刻及也以配二十一箭漏之法也)
求每日並屈申數術
每氣凖為一十五日各置其氣屈申率每以發斂差損
益之差滿十從分分滿十從率一即各每日屈申率各
累計屈申率為刻分乃以一百八十乘刻分汎差十一
乘綱紀而除之得為刻差滿法為刻隨氣所在以申減
屈加不見漏而半之為晨前定刻每求次日各如前法
(時加其如始隨加辰日晚以率課之)
求黃道去極每日差術
置刻差三十而一為度不滿三約為分申減屈加其氣
初黃道度即每日所求
求昏旦去中星度術
每日求其晝漏刻數以乘朞實二百乘總法而除之得
昏去中星度以減周天度餘為晨去中星度以昏旦去
中星度加其辰日所在即各其日中宿度(其梗槩粗舉者加其夜半)
(日度各其日中星宿度)
因求次日者各置其四刻差七十二乘之二百八十八
而一度冬至後加夏至後減隨日加各得每日去中度
晨昏所距日在黃道中星凖度以赤道計之其赤道同
太初星距
推遊交術
終率一千九十三萬九千三百一十三竒率三百
約終三萬六千四百六十四竒一百一十三交中
一萬八千二百三十二竒五十六半交中日二十
七餘二百八十四竒一百一十三交中日十三
餘八百一十二竒五十六半虧朔三千一百六
竒一百八十七實望一萬九千七百八十五竒一
百五十後凖一百五十二竒九百三半前準一
萬六千六百七十八竒二百六十三
求月行入交表裏術
置總實以終率去之不足去者竒率乘之滿終率又去
之不滿者竒率約之為天正恒朔夜半入交分不盡為
竒以總法約入交分為日不盡為餘命日算外即天正
恒朔夜半入交日算及餘竒(天正定朔有進退日者依所進退一日為朔所入)
日不滿中日及餘竒者為月在外滿去之餘皆一為月
在内大月加二日小月加一日餘皆一千五十五竒一
百八十七求次日加一日滿中日者皆去之餘為入次
一表一裏迭互入之
交日去交差差積
一日進十四積元二日(餘二百一十四已下者入蝕限)進十三
十四三日進十一半二十七四日進十一
半三十八半五日進七四十八六日進
四五十五七日(進二退二)五分(四進強一退弱)五十七八日
退二六十(六十又一分一分當日退)九日退五五十八十
日退八五十三十一日退十半四十五
十二日退十二半三十四半十三日(餘五百九十九已上)
(入蝕限)退十三半二十二十四日退十四少(三退強三)
(退弱)八半
求月入交去日道遠近術
置所入日差并後差半之為通率進以入日餘減總法
以乘差總法而一并差以半之退者半入餘以乘差總
法而一皆加通率為交定率乃以入餘乘定總法乃進
退差積滿十為度不滿為分即各其日月去日道度數
每求日道宿度去極數其入七日餘一千七十六竒二
十八少已下者進已上盡全餘二百六十三竒二百七
十一大者退八十四日如交餘竒已下者退其入已上
盡全餘五百二十七竒二百四十二半者進而終其要
為五分初則七日四分十四日三分末則七日後一分
十四日後二分雖初強末弱差率有檢月道一度半強
已下者為沾黃道當朔望則有虧遇五星在黃道者則
相侵掩
求所在宿術
求夜半入交日十三算者及餘以減中日及餘不盡者
以乘其日離定程總法而一為離分滿程為度以加其
日夜半月所在宿度算及分求次交準此各得其定交
在所度置前後定交所宿度算及分半之即各表裏極
所在宿度及分
求恒朔望汎交分野
因天正恒朔夜半入交分以天正恒朔汎交分求望汎
交以實望加之又加得次月恒朔汎交分滿約終及竒
去之次求次朔以虧望加之
求朔望入常交分術
以入氣盈朒定積盈加朒減其恒汎交分(滿若不足進退約終)即
其常分交
求朔望定分術
以六十乘定遲速以七百七十七降除之所得為限數
速減遲如常(其數朔入交月在日道裏者以所入限數減定遲速餘以速減遲加其定交分而出日)
(道表者為變交分加減不出日道表即依定交分求蝕分其變交分出日道表三時半内者檢其前後月望入)
(交分數多少依月虧初復求定蝕術注消息心定蝕不一)
求入蝕限術
其入交定分如交中已下者為月在外道交中已上者
以交中減之餘為月在内外分如後凖已下前準已上
者為入蝕陽則月蝕朔入限月在裏者日蝕入限如後
準已下者為交後分前凖已上者及減交中餘為交前
後分以一百一十二約之為交時
求月蝕所在辰術
置望日不見刻六十七乘之十而一所得若蝕望定小
餘與之等已下又以此得減總法餘與之等己為蝕正
見數定小餘如求律氣應加時法得加時所在辰月在
衝辰蝕若非正見者扵日出後日没前十二刻半内求
其初末以候之(又以半總減蝕定小餘不足減者半總加減訖以六乘之如辰率而一命起子)
(半算外即月蝕所在辰)
求日蝕所在辰術
置有蝕朔定小餘副之以辰率除之所得以艮巽乾為
次命退算外不滿法者半法減之無可減者為初所減
之餘為末初則減法各為差率月在内道者乃以十加
去交時數而三除之以乘差十四而一為差其朔在二
分前後一氣内即以差為定近冬至以去寒露雨水近
夏至以去清明白露氣數倍之又三除去交時數增之
近冬至艮巽以加坤乾以減近夏至艮巽以減坤乾以
加其差為定差艮坤加副巽乾減副月在外道者三除
去交時數以乘差率十四而一為之差艮坤以減副巽
乾以加副各加減副訖為定副小餘如求律氣應加時
術即日蝕所在辰及少太其求入辰刻以半辰刻乘朔
辰率而一得刻及分若蝕近朝夕者以朔所入氣日出
没刻校蝕所在知蝕見不之多少所在辰為正見日月
蝕既在起復初末亦或變常退扵見前後十二刻半候
之
求月起復依蝕分後術
求月在日道表朔不應蝕凖朔在夏至初日去交前
後二百四十八分為初凖已下加時在午正前後七刻
内者食朔去夏至前後每一日損初準二分畢扵前後
九十四日各為每日變凖其朔去交如變凖已下加時
如前者蝕
又以末凖六十減初凖及變凖餘以十八約之為刻凖
以并午正前後七刻數為時凖加時凖内去交如末凖
已下並蝕又置末凖每一刻加十八為差凖每加時刻
去午前後如刻凖已上交分如差凖已下者並蝕
自秋分至春分去交如末凖已下加時
南方三辰者亦蝕(凡定交分在辰前後半時外者雖入蝕凖前為蝕)求日在日
道裏朔應蝕而不蝕準朔在夏至日去交一千三百七
十三為初準已上加時在午正前後十八刻内者或不
蝕朔去夏至前後每一日益初凖一分半畢扵前後九
十四日各為每日變準以初減變餘十而一為刻凖以
刻減午正前後十八刻餘十而一為時凖其去交在變
凖已上加時在凖内者或不蝕
求月蝕分術
置去交前後定分交分前後皆去二百二十四春交後
去一百交前去二百夏不問前後去五十秋交後去二
百交前去一百不足去者蝕既有餘者以減後凖一百
四而一餘半已下為半弱半已上為半強命以十五為
限得月蝕之大分
求月蝕所起術
月在内道蝕東方三辰(虧自月下邪南而上月從西而漸北自東而漸南)蝕南
方三辰(虧起在下甚扵正南復扵在下)蝕西方三辰(虧自南而漸東月從北而漸西起扵)
(月上邪南而下)月在外道蝕東方三辰(虧起自月下邪北而上虧起東而漸)
(北月從西漸高)蝕南方三辰(虧起在上甚扵正北復扵右上)蝕西方三辰(虧自北而)
(漸東月從南而漸西起扵月上邪北而下)凡蝕十二分已上皆隨黃道所在
起復扵正傍逆順上下每過其分又道有升降每各不
同各隨時取正
求日蝕分術
月在内道者朔入冬至畢朒雨水及盈秋分
畢大雪皆以五百五十八為蝕差(自入朒春分已後日損六分畢)
(扵白露)置蝕去交前後定分皆以蝕差減之但去交分不
足減者皆反以減蝕差蝕為不蝕餘自入朒小滿畢扵
小暑加時在午正前後七刻外者皆不餘蝕餘一時三
刻内加不蝕餘一時朒大寒畢朒立春交前五時外大
暑畢盈立冬交後五時外皆云不蝕蝕餘一時五時内
加一時諸加時辰差應減者交後減之交前加之應加
者交後加之交前減之但不足減去者蝕既加減入不
蝕限者或不蝕其月在外道者冬至初日無蝕差自後
日益六分累計以為蝕差畢扵朒雨水自入朒春分畢
於盈白露皆以五百二十二為蝕差(自入盈秋分已後日損六分畢扵大)
(雪所損之餘為蝕差)以蝕差加去交定分為蝕分以減後準餘為
不蝕分各置其朔蝕差十五約之以減一百四餘為定
法不蝕分餘各如定法得一分餘半法已上為半強已
下為半弱減十五餘為蝕之大分
求日蝕所起術
日在内道日蝕東方三辰(虧自日上近北而邪下月漸西北日漸東南)日
蝕南方三辰(虧起右下甚正北復左下月在南而漸東日在北而漸西)日蝕西方三
辰(月漸東北日漸西南虧自日下近西而邪上)日在外道日蝕東方三
辰(虧自日上近南而邪下月漸東南日漸西北)日蝕南方三辰(虧起右下甚正北復左下月在)
(南而漸東日在北而漸西)日蝕西方三辰(月漸西南日漸東北虧自日下近南而邪上)凡
蝕十二分已上起扵正傍各據黃道升降以準其體隨
其所處每各不同(蝕有初末動涉其時隨便益損以定虧復所在之方也)
求日月蝕虧初及復末時刻術
置朔望所蝕大分數為率四分已上因增二五分已上
因增三九分已上因增四十三分已上因增五各為汎
用刻率副之以乘所入率副之以乘所入變增減半總
法而一應速增損減加應遲依其增減副訖為蝕定用
刻數乃四乘之十而以減蝕甚辰刻為虧初又六乘之
十而一加蝕甚辰刻為復末依其定加時所在辰刻加
減命之各其辰其月蝕甚初末更籌因其日月所入辰
刻及分依前定氣所遇夜刻更籌術求其初末及甚時
更籌迦葉孝威等天竺法先依日月行遲疾度以推入
交遠近日月蝕分加時日月蝕亦為十五分去交十五
度十四度十三度影虧不蝕法自此已下乃依驗蝕十
二度十五分蝕二分少強以漸差降自五度半已上蝕
既十四分強若五度無餘分已下皆蝕盡又用前蝕多
少以定後蝕分餘若既其後蝕度及分即加七度以為
蝕度若望月蝕既來月朔日雖入而不注蝕若蝕半已
下五分取一分若半已上三分取一分以加來月朔蝕
度及分若今歲日餘度及分然後可驗蝕度分數多少
又云六月依節一蝕是月十五日是月蝕節黑月盡是
月蝕節亦以吉凶之象警告王者奉順正法蒼生福盛
雖時應蝕由福故也其蝕即退更經六月欲蝕之前皆
有先兆月欲有蝕先月形摇振状若驚懼月兔及側月
色黃如有憂状自常暈月初生時光不顯盛或極細微
日欲有蝕先日形搖振極如驚懼狀或光色微昧不赫
盛或黎慘日月蝕先同候光隕墜或旦暮際有赤色起
如火燒金銀珠玉諸寳失光或有(闕)盡如雲入日或有
黑盡入月鳥聲細隱烏不顯亮雲交擾擾光景渾亂忽
極令諸乳卒竭月濕如汗狀日形段裂無光犬嘷猫呌
虹見有聲三辰失(闕)月時有缺水赤色有膩十四日十
五日辟鳥圓集者亦是蝕之先候此等與中國法數稍
殊自外梗槩相似也
步五星術
五星(奇率皆百)總率竒伏分奇
五星終日餘竒
求五星平見術
各以伏分減總實餘以其星總率去之不足去者反減
其餘總率餘以總法約之為日不盡為餘竒即所求年
天正恒朔夜半後星辰夕平見日算及餘竒(天正定朔進退日者)
(進減退加一日為定朔夜半後星平見日及餘竒其金水二星先得夕平見其滿見伏日及餘者去之餘為晨)
(平見日及餘竒)命見日天正歷月大小以次去之不滿月者為
八其月命日算外即晨夕平見所在月日及餘竒
求後平見在日月術
各以其星終日算及餘竒如前平見所在月日算及餘
竒竒滿竒率從餘餘滿總法為日去命如前即後平見
所在月日及餘竒(其金水二星加夕得晨加晨得夕)各半見餘以同半
總
求五星常見術
各依其星平見所入恒氣計日損益分滿半總為日不
滿為分以損益所加減訖餘以加減訖平見日及分即
其常見日及分星日(初見去日度平見入氣歷)加減日(損益率)歲星
初見去日十四度見入冬至畢小寒均減六日(自入大寒已後)
(日損六十七分自後日加八十九分)見入春分初日依平入立夏畢小滿
均加六日(自入芒種已後日損益八十九分)入夏至畢立秋均加四日
(自入處暑已後日損一百七十八分)入白露初日依平均(自後日減五十二分)入小
雪畢大雪均減六日熒惑初見去日十七度見入冬
至初日減二十七日(自後日損六百三分)入大寒初日依平(自後日加)
(四百二分)入雨水畢榖雨均加二十七日(入自立夏已後日損一百九十八分)
入立秋依平(自入處暑已後日減一百九十分)入小雪畢大寒均減二
十七日鎮星初見去日十七度見入冬至初日減四
日(自後日益八十九分)入大寒畢春分均減八日(自入清明已後日損五十九分)
入小暑初日依平(自後日加八十九分)入白露初日加八日(自後日損)
(一百七十八分)入秋分均加四日(自入寒露已後日損五十九分)入小雪初日
依平(自平後日減八十九分)太白初見去日十一度夕見入冬
至初日依平(自後日減一百分)入啟蟄畢春分均減九日(自入清明)
(已後日損一百分)入芒種依平(自入夏至已復日加一百分)入處暑畢秋分
均加九日(自入寒露已後日損一百分)入大雪依平晨見入冬至依
平(自入小寒已後日加六十七分)入立春畢立夏均加三日(自入小滿已後日損)
(六十七分)入夏至依平(自入小暑已後日減六十七分)入立秋畢均加三日
(自入小雪已後日損六十七分)辰星初見去日十七度夕見入冬至
畢清明依平入榖雨畢芒種均減二日入夏至畢大暑
依平入立秋畢霜降應見不見(其在立秋及霜降二氣之内多去日十八度外)
(三十六度内有木火土金一星以上者亦見)入立冬畢大雪依平晨見入冬至
均減四日入小寒畢大寒依平入立春畢啓蟄均減三
日(其在啓蟄氣晨無水火土金内去日度如前一星以上者不見)入雨水畢立夏應見
不見(其在立夏氣内去日度如前晨有水火土金一星已上者亦見)入小滿畢寒露依
平入霜降畢立冬均加一日入小雪畢大雪依平
求五星定見術
各置其星常見日消息定數半之息減消息如常見日
即為定見日及分(五星休王各不同喜怒盛衰大小尤異苟變扵常見或先後今依日躔遲)
(速考其行度其格以去日為之定凖)
求星見所在度術
置星定見日夜半日所在宿度算及分半其日躔差率
定見餘半總而一進加退減定見餘以加夜半度分乃
以其星初見去日度數晨減夕加之即星初見辰所在
宿度等及分行星術
各置其星初見日消息定數半之息加消減其星初見
行留日率(其土木三日出不湏加減即依本術其加減不滿日者與見通之過半後一日無半不後)
(論乃依行星日度之率求日之行分)
求初見日後夜半星所在術
置其星定見餘以減半總以其星初見行分乘之半總
而一以順加逆減星初見定辰所在度分加之滿法減
之不足進退一度依前命之算外即星見後夜半所在
宿度及分(自此已後每依其星計日行度所至日度及益疾皆從夜半為昭辰有少隨所近也)
轉求次日夜半星行所至術
各以其星一日所行度及分順逆加減之其行有小分
者以日率為母小分滿母去之從行分一行分滿半總
去之從度一其行有益疾益遲者副置一日行分各以
其差遲損乃如之留者因前逆則依減順行出斗去其
分逆行入斗先加分訖皆以程法約行分為度分各得
每日所至(其五星後順留退所終日度各依伏度求其去日遠近消息日度之以定伏日所在若注)
(歷其日度及金水等皆棄其分也)
求平行度及分術
置定度率以總乘之以有分者從之以日率除之所得
為一日行分不盡小分滿其行分滿半總為度即是一
日所行度及行分小分置定日率減一日以所差分乘
之二而一為差率益疾者以差率減平行分益遲者以
差率加平行分即是初日所行度及分星名星行變日
初行入氣歷行日率行度及度分率(損益率)歲星初順
差行一百一十四日行十八度(五百九遲一分先疾日益十四日)前留
二十六日旋退西行差行三十日退六度(十二分先遲日益疾二分)
又退西行差行四十二日退六度(十二分先疾日益遲二分)後留二
十五日後須差行一百一十四日行十八度(五百九先進遲日益)
(疾分日盡而夕伏十四日)熒惑初順入冬至初日率二百四十三
日行一百六十五度(自後三日損日及度各三)小寒初日二百三十
五日行一百五十四度(自後二日損日及度各三)榖雨四日平(畢小滿九)
(日)一百七十八日行一百度(自入小滿九日已後二日益日及度各一)夏至
初日平(畢六日)一百七十一日行九十三度(自入夏至六日已後三日)
(益日及度各一)立秋初日一百八十四日行一百六度(自後一日益日)
(及度各一)白露初日二百一十四日行一百三十六度(自後五日)
(益日及度各一)秋分初日二百三十二日行一百五十四度(自後)
(一日益日及度各一)寒露初日二百四十七日行一百六十九度
(自後五日益日及度各二)霜降五日平(畢立冬十三日)二百五十九日行一
百八十一度(自入立冬十三日已後二日損日及度各一)復冬至初日二百
四十二日行一百六十五度各依所入恒氣平者依
率自餘計日損益名為前疾日度定率(其前遲及留退入氣有損益日)
(度者計日損益皆同此疾之法以為遲留旋退定日疾之率也)
求變日率術
此疾入大寒六日損日率一畢雨水入春分畢立夏減
日率十入小滿初減日率十後三日損所減一畢芒種
依平若入立秋三日益日率一畢處暑入白露畢秋分
均加率十入寒露初加率十後一日半損所加一畢氣
盡依平
求變度率術
此疾若入大寒畢扵啓蟄立夏至大暑氣盡霜降畢小
雪皆加度率四清明畢榖雨加率度十二初行入處暑
減日率六十度率三十别為初遲半度之行(行盡此日度乃求所)
(減之餘日度率續之為疾)入白露畢秋分(四十四日行二十一度)皆為初遲半
度之率初行入大寒畢大暑差行先疾日益遲一分各
如上法求其行分(其前遲後遲日率既有增損而益遲益疾差分皆檢括前疾末日行分為前)
(遲初日行分以前遲平行分減之餘為前遲總差後疾日分為後遲末日行分為後遲日行分減之餘為後總)
(差減為後别日差分其不滿者皆調為小分遲疾之際行分衰殺不論所差多者依此推算若所差不多者各)
(依本法)前遲順差行入冬至六十日行二十五度(先疾日益遲二)
(分自入小寒已後三日損日及度各一)大寒初日五十五日行二十度(自後)
(三日益日及度各一)立春初日平畢清明六十日行二十五度(自入)
(穀雨别減一氣)立夏初日平畢小滿六十日行二十二度(自入芒種)
(别益一度)夏至初日平畢處暑六十日行二十五度(自入白露已後)
(三日損一度)秋分初日六十行二十五度(自後一日益一日半益一度)寒
露初日六十日行二十五度(自後二日損一度)立冬一日平畢
氣六十日行十七度(自大雪已後五日益一度)大雪初日六十日行
五十度(自後三日益一度)前留十三日(前疾減日率一度以其數分益此留及後遲日)
(率前疾加日率者以其數分遲日率)旋退西行入冬至初日六十三日退
二十一度(自後四日益一度)小寒一日六十三日退二十六度
(自入小寒已後三日半損一度)立春三日平畢啓蟄六十二日退十七
度(自入雨水已後二日益日及度各一)雨水八日平畢氣盡六十七日退
二十一度(自入春分已後二日損日及度各一)春分四日平畢芒種六十
三日退七十度(自入夏至已後六日損日及度各一)大暑初日平畢氣盡
五十八日退十二度立秋初日平畢氣盡五十七日退
十一度(自入白露已後二日益日及度各一)白露十二日平畢秋分六十
三日退七十度(自入寒露已後三日益日及度各一)寒露九日平畢氣盡
六十六日退二十度(自入霜降已後三日損日及度各一)霜降六日平畢
氣盡六十三日退十七度(自立冬已後三日益日及度各一)立冬十一
日平畢氣盡六十七日退二十一度(自入小雪已後二日損日及度各一)
小雪八日平畢氣盡六十三日退十七度(自入大雪已後三日益一)
(度)後留冬至留十三日(自後二日半益一日)大寒初平畢氣盡留
二十五日(自入立春已後二日半日損一)雨水初留十三日(自後三日益一日)
清明初留二十三日(自後一日損一日)清明十日平畢氣盡留
十五日(自入白露已後二日損一日益一日)秋分十一日無留(自入秋分十一日已)
(後一日益一日)霜降初日留十九日(自後三日損一日)立冬三日平畢
大雪留十三日後遲順差行六十日行二十五度(先疾日益)
(疾二日前後疾加度者此遲依數減之為定度前疾無加度者此遲入秋分至立冬減三度入冬至減五度復)
(留定日朒十三日者所以朒日數加此遲日率也)後疾冬至初日率二百一十
日行一百三十一度(自後一日損日及度各一)大寒八日一百七十
二日行九十四度(自入大寒八日已後一日損日及度各一)啓蟄平畢氣盡
一百六十一日行八十三度(自入雨水已後三日益日及度各一)榖雨三
日一百七十七日行九十九度(自入榖雨後三日益日及度各一)芒種
十四日平畢夏至二百三十三日行一百五十度(自入夏至)
(已後十日益日及度各一)小寒五日二百五十三日行一百七十五
度(自入小暑已後五日益日及度各一)大暑初日平畢處暑二百六十三
日行一百八十五度(自入白露已後二日損日及度各一)秋分一日二百
五十五日行一百七十七度(自入秋分一日已後一日半復日及度各一)大
雪初日二百五十日行一百二十度(自入秋分三日益日及度各一)冬
至初日復二百一十日行一百二十七度其入恒氣
日度之率有損益者計日損益並同前疾之法以為後
疾定度之率
求變日率術
其前遲定日朒六十及退行定日朒六十三者皆以所
朒日數加此疾定日率前遲定日盈六十三後留定日
盈十三者皆以所盈日數減此疾定日率加減訖即變
日率
求變度術
其前遲定度朒二十五退行定盈十七遲入秋分至冬
至減度者皆以所盈朒減度者皆以所盈朒減度數加
此疾定度率前遲定度盈二十五及退行定度朒十七
者皆以所盈度數減此疾定度率加朒減訖即變度率
初行入春分畢榖雨差行先進日益疾一分初行入
立夏畢夏至行半度(六十六日行二十二度)小暑(五十日行二十五度)立秋
畢氣盡(二十日行十度減率續行並同前疾初遲法)損益依前求其行分各
盡度而夕伏鎮星初順差行八十三日行七度(二百九十)
(分)先疾日益遲半分前留三十七日旋退西行差行五
十一日退(三十分)先遲日益疾少半太白夕見順(入冬至畢)
(立夏入立秋畢大雪)一百七十二日行二百六度(自入小滿後十日益一度為定)
(疾初入白露畢春分差行疾日益遲二分自餘平行)夏至畢小暑一百七十二日
行二百九度(自入大暑已後五日損一度畢氣盡)平行(入冬至初日及大暑各畢氣盡)一
十三日行一十三度(自入冬至後十日損一畢已後立春入立秋日益一畢秋分)啓
蟄畢芒種七日行七度(自入夏至後五日益一畢扵小暑)寒露初日三
十三日行二十二度(自後六日損一畢扵小雪)順遲差行三十二日
行三十度(先疾日益遲八分前疾加度疾加度過二百六度者準數損此度)夕留七日
夕退西行一十日退五度(日盡而夕伏)晨初退西行十日退
五度(日退半度)晨留七日順遲差行(冬至畢立夏大雪畢氣盡)三十二日
(先遲日益疾八分自入小滿已後率十日損一度畢芒種)平行(冬至畢氣盡立夏畢氣盡)一十三
日行一十三度(日行一度自入小寒已後六日益日及度各一畢扵啓蟄入小滿後七日損日)
(各一畢立秋)雨水初日二十三日行二十三度(自後六日損日及度各一)
(畢扵榖雨)處暑畢寒露無此平行(自入霜降後五日益日及度各一畢大雪前遲行損)
(度不滿三十度者此疾依數益之)疾行一百七十二日行二百六度(處暑)
(畢寒露差行先遲日益疾一分餘平行行日盡而晨伏)辰星夕見順疾一十二
日行二十一度六分(日行一度五百三分)大暑畢處暑一十二日
行一十七度二分(日行一度二百八十分)平行七日行七度(自入大暑)
(後二日損日及度各一入立秋無此平行)順遲行六日行二度四分(日行二百二十)
(四分前疾行十一度者無此遲行日盡而夕伏)夕留五日晨見留五日順遲行
六日行二度四分(日行二百二十四分自入大寒畢扵啓蟄無此遲行)平行七日
行七度(日行一度大寒已後二日損日及度各一又立春無此平行)順疾行一十二
日行二十一度六分(日行一度五百三分)前無遲行者一十三日
行十七度十分(日行一度二百八十分各日盡而晨伏)
凡五星終日分竒皆扵伏分消遁故扵行星更不别見
武太后稱制詔曰頃者所司造歷以臘月為閏稽考史
籍便紊舊章遂令去歲之中晦仍月見重更尋討果差
一日履端舉正屬在於兹宜改歷扵惟新革前非扵既
往可以今月為閏十月來月為正月是歲得甲子合朔
冬至扵是改元聖歷以建子月為正建丑為臘建寅為
一月命太史瞿曇羅造新歷至三年復用夏時光宅歷
亦不行用中宗反正太史丞南宫說奏麟德歷加時浸
疎又上元甲子之首五星有入氣加時非合璧連珠之
正也乃詔說與司歷徐保乂南宫季友更治乙巳元歷
至景龍中歷成詔令施用俄而睿宗即位景龍歷寢廢
不行麟德歷經今略載其法大端
母法(一百兩大演之數為母法)
旬周(六十六甲之終數為旬周)
辰法(八刻分三十三少半以十二辰數除一百刻得辰法)
期(周三百六十五日餘二十四竒四十八一期之得日及餘竒數為期)
氣法(十五日餘二十一竒八十五少半以二十四氣分竒周得氣法)
候法(五日餘七竒二十八遊分四以七十二候分期周得候法)
月法(二十九日餘十三竒為月法)
日法(日舒月遠乃舒一合朔之及餘竒為日法)
望法(十四日餘七十六竒五十三因為陰後限二分月法得望法亦是月行陰歷後與朔望會交限)
弦法(七日餘三十八竒二十六半四分月法得弦法)
閏差(十月餘八十七竒七十六月法去期周餘得閏差)
没數(九十一餘三十一竒十二四分期周餘四分之得没數)
没法(一餘三十一竒十二以旬周去期周餘四分之得没法)
月周法(二十七日餘五十五竒四十五小分五十九月行遲疾一周之數為月周法)
月差法(一日餘九十七竒六十小分四十一以月周減月法餘得月差)
周天法(三百六十五度餘二十五竒七十一小分十三二十八宿總度數相距總數及餘竒為周天法)
交周法(二十七日餘二十一竒二十二小分十六七分日行隂陽一周交於是日之數為交周法)
交差法(二日餘三十一竒八十三小分八十三分以交周法減月法得交差法)
交中法(十三日餘六十竒六十一小分三分半二分交周得交中法)
陽前限(十二日餘四十四竒六十九小分十六七分月行陽歴與朔望會之限)
陽後限(一日餘十五奇九十一小分九十一六分半月行陽歷後與朔望會之限)
陰前限(二十六日餘五竒三十小分二十五半分月行陰歷先與朔望會之限)
木歲星合法(三百九十八日餘八十六竒七十九小分八十)
火熒惑合法(七百七十九日餘九十奇五十五小分四十五)
土鎮星合法(三百七十八日餘八奇四小分八十)
金太白合法(五百八十三日餘九十一奇七十七小分七十)
水辰星合法(一百一十五日餘八十七奇九十五小分七十)
太極上元歲次乙巳十一月甲子朔旦冬至之日黃鍾
之始夜半之時斗衡之末建扵子中日月如合璧五星
若連珠俱起扵星紀牽牛之初蹤今大唐神龍元年復
歲次扵乙巳積四十一萬四千三百六十算外上驗往
古年減一算下求將來年加一算乙巳元歷法積數大
約如此其算經不錄
舊唐書卷三十三
舊唐書卷三十三考證
歷志二上元甲子距今大唐云云(臣召南)按志于戊
寅及開元大衍皆稱歷經則前行麟德甲子元歷下
亦應有經字又按後文言大衍但云上元距今開元
十二年則此文應云距今麟德元年不須有大唐二
字
沒日法一千七百云云(臣德潛)按此文舊本誤脫於
前文土王日之下今改正
檢律候術氣日(臣召南)按術字應在氣日之下律即
十二律也候即七十二候也氣即二十四氣也日即
冬至影一丈二尺七寸五分以下每節不同之日晷
也舊本於二十四氣之律候日晷錯綜混雜又如檢
盈虛術求朔望弦盈朒減辰所入術及定氣晨前刻
步五星術皆圖表也行數參差不齊今從新書考校
編排勻整
歷變周四十四萬云云(臣德潛)按此文誤脫于前文
及小餘之下今改正
其赤道同太初星距下舊本有推遊交術四字此下
條名目誤連于此者也今改正
艮坤以減副巽乾以加副艮坤新書作艮巽巽乾新
書作坤乾
初行入春分云云(臣德潜)按求變度術中多闕文以
新書證之此段乃言熒惑星度初行入春分之上脱
落甚多又其前脫歲星一段
舊唐書卷三十三考證
