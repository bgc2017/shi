宋史卷七十七
元中書右丞相總裁托克托等修
律歷志第三十
律歷十(觀天歷)
元祐觀天歷演紀上元甲子距元祐七年壬申歲積五
百九十四萬四千八百八算(上考往古每年減一下驗將来每年加二)
步氣朔
統法一萬二千三十
歲周四百三十九萬三千八百八十
歲餘六萬三千八十
氣策一十五餘二千六百二十八秒一十二
朔實三十五萬五千二百五十三
朔策二十九餘六千三百八十三
望策一十四餘九千二百六秒一十八
弦策七餘四千六百三秒九
歲閠一十三萬八百四十四
中盈分五千二百五十六秒二十四
朔虚分五千六百四十七
沒限分九千四百二
閠限三十四萬四千三百四十九秒一十二
旬周七十二萬一千八百
紀法六十
以上秒母同三十六
推天正冬至置距所求積年以歲周乘之為氣積分滿
旬周去之不盡以統法約之為大餘不滿為小餘其大
餘命甲子算外即所求年天正冬至日辰及餘求次氣
置天正冬至大小餘以氣策及餘秒累加之(秒盈秒法從小餘一)
(小餘盈統法從大餘一大餘盈紀法去之)命甲子算外即各得次氣日辰及
餘秒
推天正經朔置天正冬至氣積分以朔實去之不盡為
閠餘以減天正冬至氣積分餘為天正十一月經朔加
時積分滿旬周去之不盡以統法約之為大餘不滿為
小餘其大餘命甲子算外即所求年天正十一月經朔
日辰及餘
求弦望及次朔經日置天正十一月經朔大小餘以弦
策累加之去命如前即各得弦望及次朔經日及餘秒
求沒日置有沒之氣小餘以三百六十乘之其秒進一
位從之用減歲周餘滿歲餘除之為日不滿為餘其日
命其氣初日日辰算外即為其氣沒日日辰(凡氣小餘在沒限以)
(上者為有沒之氣)
求滅日置有滅之朔小餘以三十乘之滿朔虚分除之
為日不滿為餘其日命其月經朔初日日辰算外即為
其月滅日日辰(凡經朔小餘不滿朔虚分者為有滅之朔)
步發歛
候策五餘八百七十六秒四
卦策六餘一千五十一秒一十一
土王策三餘五百二十五秒二十四
月閠一萬九百三秒二十四
辰法二千五
半辰法一千二半
刻法一千三百三
秒母三十六
推七十二候各因中節大小餘命之為初候以候策加
之為次候又加之為末候
求六十四卦各因中氣大小餘命之為初卦用事日以
卦策加之為中卦用事日又加之得終卦用事日以土
王策加諸侯内卦得十有二節之初外卦用事日又加
之得大夫卦用事日復以卦策加之得卿卦用事日
推五行用事各因四立之節大小餘命之即春木夏火
秋金冬水首用事日以土王策減四季中氣大小餘命
甲子算外為其月土始用事日
求中氣去經朔置天正冬至閏餘以月閏累加之滿統
法約之為日不盡為餘即各得每月中氣去經朔日及
餘秒(其閏餘滿閏限者為月内有閏也仍定其朔内無中氣者為閏月)
求卦候去經朔以卦候策累加減中氣去經朔日及餘
(中氣前減中氣後加)即各得卦候去經朔日及餘秒
求發歛加時倍所求小餘以辰法除之為辰數不滿五
因之滿刻法為刻不滿為餘其辰數命子正算外即各
得所求加時辰刻及分
步日躔
周天分四百三十九萬四千三十四秒五十七
周天度三百六十五餘三千八十四秒五十七
歲差一百五十四秒五十七
二至限日一百八十二餘七千四百八十
冬至後盈初夏至後縮末限日八十八餘一萬九百五
十八
夏至後縮初冬至後盈末限日九十三餘八千五百五
十二
求每日盈縮分置入二至後全日各在初限巳下為初
限已上用減二至限餘為末限列初末限日及分於上
倍初末限日及約分於下相減相乘求盈縮分者在盈
初縮末以三千二百九十四除之在盈末縮初以三千
六百五十九除之皆為度不滿退除為分秒求朏朒積
者各退二位在盈初縮末以三百六十六而一在盈末
縮初以四百七而一各得所求以盈縮相減餘為升降
分(盈初縮末為升縮初盈末為降)以朏朒積相減餘為損益率(在初為益在末)
(為損)
求經朔弦望入盈縮限置天正閏日及餘減縮末限日
及餘為天正十一月經朔入縮末限日及餘以弦策累
加之滿盈縮限日去之即各得弦望及次朔入盈縮限
日及餘秒
求經朔弦望朏朒定數各置所入盈縮限日小餘以其
日下損益率乘之如統法而一所得損益其下朏朒積
為定數
求定氣冬夏二至以常氣為定氣自後以其氣限日下
盈縮分盈加縮減常氣約餘即為所求之氣定日及分
秒
赤道入度
斗二十六牛八女十二虚十少(秒六十四)
危十七室十六璧九
北方七宿九十八度少秒六十四
奎十六婁十二胃十四昴十一
畢十七觜一參十
西方七宿八十一度
井三十三鬼三柳十五星七
張十八翼十八軫十七
南方七宿一百一十一度
角十二亢九氐十五房五
心五尾十八箕十一
東方七宿七十五度
前皆赤道宿度與古不同自大衍歴依渾儀測為定用
紘帶天中儀極攸憑以格黃道
推天正冬至加時赤道日度以歲差乘所求積年滿周
天分去之不盡用減周天分餘以統法除之為度不滿
為餘命起赤道虚宿四度外去之至不滿宿即為所求
年天正冬至加時赤道日度及餘秒
求夏至赤道日度置天正冬至加時赤道日度以二至
限及餘加之滿赤道宿次去之即得夏至加時赤道日
度及餘秒(因求後昏後夜半赤道日度者以二至小餘減統法餘以加二至赤道日度之餘即二至)
(初日昏後夜半赤道日度以每日累加一度去命如前各得所求)
求二十八宿赤道積度置二至加時日躔赤道全度以
二至加時赤道日度及約分減之餘為距後度以赤道
宿次累加之即得二十入宿赤道積度及分秒求二十
八宿赤道積度入初末限各置赤道積度及分秒滿象
限九十一度三十一分秒九即去之若在四十五度六
十五分秒五十四半巳下為初限巳上用減象限餘為
末限
求二十八宿黃道度各置赤道宿入初末限度及分三
之為限分用減四百餘以限分乘之一萬二千而一為
度命曰黃赤道差至後以減分後以加赤道宿積度為
黃道積度以前宿黃道積度減之餘為二十八宿黃道
度及分(其分就近約為太半少若二至之宿不足減者即加二至限然後減之餘依術算)
黃道宿度
斗二十三半牛七半女十一半虚十少(秒六十四)
危十七太室十七少壁九太
北方七宿九十七度半秒六十四
奎十七太婁十二太胃十四半昴十一太
畢十六觜一參九少
西方七宿八十二度
井三十鬼二太柳十四少星七
張十八太翼十九半軫十八太
南方七宿一百一十一度
角十三亢九半氐十五半房五
心四太尾十七箕十
東方七宿七十四度太
前黃道宿度乃依今歷歲差變定若上考往古下驗將
来當據歲差每移一度依歷推變然後可步七曜知其
所在
求天正冬至加時黃道日度置天正冬至加時赤道日
度及約分三之為限分用減四百餘以限分乘之一萬
二千而一為度命曰黃赤道差用減天正冬至加時赤
道日度及分即為所求年天正冬至加時黃道日度及
分(夏至日度凖此求之)
求二至初日晨前夜半黃道日度置一萬分以其日升
降分升加降減之以乘二至小餘如統法而一所得以
減二至加時黃道日度餘為二至初日晨前夜半黃道
日度及分
求每日晨前夜半黃道日度置二至初日晨前夜半黃
道日度及分每日加一度百約其日下升降分升加降
減之滿黃道宿次去之即各得二至後每日晨前夜半
黃道日度及分
求太陽過宫日時刻置黃道過宫宿度以其日晨前夜
半黃道宿度及分減之餘以統法乘之如其太陽行分
而一為加時小餘如發歛求之即得太陽過宫日時刻
及分
黃道過宫(太史局吳澤䓁補治有此一叚開封進士吳時舉國學進士程憙常州百姓張文進本並)
(無之)
危宿十五度少入衛之分亥奎宿三度半入魯之分戌
胃宿五度半入趙之分酉畢宿十度半入晉之分申
井宿十二度入秦之分未柳宿七度半入周之分午
張宿十七度少入楚之分已軫宿十二度入鄭之分辰
氐宿三度少入宋之分卯尾宿八度入燕之分寅
斗宿九度入吳之分丑女宿六度少入齊之分子
步月離
轉周分三十三萬一千四百八十二秒三百八十九
轉周日二十七餘六千六百七十二秒三百八十九
朔差日一餘一萬一千七百四十秒九千六百一十一
弦策七餘四千六百三秒二千五百
望策一十四餘九千二百六秒五千
以上秒母同一萬
七日初數一萬六百九十初約八十九末數一千三百
四十末約一十一
十四日初數九千三百五十一初約七十八末數二千
六百七十九末約二十二
二十一日初數八千一十一初約六十七末數四千一
十九末約三十三
二十八日初數六千六百七十二初約五十五
上弦九十一度三十一分秒四十一
望一百八十二度六十二分秒八十二
下弦二百七十三度九十四分秒二十三
平行一十三度三十六分秒八十七半
以上秒母同一百
求天正十一月經朔加時入轉置天正十一月經朔加
時積分以轉周分秒去之不盡以統法約之為日不滿
為餘命日算外即得所求年天正十一月經朔加時入
轉日及餘秒(若以朔差日及餘秒加之滿轉周日及餘秒去之即其朔加時入轉日及餘秒各以)
(其月經朔小餘減之餘為其月經朔夜半入轉)
求弦望入轉因天正十一月經朔加時入轉日及餘秒
以弦策累加之去命如前即得弦望入轉日及餘秒
轉日轉定分增減差遲疾度損益率胐朒積
求朔弦望入轉胐朒定數置入轉餘乘其日算外損益
率如統法而一所得以損益其下朒胐積為定數其在
四七日下餘如初數巳下初率乘之初數而一以損益
其下朏朒積為定數若初數巳上者以初數減之餘乘
末率末數而一用減初率餘加其日下朏朒積為定數
(其十四日下餘若在初數巳上者初數減之餘乘末率末數而一便為朏定數)
求朔弦望定日各以入限入轉朏朒定數朏減朒加經
朔弦望小餘滿若不足進退大餘命甲子算外各得定
日及餘若定朔干名與後朔干名同者月大不同者月
小其月内無中氣者為閏月(凡注歷觀定朔小餘秋分後在統法四分之三已上)
(者進一日若春分後定朔晨昏差如春分之日者三約之用減四分之三定朔小餘在此數已上者亦進一日)
(或當交虧初在日入已前者其朔不進弦望定小餘不滿日出分者退一日望若有交虧初在日出分已前者)
(其定望小餘雖滿日出分亦退一日又有月行九道遲疾歷有三大二小者依盈縮累增損之則有四大三小)
(理數然也若俯循常儀當察加時早晩随其所近而進退之使不過三大二小)
求定朔弦望加時日度置定朔弦望約分副之以乘其
日升降分一萬約之所得升加降減其副以加其日夜
半日度命如前各得定朔弦望加時日躔黃道宿度及
分秒
求月行九道凡合朔初交冬入隂歷夏入陽歷月行青
道(冬至夏至後青道半交在春分之宿出黃道東立冬立夏後青道半交在立春之宿出黃道東南至所衝)
(之宿亦如之)冬入陽歷夏入隂歷月行白道(冬至夏至後白道半交在秋分)
(之宿出黃道西立冬立夏後白道半交在立秋之宿出黃道西北至所衝之宿亦如之)春入陽歷
秋入隂歷月行朱道(春分秋分後朱道半交在夏至之宿出黃道南立夏立秋後朱道半)
(交在立夏之宿出黃道西南至所衝之宿亦如之)春入隂歷秋入陽歷月行黑
道(春分秋分後黑道半交在冬至之宿出黃道北立春立秋後黑道半交在立冬之宿出黃道東北至所衝)
(之宿亦如之)四序離為八節至隂陽之所交皆與黃道相會
故月行有九道各視月行所入正交積度滿交象去之
(入交積度及交象度並在交會術中)若在半交象巳下為初限巳上覆減
交象餘為末限置初末限度及分三之為限分用減四
百餘以限分乘之二萬四千而一為度命曰月道與黃
道差數距正交後半交前以差數加距半交後正交前
以差數減(此加減出入黃道六度單與黃道相校之數若校赤道則隨氣遷變不常)仍計去
冬夏二至巳来度數乘差數如九十而一為月道與赤
道差數(凡日以赤道内為隂外為陽月以黃道内為隂外為陽故月行宿度入春分交後行隂歷秋分)
(交後行陽歷皆為同名入春分交後行陽歷秋分交後行隂歷皆為異名)其在同名者以差
數加者加之減者減之其在異名者以差數加者減之
減者加之二差皆增益黃道宿積度為九道宿積度以
前宿九道積度減之為其宿九道度及分秒(其分就近約之為太)
(半少)
求月行九道平交入氣各以其月閏日及餘加經朔加
時入交汎日及餘秒盈交終日及餘秒去之乃減交終
日及餘秒即各得平交入其月中氣日及餘秒若滿氣
策即去之餘為平交入後月節氣日及餘秒(若求胐朒定數如求)
(朔望朏朒術入之即得所求)
求平交入轉胐朒定數置所入氣餘加其日夜半入轉
餘乘其日算外損益率如統法而一所得以損益其下
胐朒積乃以交率乘之交數而一為定數
求正交入氣以平交入氣入轉朏朒定數胐減朒加平
交入氣餘滿若不足進退其日即正交入氣日及餘秒
求正交加時黃道日度置正交入氣餘副之以乘其日
升降分一萬約之升加降減其副乃以一百乘之如統
法而一以加其日夜半日度即正交加時黃道日度及
分秒
求正交加時月離九道宿度置正交加時黃道日及
分三之為限分用減四百餘以限分乘之二萬四千而
一命曰月道與黃道差數以加黃道宿度仍計去冬夏
二至以来度數以乘差數如九十而一為月道與赤道
差數同名以加異名以減二差皆增損正交度即正交
加時月離九道宿度及分秒
求定朔弦望加時月離黃道宿度置定朔弦望加時日
躔黃道宿度及分凡合朔加時月行潜在日下與太陽
同度是為加時月度各以弦望度加其所當日度滿黃
道宿次去之即各得定朔弦望加時月離黃道宿度及
分秒
求定朔弦望加時月離九道宿度置定朔弦望加時月
離黃道宿度及分秒加前宿正交後黃道積度如前求
九道術入之以前定宿正交後九道積度減之餘為定
朔弦望加時月離九道宿度及分秒(凡合朔加時若非正交即日在黃道)
(月在九道所入宿度雖多少不同考其去極若應䋲凖故曰加時九道)
求定朔午中入轉各視經朔夜半入轉日及餘秒以半
法加之若定朔及餘有進退者亦進退轉日否則因經
為定(因求次日累加一日滿轉周日及餘秒去之即每日午中入轉)
求晨昏月度以晨分乘其日算外轉定分如統法而一
為晨轉分用減轉定分餘為昏轉分乃以朔弦望小餘
乘其日算外轉定分如統法而一為加時分以減晨昏
轉分餘為前不足減者覆減之餘為後以前加後減定
朔弦望月度即晨昏月所在度
求朔弦望晨昏定程各以其朔昏定月減上弦昏定月
餘為朔後昏定程以上弦昏定月減望昏定月餘為上
弦後昏定程以望晨定月減下弦晨定月餘為望後晨
定程以下弦晨定月減後朔晨定月餘為下弦後晨定
程
求每日轉定度數累計每程相距日轉定分以減定程
餘為盈不足減者覆減之餘為縮以相距日除之所得
盈加縮減每日轉定分為每日轉定度及分秒
求每日晨昏月置朔弦望晨昏月以每日轉定度及分
加之滿宿次去之為每日晨昏月(凡注歷日朔日注昏月望後一日注晨月)
已前月度並依九道所推以究算術之精微如求速要
即依後術求之
求天正十一月經朔加時平行月置歲周以天正閏餘
減之餘以統法約之為度不滿退除為分秒即天正十
一月經朔加時平行月積度及分秒
求天正十一月定朔夜半平行月置天正經朔小餘以
平行月度分秒乘之如統法而一為度不滿退除為分
秒以減天正十一月經朔加時平行月積度即天正十
一月經朔晨前夜半平行月其定朔大餘有進退者亦
進退平行度否則因經為定即天正十一月定朔晨前
夜半平行月積度及分秒
求次定朔夜半平行月置天正十一月定朔晨前夜半
平行月積度及分秒大月加三十五度八十分秒六十
一小月加二十二度四十三分秒七十三半滿周天度
及約分秒去之即得次定朔晨前夜半平行月積度及
分秒
求弦望定日夜半平行月各計朔弦望相距之日乘平
行度及分秒以加其月定朔晨前夜半平行月積度及
分秒即其月弦望定日晨前夜半平行月積度及分秒
求定朔晨前夜半入轉置其月經朔晨前夜半入轉日
及餘秒若定朔大餘有進退者亦進退轉日否則因經
為定其餘如統法退除為分秒即得其月定朔晨前夜
半入轉日及分秒(因求次日累加一日滿轉周二十七日五十五分秒四十六去之即每日)
(晨前夜半入轉)
求定朔弦望晨前夜半定月置定朔弦望晨前夜半入
轉分乘其日算外增減差百約為分分滿百為度增減
其下遲疾度為遲疾定度遲減疾加定朔弦望晨前夜
半平行月積度及分秒以天正冬至加時黃道日度加
而命之即各得定朔弦望晨前夜半月離宿度及分秒
(如求每日晨昏月依前術入之即得所求)
步晷漏
二至限一百八十二日六十二分
一象九十一日三十一分
消息法九千七百三
半法六千一十五
辰法二十五
半辰法一十二半
刻法一千二百二
辰刻八餘四百一
昏明分三百太
昏明刻二餘六百一半
冬至岳臺晷影常數一丈二尺八寸五分
夏至岳臺晷影常數一尺五寸七分
冬至後初限夏至後末限四十五日六十二分
冬至後末限夏至後初限一百三十七日空分
求岳臺晷影入二至後日數計入二至以来日數以二
至約分減之乃加半日之分五十即入二至後来午中
日數及分
求岳臺午中晷影定數置入二至後日及分如初限巳
下者為初巳上覆減二至限餘為末其在冬至後初限
夏至後末限者以入限日及分減一千九百三十七半
為汎差仍以入限日及分乘其日盈縮積(其盈縮積者以入盈縮限)
(日及分與二百相減相乘為盈縮積也)五因百約用減汎差為定差乃以
入限日及分自相乘以定差乘之滿一百萬為尺不滿
為寸分以減冬至岳臺晷影常數餘為其日午中晷影
定數其在冬至後末限夏至後初限者以三約入限日
及分減四百八十五少為汎差仍以盈縮差度減去極
度餘者春分後秋分前四約以加汎差為定差春分前
秋分後以去二分日數乘之六百而一以減汎差為定
差乃以入限日及分自相乘以定差乘之滿一百萬為
尺不滿為寸分以加夏至岳臺晷影常數為其日午中
晷影定數
求每日午中定積日置其日午中入二至後来日數及
分以其日盈縮分盈加縮減之即每日午中定積日及
分
求每日午中消息定數置定積日及分在一象巳下自
相乘以上用減二至限餘亦自相乘七因進二位以消
息法除之為消息常數副置之用減六百一半餘以乘
其副以二千六百七十除之以加常數為消息定數(冬至)
(後為息夏至後為消)
求每日黃道去極度置其日消息定數十六乘之滿四
百一除之為度不滿退除為分春分後加六十七度三
十一分秋分後減一百一十五度三十一分即每日午
中黃道去極度及分
求每日太陽去赤道内外度置其日黃道去極度及分
與一象度相減餘為太陽去赤道内外度及分(去極多為日在)
(赤道外去極少為日在赤道内)
求每日晨昏分及日出入分半晝分置其日消息定數
春分後加二千一百少秋分後減三千三百八少各為
其日晨分用減統法餘為昏分以昏明分加晨分為日
出分減昏分為日入分以日出分減半法餘為半晝分
求每日距中度置其日晨分進位十四因之以四千六
百一十一除之為度不滿退除為分即距子度用減半
周天餘為距中度五而一為每更差數
求每日夜半定漏置晨分進一位如刻法而一為刻不
滿為刻分即每日夜半定漏
求每日晝夜刻及日出入辰刻置夜半定漏倍之加五
刻為夜刻減百刻為晝刻以昏眀刻加夜半定漏命子
正算外得日出辰刻以晝刻加之命如前即日入辰刻
(其辰數依發歛術求之)
求更點辰刻置其日夜半定漏倍之二十五而一為籌
差半之進位為更差以昏明刻加日入辰刻即甲夜辰
刻以更籌差累加之滿辰刻及分去之各得每更籌所
在辰刻及分(若用司辰漏者倍夜半定漏減去待旦十刻餘依術算即得内中更籌也)
求每日昏曉中星及五更中星置距中度以其日昏後
夜半赤道日度加而命之即得其日昏中星所格宿次
命之曰初更中星以每更差度加而命之即乙夜中星
以更差度累加之去命如前即五更及曉中星(若依司辰星漏)
(倍距子度減去待旦三十六度五十二分半餘依術求更點差度即内中昏曉五更攅點中星也)
求九服距差日各於所在立表候之若地在岳臺北測
冬至後與岳臺冬至晷影同者累冬至後至其日為距
差日若地在岳臺南測夏至後與岳臺晷影同者累夏
至後至其日為距差日
求九服晷影若地在岳臺北冬至前後者以冬至前後
日數減距差日為餘日以餘日減一千九百三十七半
為汎差依前術求之以加岳臺冬至晷影常數為其地
其日午中晷影定數冬至前後日多於距差日者乃減
去距差日餘依法求之即得其地其日午中晷影定數
若地在岳臺南夏至前後者以夏至前後日數減距差
日為餘日乃三約之以減四百八十五少為汎差依前
術求之以減岳臺夏至晷影常數即其地其日午中晷
影定數如夏至前後日數多于距差日乃減去距差日
餘依法求之即得其地其日午中晷影定數即晷在表
南也
求九服所在晝夜漏刻各于所在下水漏以定二至夜
刻乃相減餘為二至差刻乃置岳臺其日消息定數以
其處二至差刻乘之如岳臺二至差刻二十除之所得
為其地其日消息定數乃倍消息定數進位滿刻法約
之為刻不滿為分以加減其處二至夜刻(春分後秋分前以加夏至)
(夜刻秋分後春分前以減冬至夜刻)為其地其日夜刻以減百刻餘為晝
刻(求日出入差刻及五更中星並依岳臺法求之)
宋史卷七十七
宋史卷七十七考證
律歴志十秒母三十六按前後文例秒母上應有以
上二字應低二格寫
置正交加時黃道日及分按加時上無闕文
宋史卷七十七考證
